version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:05Rqmrn3zTQyWUjSkWmXUaJd74eMKQg=,iv:fMZWYLk26JzH9HukbS+Q2E09ct8firZAm6W3q0Hzmyw=,tag:p2W+vTGvTn8kXe81Fz2ZqQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:VYO7EL+s9BS8eIvwvSjccKmbAVJZraONuJ7g25Z4tEbThGKFVDRvp1tP7mxVti/mLsv864obYnnsWhWM0tlRXUihF6cMPH11qt7IQAHzxcmLrl3yei5ikGqT9V6n5oYY1Oiii6eK04iNwVcxx8XHC0gimVkhNjZHDbCPj3aOWYDLMp8OF10sfuPJrXPLpAIt+ACOYY5u/8yeuHrKf3QJc0l/xt2r616FQ+rBVRJhw5arayXw6PfsK+aHO6vvahTvpTxc76OkzeiV9YaXjsf2qhTC5pMNjdAHRce7DIuPPmT1oQiGrFvq/4wDeKyKtpI0piQFLobX2tJXHbCAljaEE5beLMN6Vba4CdwexJEXIEAryUOdzxyWDJYTorisstuFbeYhEtns9elZRWAiCCzWDNCY7LXaPkaJ/FiDhlZ83TsonPgwdKVKJu+AcVptacYZFaU0J8tA2uTQlA2nx47pLT9kTLVbNdPZjFed5j4jA6TR8en68KiQfbVrNGJH6NjiwE2h6xPeB7VCXL5TG8Svl6ltUAW3/uW2OybLlkF0MjUnh6UAVQUdilkI9AOawNYPRmqGfk+KeeridhYThKvQZbjUhr6sZ0JrY8fUXYlbGV+G5HkFnqgM3/zeYaVuvFfJMkqJD/YBAsov60tiHt+KtrYLwzAd7SDQp2jH+uxRK99dlZZ2KbaK75NLksI0ArQUCCwz9p4whrcHN6JkOm3vZneRg5FxWX38vlbF9O6em3Mid7oHbsJf7gscLznFQIgELH9OEZqhUyQGs6GX7evrfT/zEiRHdaAvo4HoARJGsNfFqvuOmSMlvLxrsd1hBNoju3kAxIIpD/gLKtrs6D5NsKobSCokFGsVJE1kSJ5+VZZ46TQP,iv:5+dVPFverdSY/UhN5QmbVRmqm3HUZq4exZJNrhZRXTA=,tag:o6LuNU8UIuP0PGCJfAqnzA==,type:str]
    key: ENC[AES256_GCM,data:8b8YOrv/DIuckozD0A83ewai3DZJ6IoqyPcBk9SCtpqtqjaivK6EcZTfKqLQ76IJRQeYJ93bmyga0sHejdvzCt6wDeMeodXnZv89KW54CzB3Y/oF1fhit6PTabMJnnstnZlx7PKHH0zFYQ8m1DqyjpQi13Msafma/O/FkG49tMNwUiCOmGDOe0Jk+CRxm1baenw0fw03KnqL/omvU8t603JUmwLvJbOHdhYe02f4FO70gVrU,iv:CYe73dGE7eq7ja2hOhOFDOuZJfd7Gj/12M11tsn+4lE=,tag:YgXYqnpi53hn8PerAl1Grg==,type:str]
  certSANs:
    - 10.1.20.120
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      maxPods: 150
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.20.0/24
    disableManifestsDirectory: true
  network:
    hostname: k8s-0
    interfaces:
      - interface: eth0
        addresses:
          - 10.1.20.10/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.20.1
        mtu: 9000
        dhcp: false
        vip:
          ip: 10.1.20.120
        vlans:
          - vlanId: 40
            dhcp: false
            addresses:
              - 10.1.40.10/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.40.1
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      - net.ifnames=0
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - security=none
    image: factory.talos.dev/installer/1be6923a14b1498bc2930c02b286cbf9d98764032fb6a8659b8fce7c1476262b:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - time.cloudflare.com
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.default_qdisc: fq
    net.core.rmem_max: "67108864"
    net.core.wmem_max: "67108864"
    net.ipv4.tcp_congestion_control: bbr
    net.ipv4.tcp_mtu_probing: "1"
    net.ipv4.tcp_window_scaling: "1"
  sysfs:
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: "1"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:FUQc8hG+62PJo/Js/vuTKWcQZLa5kvaF8yuV/GdGEvn4CTP+B9EsabRZuvM=,iv:6a+bila3El6pRAOvx/aaD/HLwONhbeOQDrddQzHBF+U=,tag:64V6ML1dEIfdw2Xoutg9aA==,type:str]
  secret: ENC[AES256_GCM,data:pJD9I5aEu59UuH8UCsaPHi2bCA+T6kK202m0+xa0IvcF/+/z6gmTomn0BpU=,iv:BQY4+DfFycbRthnmbOSRkFNXOqwfAlN3WZDNExX+8yE=,tag:HCrq7kHHyw1Ab4AHqlWf/Q==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:aVCobbJA8H7OmTO7av6SFatkosmL8ik=,iv:xwFH4gjXbkuNWP7w/ToSEu2kfuUuf9m7dHFHz6kPVgs=,tag:FD4y9fHGeZy2dle4J0jU4g==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:7TKqpOro0WPemz+uEReHnXzKF43RW6qtwm8nCGaARuSri2TIwxSC14GRQ58=,iv:LGRU0UbxzcwILi9QklZycUkEfo7rcFhommbEQUuR/lk=,tag:adFN5xt6WoAINKuYFku+sA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:MF2C2EtBw3tPP53MVUOaq9FCiQylOl7NkvpUlsKTA841vtB4W5FL0VCU+k7ic8Wqj7I86DSWVRs2LIUk1a09EmtQl5Cm/L12R28g4JtUbtzfJQ3tEycN5cEJjofwKTZEYDpZwPFrZrA1E8eEPYvdFzEHsNkHP/2LBzdAQUN4Jj/SfYkAOxpjlJVqzPGYChjdF5vnLIIPzXD9V9f16wyIYWl9ao3nrjDDfsAkr7rNf6oUPoCgeyfkiKwP5Le002u6k+Xv0ObTl4VCF+xYgZu2RcPOKe72J+Ds2f0ZdLoOQHqqBbCgRNwZhoQM0TlxTuHfQZWNzhNXCZwqTzhwuv+qnQgPZa6KpaUzDIUUNE/P1IpSQiRFDQoehoXawHW2LTFbOgpD5Blh7apyQ9qA8BbiXb+M3w7DFiPG95fZmvNBJPd52LbDRWAKckfx3if+m7ja/qL1Ah9Q4j+a9mlRNDyYsUVKF5XvEzujlJXGFsirqsH4Gk2Yb6zlWdT+U+HSnn8ybID2nJNzAGpBvTRbx5rIU02gIayRHbBFeKUBDlJan0SwyroZK0x0v1xF+RjzUmkvvHWEbyBxlWc3Rubq6mZQJzMCX2pXYzc1s6aZ1taNPmo6Oph8HCpPX7iYDHD5oCvI9o6n2HIun39TsS2gqW6JTmZ0JDBSF1CAGR6AFZOjJwEBeC0LmE7wP+m85E0FuKN5T+sXO8A4fkioaxcEAXqqipKWy2esyCfiqSRRSuhKvgna/Yp6x2l5+G4wh1h6ikhL2gih0sKLGdc02kNuhij5eHEn7ks4Ys7zk9ykhabkhZyyOUNN38XmMcWlOcsBe/ZAD4I5kYXJ+z3CdYz89LY3KANF03eYD1XlJxoOYkHOcRd71b7MRfM09B6tT9wtp92d/5+kRGkQa8DH9k0hLeFqtgZqC+ayWZrRinbsJtXJxi1mGNnKU34+XcawD4b/QTRhE4DxHbruCrDVQjh9PtJYN+88uniG4ddJ4ltKjB/JIZurQqyFl4IFoOyz0cnqlQXNmtpgCUWGQEmsD788ZMC7+gxIsWX2U5mtabzHOg==,iv:Jq19+YZOSnkK4Jwi2bYruepIDTWx4PjrL5sGk7QGqMs=,tag:pZWTLJ7rHnDPRcd1nj6oKw==,type:str]
    key: ENC[AES256_GCM,data:XGG1g+lQYsASXQuX9WbU2b8sUMGWwOGpFNMm/q41OJsalMfinmIAZ6rL1+nXcNJ8P+5htOpQyHZXoO8yWA6QWT4m5xjvE7u+WOpX+n3PtPbl6RAXXIVRIzBxB3aaS5sU8mQhP/5jbBdH/TMJfsXVha0+wjpZ5ZiuEUhJPtVBxsMR6E8O7VPOswOBLLaj6jQn++5NHgcOehr/8ClYe/HELAgYLGmVOk0NBXV0wXa9LeGeCy9UozHVm8pCspIh+N8WkqSSP+gmObpp5BVjzJC3kcDHsLI3ZkPrCryN5EGorolhc1pYT7e3OsTzf5zhZS8KlsQUDa9jTrB7e15CArkcVWayHN+YaJ95m/RhW4u5c632gDZZZWOM9fil3J/LYbbtbd1sKeDG4X5kDG2T6yW0Sg==,iv:TOiWjGZi1Gd3he76twy8wjInG3hm+ZILTh+idHCuxOo=,tag:71n3dGghLcui8RxXqfcTiQ==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:DYShJA6Oeg3l5DZu2P8lDiHa9NpW+R25XBBmKQk0JMT/kTSlBfipi2XZr6Ca7d/2q/Pr9d1IhFIjHZ9L15ZZk8ofw4icfpFyJ7pDs+f0ek8RSCVXR6qFQMlpWxnOOwV8dwI8ovxNPA7A16h7nnzQ5Tfxw3NuqhDM0AV1IjpB8+RRa93L1GjD5IDd1GBm4Ir/xFTZinMQZHpO1KVlzAirRx6IyKxzYWDlvCdN5H3JG0ffPE3bx6lzY4Mxfd0lLZkLcH/NKXOgL3qbvMSkmoaBvxfo/Gmt/IT5SPJnmyqAgI/okGBbbil9ADziYPOaomBT2BsVoP//S6kTZAkR67DvJUiuPzJsvHmJjDjphK9MyJTK1vld6Y3lDPz2HDWAHMZkVUd2KVwCB2pHzaERMWx/jJh9ph8WYEygNraP4f7dJ9OLdZIlbNhKHiar3JD3DZqiteeRZ9/dNlZXYqK1xqUYLZmrdG1x+M6StKz5+REpkzMdhAXyA0eXcRSOxHrxWAUZVqOQfHyIxe0mU+a++C0gSpas1UJGuE9fHixwPP5OWfmRj3d+o17uXs+VTtV8zfuaZilyWCJfrH/FnylrLQ9FPl6SyCXc+5cH1Z6Kp5RLQgTTp+iUqaDENhVauZXehVtjmHPfhlxMbs0RVb3v2sQqlf8wZVpyB49CQ6i4zh6l5JF/6EVT4oZKjp53AHftv3NtjGzw+uoW/oWluBVNJEJuiD/M3aruX473P0WcKfs8AotNm+1e2vWjdPH3hAuCdkBqpIH49MEUcody7wOcbSE6vk6Mmm4lVYCsjXkDyoL9GhSNzNLF574WFOo/x15RkrAOPgppeh7oTN+1MAS4PB3icbfwgo+TzEOTTVALmGCll1CZ2eGE0WjoocIQhU2Hj6Nc+NLUedbK63nWQlEmbdkJbFnZ7alMjcNTHRPC17DkOAm6vDRHXRiQjw==,iv:qRIDDsODNZZLZKCE/N9eubgMZK0hyyFeTWVrJ2rpn8U=,tag:XPeyCSh5biS/yZEY4y4CBg==,type:str]
    key: ENC[AES256_GCM,data:7J3jxPfNUysqGqM6QjNm/3wBqdwxxm71e7tN5y+5VSzCpdm0JiA0dEKpxInpj7PckfAdl8l5N7e15zTdzuanaO7Ct7GO1Ly7M7/YZ1hVSr2cY3u8HAhyo/p+BuxO5M3tgRGiS4lUvfspJOjxN0+U6nKu7Ix2iPrd+ipCKP9dO5QRtnmUx6B636qdbY8xhUT6OKev2eU8MdtgFMMSWZ+UpRr34H5RnSCEJlVEB56InLWLOkGDLU0/2C+vw1f7dQJpSuuAmaoJppsGEh1xoq7qeVIZS/tENySzOHeUNZNJ3TIBOerO/X97spfuaBVZZ3TlQRLxgOF2kBymZ3RK6kgzohYJpyB5Q/YQtErZ3ldzWuaRVDpPx0Gy4wjWV3lO+P/dmcelUVlIFlAWV3l2XySiEQ==,iv:Y+C8XuATaOWD19xUQrTLJ48PoV25l23OazWQpYA5N5g=,tag:9shwztaS3zDlh/E3wxYdzA==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:u4HEluWgI3LL0JqmVovjZWqcInPsI3CtfhQA2J7Pl3g=,tag:RlUsmghUTffwKfdtmVrJtQ==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
      feature-gates: MutatingAdmissionPolicy=true
    certSANs:
      - 127.0.0.1
      - 10.1.20.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:iodute3ynbOl83OHoGK9302QvEqbFDXyd2d9qjBPR/MatbTNpTRRyioaHwZ/L80U4VOi6c4ExnPF8WcIik7w8f6CSKLFNXwBi+zR+Q2jqdeuxa/ymtRBoKphOHTTcBBYSpJjQ5ZGaMzL/oMbBMfBqOVvCZhWhOgasyH74zkRLjRe312bN3TnYdtPjdbaBfunXJySy/jEDxNqxzHKpQicuc2zXj5vLMjYBcEszIr+WDBCQUEuC0NlFq1bZKnyQeK087P6y6LZQjcE7SsIQ+1as7YXV1CIlE5w6REr6Ff8RSz1nIhqAiqQIYQYBQd+hdL9LHd6zogED1d+g3apMpEqtDt0CQz6/rGj8RREMxHCmp1jF1ZRMxGsQr9cZ5HWYNY0kUDl/AWPsuoKMd3BGyO1RzLx5Qhtbm+sSt0OwwjViIwA4RUZ9JQ2RRJKuryctmnzlo5zBpePH6ZLyv2tfsGBI3z8vg6QZvD4ias8xBdsd+3Lom498CBMp2SUde0ahNz3UqSBJvfsL88SDi2lBoVDsdnX2TaAXjOGzzz0Q3vCSoNgU4jHSrhLCyx6by2PY9k/OMu0aykgruNC+TUECjBohRwyAUPCCRRa3dvPHBWG3CLp7HrMu7ihokgrC92NVpREi+JcV79mH0ouSjmDlusTvWdP56gr0wH0PXUviObB+25Uhn9i7l4WDUmk99Fc+12hILygB2UDxbvPIjpG/6MyxOMvyZYtcAyA56SwuZ7j+/awA7T/gjTKCBgel/CptSKxj6N8tVklvuTPWw7CB6CdIZ2XUwuflXln9SoChjKKnEVHO5RgfgXGIDZdhl77ELzDbDSNiPmo/rPQ9+BshYOXI9wjP8+hk5rqT/xc2gy0tx2zrHVjuWly6ghFI/HcWJ0uVk3vynLI12E8jTxKTNTKTtM5INUkWpldqStjf29nSOPC3SJKIad8CbiIGGzDQ8YoEweptmq2X0s+EjN13IiJhAqWh05y5qY6FvhXGW34eYlK5A7DhLhciOOXTS9qnANtwxVK2g==,iv:9HCo7f4unRUPk8XvJQEjp/tOIubYJ9AqLM5LAwrr/l0=,tag:PTovSNtgY/7mhjy6t7kh4Q==,type:str]
      key: ENC[AES256_GCM,data:G5MIZ3vUzUreLxrd8O+gTvCxFukwXKyhuqqI5VVvHM43oOmlFHA0yCZDjm1+9JywruY69NmMyWfE6iwD6zfGjssEkiA92swwehKo0pv2mQkcnY/Y/Uv8b3v+9rWb/LcmEq2sDUs7GGhtt0T2APATE7rWdxxs/vbWpOgK63bQoUGHnDsE0dKLvHU5ZwRLn6uW/BaYo28obs7WLM5vCB7vdI4xPtNziWLOhph9hj7MH8uoHeB9wpg9cS/eYiVD4QIYICwpKK63Pyw6p8qkb+qQxAvlnxvBNtXNiVwV1gx7yKOd/p132YXR09ICRKFU5ON8EGdMIn5Dv5C3bOam9Vfg2Mk4bh8J2/qhMZDZKcvyNiB20ldyJp0C/NZ2PtX8Heb+U14vXVtsy2YB7uC99fc4Xw==,iv:kXEOLsq2npXrazLAnIaPK5ZmMds7bo7AtH9P1glMjFY=,tag:+2yyfCVAuEnTyQoheinktg==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA4RU9CM0o4OEFPTjh0N0Zz
        UTN6K3JHTmpRSDBDb3FDRlVmWHR1WFdHRTNzCnhIa1NYTHpuVUFZTTNpalV6QndH
        QjB0YnNyV0pSWHBrQ3l0SjdFRDhsSzAKLS0tIDdGdnF3NmZXczlaT2VLY0Fra1RD
        Mk03WGFwZGxUYjE5RTVRaEFzVWEvSXcK9+9WiHDKikYZQsSsvaNJwSarnuu2aysw
        cCyK1fbg+SIvL6M0Fi2rkf8WwCkWnvWO9eQoX8RexoIfUNVSdzShPw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-31T20:06:41Z"
  mac: ENC[AES256_GCM,data:OykwyMINyVABgbvz41bcrC+6Dvz5sRtt1ZYsGpt3mGhybd97Xc2xPw0gGjvYpeolelCB99NqHWthVkdrq2J2+svByXwTUCxw7I3ZWw+slfYmReJV9KjaqxpKzdmX0Xe7x1ij+pES9mpYBOfmYiDi8tRvSiDx4n/ivvR4uShxm74=,iv:DugT/FDg4w46yjiTmJUWKeZJjW35boLm5dcXiZXoZhs=,tag:iWGED5VRRO2RbZnpS7SAJw==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
