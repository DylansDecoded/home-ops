version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:JqtS3FaQiMnLTR5fUxR7Z9BNici5JSI=,iv:0tNpunw7h32uJvkjH3R7SZoakHETW+64NWDnbSvR7r4=,tag:jizeCjDBLKdnSNinvs78ig==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:2YylV+NdaSPvcDbhM+0W6+hFAtUHO+KJV58vjaVB9+JtDbK7vDkvZNq6RILKj8ukuc391SWNAa5xefkmsa7XLV0BY2wf6WlZjOOGFWc5i/lYS5U3dyZgRKto4pDF78JQoGfj6nqdzPEI16g0sPm55DbzIHGYvN8AdqZSvwAknJUFbeCXiAm+SLwnFKHLCmO9Krn2krekaCwoGpV32Y2FuftkzvHTRcSOuSVXO21LugcFyklPMsFOaglWFFv9I82c5D/FYPZ0coFcENqr5jsQmFY6alqTf/Ezad5Lp9m0aybBafHRIAHtUmvCWCwe/RA9ose7hZ2Hh6ptFamRTRY5SHoiENeFuz1ea+gwoXJ2a2tcUyJGmU04xJIlsHcpbqKPzTxhKQ2Zf2CW40On3LflArdoAyI96F0rTzsFJG7N2O01VTWGgEW4HHXNK2bVKvJFnDEdoZkoe8UmzZ8AOkwV4bmmKnJZdltiynRlJlfYSsJJam22+Wpjl29tOtNO5K3+GCrmiH/iTnI5rF8xTvFh3mFUClifzo+0HdURvvIfbQ6bf+I3bGdCKd0F8LsuWrvBlegzl46NRWVtSAB6v693+VqnBaLFMP6I4K8iQhnPJYMQ3YGt+ZU2/rQzw2FO6QaTYNxmOsw4lyylEkCDZdb0EGv9Rnsl82Sz0TLUekF/rZabfgxidX5O2kMHJ8svGSIgV8VboJ6tKsMiGda2Q1Z9aT0iIqOhbDJ2CsP6/jaPtEFMIZVX1pbyE7pA95WS/N0ftKPkXzn5HnnkoswdPEORLwlSWVVtn80+PzyxQA/aocNbqmt/pIhPZjIT3Uvu5wzpeVY4KFWBtdXDhPEeVRIAIQZTYKJ1vxdJ43wHXaxY4YSe6G6k,iv:G7BfFIDl0r+sdUI+av5TD/HMKY2wp+MNczxVecXpQKs=,tag:OWqmUNiZz546aE8sPaOr8g==,type:str]
    key: ENC[AES256_GCM,data:mGVeO4L/oZUfYWOGEKSkFH3JE+eXXraFQpnn/6KiSxuoFGqXmPb0WzE3BYHot0MWPmgQxZlrudAlXBRJN8HSTUXAbLt45BE712qs+nistldACMeIrbKacJtW5CmzCkYe9nY8BKM/zTOMJ/22sY4Wl8kaZp13Lsd1eGW6wYW/dc8K9v1Qy3v1eOZUioyM+TVmDvWInUc+w3Bq9j1+q+ItqFemH/IC8V/Di9DxMcbtADNnVYjT,iv:41Q/EoXOfIk/eHlLWkoJOPLARvks5HuAYzSmAPORs7w=,tag:VEQfbluj15wmHOXj0jsa3Q==,type:str]
  certSANs:
    - 10.1.20.120
    - k8s.robsonhome.cloud
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      maxPods: 150
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.20.0/24
    disableManifestsDirectory: true
  network:
    hostname: k8s-0
    interfaces:
      - deviceSelector:
          hardwareAddr: 10:62:e5:00:4c:12
        vlans:
          - routes: []
            dhcp: true
            vlanId: 40
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
        mtu: 9000
        dhcp: true
        vip:
          ip: 10.1.20.120
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
    disableSearchDomain: true
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - security=none
      - net.ifnames=0
    image: factory.talos.dev/installer/520de4225301b3fd080dfa5613482544286ae7a379ccd0744a375799d25bd5fa:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - 10.1.20.1
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.rmem_max: "7500000"
    net.core.wmem_max: "7500000"
  sysfs:
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: "1"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
        - actions-runner-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Thunderbolt
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      # Coral Edge M.2 TPU
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:pAFOBO6a/yKk3hD+mG0L1b6MbiH3qTxMTAuBig+mNIZQ5yhdggnuvdxYS80=,iv:fVGuTY2iN2CFDAdtpY01cMeVGr+JRePcvCogw0gQN3M=,tag:veWQ8NQXoyrezZmT2n0BmQ==,type:str]
  secret: ENC[AES256_GCM,data:aA/W6LiUnWSuskXCk2P+OHU/es0g/l0NRM9GoIwXYwJHwOWlWiQyW2HNxKs=,iv:IJigmTYUu6kqvC5FR2WhcgdJXjHKPrYjW86QIth5Cz8=,tag:vyp/QqBEaq0pA4fTTHWLQw==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  token: ENC[AES256_GCM,data:tiUJobvS1vyv1p9qARb07sjEAtu7QGs=,iv:2HAwrpZfGWAbGlO6R/ElXkWArIi3VOxeGi5UOtMwiQs=,tag:Rn1FnEUERu2f7/BcyOThgQ==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:NIgtC9/OOkX9lFW8+VDwr7Z/fcmz29owfc6nFDZ5zhkAseHuKymVbopT1O0=,iv:ZIG6Nak1YGc5VxQA7ifY+tBYVo5XcX6JM1EOJCbDm8M=,tag:v7Ide1mTdDE9KDMmcQZ9lA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:9/z2Ykii3NKkT1iQVKsVw0UvaQEgP/Z52Q6OnERLE+ulLlsqLMop9cuqISxfpUEG4YMCvjymZFuiJILt8M3a5mM3CBp0wTSj5KOvvTixUv5F+jwNMnaosXSxI4oHzztYkiXKGZaPmTkeym5ypP5VKhOtstW5ZtQQ6KmJys2GhLlFtqVQE9xoMYkGCah/0OKxWTMT08u61S5Gaaa/UfNeZ0A8xxKW1On6UVk/HjFNY2fzGvUBHPoH58hK1ecBtOxejlKnZs8mr84+yj6tYbFRtfFgmT09emG67W7bDxeFMwZoRn6SvZgIXyZre5YKgJVZaTSU/y20VjZGBTpQyIf8hfLxrzVh8IYFBD/9flzuRdf8g9zDsi5FmBO1ECRyKF5ajPT05XRDV8vOTgcSKT4No62sHjbh3h7Rja+T2n0zqn4KPC2L3S/DZPeMXPjD6cz7XqUUMJ48bmunLtk0kMRh6h1m9Hs+j6uC7uK2FErlDEZlMkrxx7I0OoOBQFluVnspj6YVg1k3eskojHJt8Z+ZUWEDP0xe+we6mZ6aW4EHISMiHUGRpXmsbO+N1bSvwTFyZ+6Tx3pX8IjmtSZnpcvfh8vMwbSLZLE//HCSPzIc6gPMQKpKcUWGJ/a2dUI2xxVUfbFsrQQ4csa2+PaOgxHTzLqughu41vuvdV/qaW0MzdRwzoPlMCRtUsFQiKIRtpMNtF0KUAA+Ec4O4c5a2rG2jQFslzrN8QGkfGkFomjWATR5V8ToayMbtXsO8daL3I0sbsTIzJ7UmOqSwHiFTQM0/Y9YU8trCey7PMwjtaRxbioT3DiR/pzkfjxmwBS1EBhQ5iHqO9NXOctQAZhib9F85zdwdbz1DdROJaDjuzMnk+vm1l14X8p/3tOZL8+AzGTOn/9imbn8yUcP3MrqgaHaYb9sLRJeFS4i/uqy241NUUY2hK9pLSL4naQvhvHogj/vHXr2o4YiES1MQZ24WZ/ojIdsXGoEin8a51pQcAQu3WQy6CDLN5VNcxsRoNRAu75dl6FqoAOzkdRw5ZZwpB+APHBFJ8A=,iv:uRKakOom0tPnx6TRpOFR2JOmX7atkuvu9OVKpSjj09c=,tag:wwoQhO9vnnpquWl70wVU+Q==,type:str]
    key: ENC[AES256_GCM,data:dLnWX692Wxm8zc/vuJhT7NggGrlV/p0fDmB078EpZdQMBB3DdKGKzBiovX2SUHlS/3wvW0GpG+yDzF0KI6ayufGOtcCQiUR1blewAw1lqQQ6CWf9NnmvWknVQeXynQgCclnCl07itZ6QoLzVDsA8uXkZThED59VK7WtZlD1dK31abVtwy76rL/Q2vNw3xOX6NLmx9F5sQrhUBcrL41kWu29qRUT04PjSIVglfL5La2sd8zr9JGo3+Bjn9MJeN4DQd0XiA0oR502B7o5jEi6BXMoxNnkpYx7CoQ3DECqR7t3wj4lZPvst4Nu2kMgmTfWrM+iNHjq0yTx/LJT5kNTkq6ROIO74nT8SSRek3WS6qw199hPhsqncNoyUWDILcJ7ieX0PzdxaAUXgcuB28HRhjw==,iv:2dfxwTKqgvlYosZhko9Csi92hShtlyqeM+yDLtnCw6Q=,tag:sYUpjVTzQ7znf3V3SnLGLA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:5MnZx5fzP8ilhIZNk6pGbAXKfoxmvIfg2vHEGR6fHNiz0fbUf1z1HeN/WCX3S2OFxG3pYGdJ4mydkBdkIJnSjfntwWytRoVcAaRSZFTg4c1SNqDuAkyMFFHaGPHA2yrJ/bLlb/G8yA4N6exLlp1/O7WOl5DMBv/95agR0g1U7B8V/BVoUmWX13A7bwi1FoBCCB4Kaix4N+/t2cSnTp998WGBmLaScDghVt7PsdS5o04BVtDH2SAV1T6YQNn1cdYHlYrhOJbDuf98AiY+GghFa4yOEOWSp5mqm91/oYcWL/AxayRN7fxi5LZxvz0Syv52x6T/i6qmDeVeGkOoEqcnqWJsmotH+5CkifQ/EV4JxGmfEfIhvc5ibgfAn0W3Ph4csS8ocV12aEQX1uysmj+ToHvQEzX6+IXjOECIZ05sh05PGCYejzCXhAfDW2VadphOFJVoFzFSa6ScDfpjNPcCjTjyAPW236Yvun54ziKFojfb6dXharJhOshq+eryWvYvVsF0R5L7iF4fvfSyZoK5BOGBd30CDX9OPCRrTHyKppLp9sj2Yh09MXkO8paSIjVN0/Hv6JHatXLfkV2Dz/XPfORERgJfeFh6vf85d4TJKHbWQ5i12TA00R/T4MjiPuVrCFjVWH0djOEOpUnbDFoRiJv6CiBTB0F+ViCkpzvCQH8eyzEdWdw5qvO94PF8l4gDTpwS3lGn4SDKgs26kwLX+gEZVGYgKAWTKvUQu1XyfVn7waFWBFeAk3cFvmfthxjHMGx4/62rg0MoloqibE/QuRjzLpfEISrJkzmg64mQirxProwvNMaXLCP95qFokhG9G9swJqf9rZpFsvU2ar8RqjorbqX/z1ukBc8U23w1X3nqUXGivdTDe14qku1rY2I4T2Vbd4jKoYTR+YXD4SmCfjyO9Z1T83IAtukEkCLOGJeSm+2u6EVP3hHjI2FuPxDJ,iv:9sSPFeoKCZAKfPNmK7YmqPjnPqI2ksJTZ/++hGyhNqc=,tag:XbFFticuKpYJlRG8uOlvLg==,type:str]
    key: ENC[AES256_GCM,data:9PgukhRj8B+0hECPuGeDtph+Bzp9uk5fUzL4zQsn2R3LFXx15gHszLJQhWeSPZ5hgCfNFAwP2tLm69oxmXnivwtFtvbXM1VmchzOzZcg845B5Ka5u/XulQJNGxpQCeBgqzb4/hOfI2w7kr5oznrfG35hFGHiQ8ifL/IblPD2OFT//oQnC2pJmLzcRHUfivhRJEgMujOFJEkOWCj03NdsIQf0InAURdP2jMJt2G82Zcb7hiJdJaxHKkKEizW7XvagU+ltiCill936YaveDhBI5RTxs3k/85+4iGCHl2vAfvVf51s0vcYqt8Zd8+xjUhz/92aAHPOYduVLeDhr7ddGhIG1VexFcDPGd2PaaNUvvIYLsF1uaH/RZYagTS22IrUMi8MSznAb3tWM0Wy0RS2r3w==,iv:6s/s38BV0oadxgx13AixeY+SOPqXupeCvTyNVIhka1Y=,tag:bD+e1XY6zdUB8t8/R/lkzg==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:kD+OH88OKc0ewcDm7fuAwAVOB66it2EGI4/MGAER1m4=,tag:7xXdvwlaX2Lp04sH+thBxw==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 10.1.20.120
      - 10.1.20.120
      - k8s.robsonhome.cloud
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          plugins:
            score:
              disabled:
                - name: ImageLocality
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:5+Fb2rM1c9Ft2beltJQIVO6m9LJZ5P7BLzf1SuMRXHVYVsLinYPtu4AgWbIjrOoRTUNaeok0HvNLhEdmKeXeCTc6mtWrFrgrSCiGVA3sHm6rFLEWEbDdKS/An4D3mZvNzZXbhKgHMWQZzELsmmMNqroEP1SdHv1TPHHPZAPo418hTaqawC/bJtR1AsMCS/i7D/3pKmxchtil7hgxzqGP3A7jIPZRw7Ay266ibWPzeNiOAwHHYgJ2TLRC4wwu1oEf4uYZlErlxObNNYovlwfGdhAYUqYzQt20Q6yNZQMM2KSLVu+yRYkshtXTs2DjRi6PMeBwXVZH1P0g8oTVdIdg4EKeoH3E72qtxzzF1D4ZUMXgFN2bnI0szpXK+zrz3NmfodXzvp5aPwXWc4LC/GUNZMaclylhQeVNUFQ6IrjOqI4zs+sbyxG6nfODdD3KFZy9l9OwAv5dKDZjQWm5njrAoK/HHXA0aCXIErJNhk/7YcmgWuICGn7x6YucUR9iuhxGVQBRxW/XX3krXygLtAmDxGJO5afnZdpp3QLMjwLSOu+UEL2B9Pn/33JUsIIDBO2pDuvmVMiZrGaE0tD3OxMNVMfLnlEUk2/5AFixiV5S+ppnTi+3ls/8/g4IPWfxvrEfkCnRifk/1RnzYxUH2bNkyK8WoP/gBcyjBsmztC1TRSpYrncmWXCttVQETqPQrXMXkeTNAhH8raLw3VpdzygmdEEWQXb/c3PIazSrQT28EP5A1e3wj2C87NgrBzhkyVEmVK4iijJLIvtgBTD0zc9EzQ1GReOf734T8dU+bapg/TTtW48SHaVORLv7IMPLQmXd9x69MLmWZU7p3fBjp1/AaspGyFcNzKkxq2ZSvx3Ws64862KOuMDxKGmuLbbfLcmFpcQPVQwA9nwDMpzbYSvdRnLoOgnVMIagEg66HTbdHQwn4i2PrFRfg2QmIGP7Hi2EVxyPEYN+p4uHNuUVJBOGKbOdD64rJPwVKcENS51C0siXl/DeicUaMq+30DybDfh0dD4AQg==,iv:b8vJ7rbDMhBWRWRDvU8cfs8QyusI+83X7fA9c7w+dGE=,tag:7NlOSgCTB29jdTHhgdwc/g==,type:str]
      key: ENC[AES256_GCM,data:aZUEJjvOCRg8WXCnjyX6G4XH7/nT1C28s7cdHKcwJjTASXC8uiWVeKA5jzk6LyS1uuxXUZH+Mt4VU3ARBk0+xPnRzDGCHLzGSGKdEjxQiWIuhHjL1eydbZMG/aVxQG0YPv24KAIWglCtd3rQ00Nibl5EykYqfmMK2XiPEGlo7XP8zu1V2/MqLyOrKrcy6Fo/LjstIIbdeReDiDFHI0ys9lS0/59223O0txHzltdjGN47WEGnqZvgVokzqjJVf1nQFmK/Azmfos0/2bZUAd82+3Ih0W0fgpHPtY+YYr3q0YT14B+rwaUsFQwr6YnYlzvdeQPLmRbaCIZq27fmJxhGHe8CK3T4M5zAcfpbl+hn/2EHRfrCjfWMUNREIw4gbuNIlz6id2EdzG1/4hH7IjqxLA==,iv:sPGOi9y2C8S+Db/WXE07X7T8UzpLOHBtLLOrbWzyJrI=,tag:4dcQua3QcUgsVjvR/aJFSw==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBtNmVza3VjS1BuTWFLTVA3
        NkVKbG9NYjMrNEwxaGd0NStYRk03bStnV0F3CkczWnh4bXVKcjhLWVpKRElTenpQ
        L0YyakdEUTVaZ1pNTEY4aU5vMTRIN1kKLS0tIHkzL3V2c0hySDZ2Y290M2h5MFpY
        WUJvVGRaVzY3dFQzRklST0lKQy9mb0kK2/1C8wv63YetybvCEUxBJKBGjAVorh2a
        PkH75fuQ9T7tcdxy4fyScM4o9xJPeOArN7BSNHri7Gk4QKVAlhPdUg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-30T04:58:36Z"
  mac: ENC[AES256_GCM,data:o1dJzd2m9kvbFo5M2Ti3XMlfuqy1r0GL0ovbvtEBXuFQtmsxgVof+cwPUPyboV2dEjggrY6V+l96CUIvcJQ45Sw/3Pve73bKMK4+pjdjfqxKa9IXGrz7cDH5A2LjWUOVTn/GHtrbGPXPbKRf+P4SEuCIWoNPZzoUFbXoE3hLl4U=,iv:f621Z5mB3dVvue5pAHI/J1rdswK3LGTGySfIDnOoVzw=,tag:+Z139gLq7Y7KzVagTdkRjQ==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
