version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:5xg/nhR3DO6/T6aqhK+s7PPqiBKhLrw=,iv:fmJjO1bdONVIP/UYlG6R34IqzVazYDdb4gLgxASsjr0=,tag:Wy2xWBSr090AioXeTxTUtw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:LOUh6bCQ0qactYb4/JDpebkD7PtkQ5p7HKf1OUAUhx/gFEM/+Gnnf0jYyEJ10fVpEKSUUUrsdQtPo65qvnypFOUM0x0UZSdjYEmTkv5b7zluc33PySdFL1ccQxxcGK++uj63+ktjXXESExovCFf9KbnvYOamtQ6RBlnFyz5hXl6Y+omyRoAMgFuVbHOuyf6Ljjv/mbS0oCyPQNCoX7B8eHGhzaTjxr7RE2wbNqNqwEtNhg6Put74YFMMOPdyBQ1+/CFPxs67EVnWt1W1CApROoyNURX+VrEn94tNtiGNx4Ik2QH9Zh87tbPMiiOK9adSsfJxPnGDoaaZIJh522hjHyF3mFANVrl/C2H7cPocCMjFgc+oltCQy+WRiL15OiQn9jp2MgY2Y6Sqkfe5NxbtTWmnUWEFsajyIAEM3sLnpCnD5oDN09U8orIMYEQ+OZ7CuH2ceQ1SrX+Mnle8tFmfJ5H8r5YzZADoK+1u0c06hDNxILx0LmAcWR0n89CP/SFtAPMl6JxNpn+AgGfX3Wg/3C1+GfQFkRtHNmwO7USzxxuNMZKcRKZkFOkiYke+h2iI82HIjYX4qulYHRGDdmY4l8/3XACPdt/E+OC3La9aW2WN3f5JqTBSJKbXf8vd+8gOTwvcJ7QFdUV9iEqobJkMF7jF34OGPLtyrN+c8bL5EFh0alJQ9Y3c2wmQLYrLiLOAl8wQscPq5d0qAKkZN6xa7fWKooRRRC2NtZAXrN7kd5r6zcVyKsyTIV1xhcVy1y/GoEYJsAKMfn1jFChvm2cmIi3sbvRSh1QSzszQIjSx4YEBc6BgJpEKYZzRv5si5ikhGwZFF2bcW4ddqzKSLDkPk7kbl6r+qyHyjv73meIYarvf/++E,iv:1DHlvPCwTFsIWQDmUhip2/x7xFpU118qsD/3+bVeNMQ=,tag:mKSkp6tEFhMpH/cM4R2+hQ==,type:str]
    key: ENC[AES256_GCM,data:40HKV1XiBpbtc92NFQXm3UOpdht0Q0PYvXoGMPzdGDqYmIV90TEqRAywjBMw0fwVHUhMkzPc0Dotnt0r+KdGUTVWnPPMnFhHoKCcPid+A0cveqn4BjJjsS9muyFf4jj9cj7DAyO85j/VrbEOK3pVEiR2+LpHW9ceIMzuYEUBi/rsP9qdu+t5+zYmIqJoPuQKXmKA+bVE1C60x3ORgbp3aYfoMbEqHvdniDVcq+eLQ60b9VQt,iv:q+YEFGWuwPOsB0/WMzsynpPQUcEvL+lW3zAyxHGI4g4=,tag:U/fzGLFO8fsP4Yf23CJ5wQ==,type:str]
  certSANs:
    - 10.1.20.120
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      maxPods: 150
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.20.0/24
    disableManifestsDirectory: true
  network:
    hostname: k8s-0
    interfaces:
      - interface: eth0
        addresses:
          - 10.1.20.10/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.20.1
        vlans:
          - routes: []
            dhcp: false
            vlanId: 40
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
        mtu: 9000
        dhcp: false
        vip:
          ip: 10.1.20.120
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
    disableSearchDomain: true
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      - net.ifnames=0
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - security=none
    image: factory.talos.dev/installer/1be6923a14b1498bc2930c02b286cbf9d98764032fb6a8659b8fce7c1476262b:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - time.cloudflare.com
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.default_qdisc: fq
    net.core.rmem_max: "67108864"
    net.core.wmem_max: "67108864"
    net.ipv4.tcp_congestion_control: bbr
    net.ipv4.tcp_mtu_probing: "1"
    net.ipv4.tcp_window_scaling: "1"
  sysfs:
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: "1"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:Q0bhDZrocPlO5tCeXq9hYIbNJKcPTywbc8jYfrMmr9tXfpLvONdjkK02wKs=,iv:0tn3RGFqVjggrUAdDXgpWdrrv11h+D1qDfIcAzFOemo=,tag:YZw9bRf6XNe54kzxlEk7nA==,type:str]
  secret: ENC[AES256_GCM,data:UDuhKe2/XDQIU5zAttOzzshmq3rvJtYLRCzk3JokIhjLgKgjtg0C1quKOew=,iv:OpMvWObXq/2y4fzw4mT4toFDqdhBPhkeBEmIDIM6D14=,tag:Qb97OC8N2nikzk5lzSFUIQ==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets: ["10.42.0.0/16"]
    serviceSubnets: ["10.43.0.0/16"]
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:KArfheD4g/JCuQB4xzCINwrINdQ9C6A=,iv:Im8C2lTI5UgvHUhjAdmfeWrWotYRyoyP6HuzWHPi9gw=,tag:xYENfN3TV7jpKJdec3fsBA==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:fVm+zJrO3WR3hlzft/8RcW/rYzdv9WlJojIbI8ln0HJ5t/T3eBchI45qs5Y=,iv:OK8Oo9kViFaOKeXShUaj/ngz+kdqYIlEK75dS/jR0H8=,tag:ehxkl7hsH6EkojVohWPzgg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:kRM6WMImG1WSyHDl6+jnip97DMoedI/6z4AkJOeK9J0P5/PU2uMADwcpKUAAmAbi7+5Yums2h2WoLMbaOfRMr9Mt+rp6R7vjhq6qwcdtdsxlljsZH2lLKd3LqiGByYb8hV86adS1+PBullRQLqTJIEwKG9G1UUWC3wYsmBejunhteA+cVPiISbZNzMPmtafXY6uYOia5Fx63H8EFwawMPG8xH9znelwsyapIXPCNoxuZOMDTI6F0dVAgzvbeLQipEM2No+48dY3HWvXaUCOM5+Nzo07yianYPcUjdcIwLxZ7eDyGCDbWv3u3gWjnnH5AMZuoJ5T/iOja9KfRcWU4TZQyjm5A5zVdCTiSUd6iFyiT8q12G8PeQCyZqu8Ammg5nhlkcCxIFFJdoRXYLG+m4XS+y54NR9s5fgQbbk5hoGh/IUnDVKTtw3txtU5CFb5oGWzaTyC7xHQLV2PTAOMM0YHy1K7fjfTbRC+AAXz6sMOVHJcbIf3qoi9Ex5aXkVI8CcQsxY7KXbEae8fuy9sDMh6w+fQHiRyupk5jJD3pYvoYfU8bnwyYyc30AbzUpiMtJVOK0sHsyRUHwaVbP/shLWq2F6VmBzKfp89wnbcYh/fcJX9eNvoI28q1kgRFGONCP02sIMcn4oaBoxaj7bS159BfWY8mYhQrfxR81zpW/o1GD4/R/TmFUQgt0ko2IgE/O6D+cfpkVv5rL1rT94xo5d+NE5//S4Dwyp+eDyyV1DbHzhc18hwZHWkEcd2uPRqRpmhQUcMXUixkE0FJ0wkT/Yu7HYbRgygaUNK6UVf7RLvqc8lCNlyRvQ4bkyLRkruj+cbbW9o4/PPdulBeSsonNh63pMPZy6BP41sRXBMx0d7bSDekb4X6gzEuYvGjOccqm1uHKcOUPaXVRx6tuLw9vPJu7adcLqRD7iyUiq9E0JIZS3WI/9CyFneSshg/EKPIp6qLBAX+vPswvbgSpm15OVBAw8h33dXFnxQTD7Phr25TYKghoJ4I6imfRTpRH134IQZqEOt6ab3oNft7e4NpUOqe/ZoO73kI8anqDg==,iv:EDMldLve3/0a/OyG35t3M75n0ExC9hjpdssBFEWLKXc=,tag:ooPGSm6Lio/DTCwRGton3w==,type:str]
    key: ENC[AES256_GCM,data:VYGOYGlIstCa+R8VRob7glJhVJffe9lQD9SqY4X3FO6Gr+T8v5ZywkocW+HhFw3s4f+LYu3i+OzYHxbTjxWXC7mGPYcRDizuvay1yjIGHZv02TjZB/vpc/Ps+Qs8MVBUdwshID74DGmexAG/eEP0gvkKsXFXux5/omxMBDxcPu5AsQF2qgjS5mBi7hQFy8Gm8ecOnWP24ezOVspTec3fPlwxKFpgmHomix3gSVHBN1t7P4SI50WPRqg/qcxRuWRJY9ry+8JWmORfiTFLQCoTn9KYeE7PjF1NbJoi9SIJglQs08qi6WTOdAYpKhH8Kn9xIi90f1CqkCpVtDpAdIXznKb5i/8rdBNkHErUV3vokq9NvpNScgyZWwas6mkDMHkDhzLHOTWtWec25WS+mfjTaA==,iv:ou6YVLUFsp0IylHP+1xh3OoatNgHeDUQoooPlRgrBJ4=,tag:bnSuhMxHGyIAK3mO6Jt5vA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:U0gnvuRmvPIS9+yj/MnHWlpPJ2aytUeKOkYrT4r5Q45lnd9z7WfbQFEHEHE+bgYHcWuShcIG+o9eljVwwd8mymYhQSEyoMGvXQoFnRWVAWfB09FZV6QjREuYsbmozv98jTnN9uN02PBRpElmkhdo7FSx4tiew4kSd2IsOaDRAONPhmALWmCRYgn9Fmk/CeckmgNpb674In7361Nv0oK6RTmmYk/7m1O9fRYJKrY+fQA6Gtmd5RdZOB8BxLqaahgX4XOxFhT1CCS7DJgZdi+xpyKREOGOQX4LnmWuikYFE4ug6V5HB9O0IpPUpRExgLYwbrgH5VuQrRVeWDkCyKBdPeD+p/MmD/tiEeWAX2sPgHQOaPwQiWN9EEIQdLXW/PZhdk902Q1CnY391eS7MNtuiTpRJXrXxcJhZJJPCpalHVVbfirAdjRjH1G/TUeBk1xBRSdk2h5F2NUtaXAzCEjSNLhvIXRjII4K5ti35pHVYcXc3OL5W63yI3eMSyudBVq6Uevg1u3smeHO72m/q4I+GABSIJZzshuBN6ex38F4NK/ESsFQWVQkANkhkefeRYnKAASq4QKNYBXLnhoJXyL4zAPk/fr7kQLt7qa7NVT9O9NEJWYH/yizOobicskdm6mMF35ps9lJsDciwxM4ah62w7VUeqQnJazoJjovtyzsEkb7CNd0RM9YfskcTwXyr5MvB1K8tmWyxzA3E6+ufR4+w6x6CAf9uzs2/v5YCcg0g7ILRTcKUdYUXmXNX86cv713uJ6qhNXqN4eYXpey9rheYu3DWK3SUO3xRujEXfKvq4Ryk3kTDIlTJZ9ad9zGaS1Igra58QQcVFmqoZNlMDurpNNN2C+buF33LLw0GexTThUhC+1VK2v/aGOKjN/7+Gj3sHJ+7joEZHRHfwcj9PhAJ1UUsUXqvXemzgcG2SVzfR+vZmeqti5eFg==,iv:IqEOZW3RirsCTohMY96cjGWn+IzQ7KOpOOX7wdkZGx4=,tag:1nwqXkeGuBa+Er4/tS+IlQ==,type:str]
    key: ENC[AES256_GCM,data:GLfUrWYLKPwfz1NbDmDpTOzV34CcvCDWK6/x/9voKPnsCjCMMfrb1AQCgMCCYVDAbqZnpPVUQEBQjugTCLjdK/4l3aSYJvPB7jkBtL6Z8K6xBTMpAaKYBF3Rsc1yi17YsUg5EzZfwlrwJXXpffCN6uzlrqyq/JCbeRC0t4nok9OKP4Yow1C9TXu8743q3EytsFeh8ct0HA9jvdX6Rmh9UVO17O43iAkBOoBKrxkZZ1iFoz8oXHjkO9mhFkPHTEHg46sOgoOyJrszUDEbdfENkyJvgQ/nqT6TxeBXFngfZ+ifgwMTI8IqgKZDhaS9txV/dv0uFE+r4/kXtCw/1SEBk9UI1sT2QBdUQLeVMiEtURi2X69zUjF5PvT7gIYUhWYo0uevbENmqDbSerKgsAwOGw==,iv:upScZWfxOJqYoNFp3jf5U/XeP3vs57uJgPijsE3DBiQ=,tag:w1eygwjg+eVexnxLfTGgrQ==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:izWzN8+nm/SEkTkVTQUFRdVxPMk9yd06CSez7ORAhf0=,tag:H7lq5XmmBzPaG34zB4vqgA==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 10.1.20.120
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          plugins:
            score:
              disabled:
                - name: ImageLocality
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:OL1PHUEhaBP2LaM4orclstyboSmQwp2r5gKFe8xE/nZv1//7mPNklLkh6G32RyszGmoRW7WgAIZBtNBRDaSWbRkI1idtmy68snQ2wjuWVhLo8S3QDELDBF+yiyCkAMR3LQdofIKt1r4l/q0dj3iFkC00BdlrQ916PAb+o0gPndAQ+j+kk/sI4w8OUvZz9QVYWzw6NmmPKd5b9TSPZ8zBf3sZ3pW+lX8CywHajVMsnE3K/tWXE3AhuPQZiFmW1Q6AHq69fS5lwgNM/VCgbJTh6Z3/ZIgYSCAAa5uX6JGpL0izpJjyDv72dj77l6q6ZE6+RV2WzO1v69TwoqPy3QMNuE9zgy6IdEJ0W639WyOsJYeztpqH08cMcVGZcEluJItSaM0+Hqy7SKCiA64c8zElea7fGrGFnocibXkdRSxhVPOqsaTDRP9OamKJP8n5XRJiTFBGaTkQdJp7YGJ1wnFS35RAiS873rbSGQXW3VSynBhJOoRONN3b09pXBFInq1+SGa8xLWZy1IAt/LbJLL5IAVn/UoqiBAHUIfvkT4nzsj8z22meaqCpZqhTGhXpAyPrSVwoGc6eNKkDtvMcQ0sAX92iQkLuVBGAh5+OLbS6+as7zJln9rFSthe//TtmP4npPUKQgj7u2S3ePo8Yd/pNq4ZcM40MSAOGs0IwWeF88E6Jdeikee7cRDYNT3RHQgvzJV2VQbtrGx1ZbtEa7FZrVQ5AzbNiyzW0Zfyaghjn3G7vb7l+ly+GJNaOJeOqAYIOpOoEsG0rEkPbX0LbaOmz0G3X0cPYzWeMBGZd7hCt/sac4BgYpu3BCvLUI2PItfFv1kTz06gNMT17jQ9+juUGbEnqb5QiF8a6ZKeckXig85m+PvRfWRz3kf+ycC3dUInebK46uuoaOMGmwYqHKnneqGpKRlLaL/IhhdFurvRydAytVARo5zCE8cnWDxMRPPmJtmNZ0eZHeJ9ncj5rZ69Fw0e8sCDIJ2CdtqOSxMw4MV/6YHXp2aCeJ4tiJLxKc+jB85hffA==,iv:A2bvqrL7h8FrNsaBz+6y+y6YGOWbhyDR+bzgGj6tg3s=,tag:D9Iy4MWZtEg5YLPRf+H3lQ==,type:str]
      key: ENC[AES256_GCM,data:41WLpnKnVzYHiF1LTGK5eOt1sQwF0haepSseGkcFoci8EgxhCKOzV6cPzPPbxt+pU8/03nAnItqVPSngq9BkCB9vdd6+N+xAfRITshN56lQMUaoWvDLTJT/T+OefuvIFtEGq1iBWP+Sg6rmZ9NnpkV6t6J7j/yurh+93A0z3XS54BUQO0SjQtqpItAyFIrNNER30+K0n8pDZD7PWEvZwTBP20K0vyKNRCM6pHDfG/jIh4qOk2Lm6lgZG0lZCd3FFyBfbo+dNtc2lAGDSMhJE8hFSobbpB7TPdAwk8VOkql3SGF0/l/1ARZJE2nxyfHwD/ty/XHEKJIfcWMgnibXbM8c5oeTfwYnkCI9TIRyHoLga3jAWooaeWroXmUZNGXaBrpNRDU9zTkpqBsuN3BDcNw==,iv:7gf+Q6dK00e9c6+tIsuri8Beq2Hh9wnqln5HkEvvfGk=,tag:dMRamur1TwP4vcVz8N6O7g==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBNNnBkQStRdEdMKzZ0ODhk
        S3hhSkdwbVlhL1BsYUd3d24yVWNsZzlyYVYwCjJ1ZGpUYUcxNjQzVTFzZjZVWCsy
        eTJmK0NnUXc5d3VrYy9LM1dnZlhnQncKLS0tIENYWmc5TDBTLzdXOFdsajRyQytE
        NldvbXdWMFdsMjhrdy9HUDZWci93d3cKvgNGwbnqLamTRlHBUPPfyoGvCO3qlfu2
        j6g0LzAqDPDl+hlBF5GdVM+5vwy7jq2bNz3pEqtV6IYbCVZKDpLhcQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-31T04:21:54Z"
  mac: ENC[AES256_GCM,data:CunZPv2GAchcAp3M/D9hTYypXoKtGoUjXwRzhQyYcgznx0sZQVGEFyvB8km83tVsiXmioEEioWVMZ6zxM4RvXhScCV1pqEYt3reC/lCTXbwPTBQUA+H+v52AXWveEzTorbYs+++FK5NKTKi2DqGZAkkVWbX8XS3JmUxt8owEEmE=,iv:zFt+7PsWZZtL/TWSnCMuEWkbv+JLV+QnHVD3dYKYkKs=,tag:EDAy3B9Ds2oDcTHZTKkGNw==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
