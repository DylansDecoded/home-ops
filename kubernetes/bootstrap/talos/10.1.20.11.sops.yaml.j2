version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:nyZRveUO/jPvnvIDEPorFY1WK+Qyxg8=,iv:rgckd2npQ9YDhY5IQ+9jcpo5WW1ExzOFeHDPLqo9qA4=,tag:h4lP2nkOzgkQf1LlK1Sd4Q==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:MrcIjmjgJs4eCGJBBEvHY1FSt1h/PIYlDTvY6sg2qoyHZjGTnl8OLcmAlvR2zyrJMAl/Ux3evymI9iueM/o1yI7H9vuKdU8Kp5gmMWcXILIDOXzyx1451uoX9XmRhFmxAHLx+lPVA9ICkgT12BhIRGhgWucoijSFeJIhZ7rYtDskMwTqB6HdM3fH1Bd5pfoK3ELKwf1DH3NTV2lWV/6i126bVEOxRZHH1aEbAW7ui3Qbep40OB0b43Xxd8lxp8qmYJCiRXLBfwvABevrgqPfY3W8S9zCZJD2BxNahivllyJZXo7c3kQtO/0SEAjkghZnLXuOYMUi4jwyzvCiOzPeTCiDqw4AUj/rKCBeKbQ72TYuFuWrFlPXm5/4ST/V9Fr3AcuUhyqWfwjswnUlr2nTuRDl+oyI1PauFxeLZsm/OitRVGbotZYVX72pkW0uVrRBmg6SGyFe7d0Tcqf9G9dsJGbxF/ceN+0AgY1cUHxM8oaY7T3VBtcyl+amwKeq1jVPZcoFW96YpMAQzT+y2ScwuJzLe/C1c+Odo71eDMejs6rwnsT0j6Yk0ZZfXyM5HonH19eNfZwePQgWfZOMmFuTW8tUWJkJNMzL7f/LlSQAlEeFalVJj9dfXZW3rgKZOwCzwPxuRhaotK/jfJIobc88MNGdzsGCBpT2+npFs8TDlpFgPFKvaaDdOrH4rKcIbCPF1BSr0XSQHsIcwUVJ7asO13CBFcUMWGE/kl4zOjhJSv2STiFbrxHS75Uafokyki4h+GuYxDWWb/XXwm9IB5oOtsoHj7nY5haHC0S/+Tu/Wg3f/iPHHZXqReN5labYRP7RoFKgciR3ygXoZK39+/WpSDJR4f6vap5ubkrxR7svMidFowwZ,iv:N94Rpm4vtrRjfBQ5YXbrndpAaBcpVAE5V8RZwzeeqj0=,tag:JESI1SOmccqr7GOfj+EhBQ==,type:str]
    key: ENC[AES256_GCM,data:UNjblar55T/s09UEA/t9gUTe2fjWG3TAIaVPRa4kbTuAk8dEJyKh7cbPiZ5OeCECdVFG14abKa3S/cZZ6Jf9l776q8okd5SLFa+etlFQAq8TijLfFS9xLaQ1TuK9XyYzkjKx7hhs4tr/Or2Kgps8NZatdwIUJh6g4B/qh5sRxp/qYPJ82uh7cZgmJA4MNC23EEOzV//tP9qBUO+6giZW9zuYoJC7bmOBhRWX6ldI928VreXQ,iv:aH/ze+nSxgoIzBVdpnYZBiODFJjb+IIQtCEfW/9hDbo=,tag:XwpnvIqebQQWs1T5ljiaFA==,type:str]
  certSANs:
    - 127.0.0.1
    - 10.1.20.120
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.32.0
    extraConfig:
      maxPods: 150
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
  network:
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
    hostname: k8s-1
    interfaces:
      - interface: eth0
        dhcp: false
        addresses:
          - 10.1.20.11/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.20.1
        mtu: 1500
        vip:
          ip: 10.1.20.120
        vlans:
          # Services Network
          - vlanId: 30
            dhcp: false
            addresses:
              - 10.1.30.11/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.30.1
            mtu: 1500
          # Trusted Network
          - vlanId: 40
            dhcp: false
            addresses:
              - 10.1.40.11/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.40.1
    disableSearchDomain: true
  time:
    servers:
      - 10.1.20.1
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      # Use eth0 instead of eno1
      - net.ifnames=0
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
    image: factory.talos.dev/installer/6e6f23cd5ca6099bbe4be57a2218f628e61314545d5da36dcc6516c59d3be64f:v1.9.1
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 1Gb/s
    net.core.default_qdisc: fq
    # 1Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    net.ipv4.tcp_congestion_control: bbr
    # 1Gb/s
    net.ipv4.tcp_window_scaling: 1
    # postgresql
    vm.nr_hugepages: 1024
  # sysfs:
  #   devices.system.cpu.intel_pstate.hwp_dynamic_boost: 1
  #   devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Thunderbolt
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      # Coral Edge M.2 TPU
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:TuxUftG/BuZ4+aWq4k21iKTRjz5s2ZxKgOI1CbZYnFWA3pHgZ9wPhjbfp8E=,iv:jtqDlNlL9NmwdSASsv4Y/LDaJU2Okj1FZQPrv1XXvRQ=,tag:kyYDe7mEJf1wi9EHpuamrA==,type:str]
  secret: ENC[AES256_GCM,data:79XRT3gx22VC7VIoz00J8kQtfUM5PgJo+QT4Nf9i1N1NjLvaIK7bSgkckho=,iv:XBookeKlArCE0UPu2/JGUReMGaAEY7ftKdXSsboAfCQ=,tag:WhyhCev0FK4q8W7JLItssA==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:wl6WMXENJiSQ6JD1NByOvze/qTKvd6Q=,iv:XP06tER8Gnj6DbpIl+N3iNIV0rjkLJQhmNDmoVyxofw=,tag:V6qdYf8Lj9GGzAfE+nF64A==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:nPKZjOt/xPL0QoguxmsjedmPPaPVCl7yENnUGsSAUahuimTnfukvBd0DRfw=,iv:THvGkq8pD6aRExIzadfw1Hvjz/4KDt86hmJSsN+1VhY=,tag:t3TpghVYRdE62Joh9EgBpQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:J7vpoyacol/J0u52KcSIvYWUk9SRXL2cTEbpTXcDAqErD8Zr7RRke1tbIkBkulwNmTaS+imc3OC18ZUmZ1mM5ubRG03VSWA5mu/YjFoR4xiHeXkIp8J9nRc57MSZjKIH7d9VpaVle+smVm3YfKenlk2riPTOTYo5lV3eckdHB4bGqFtH40qHbhbSuTrIXkz/GnHFt2IFhzZLje29CC5wiW5ayr0mdvOa9gesyyjIKFF/bdv1UGbZY34NS26Jr2IyrJkFH6kVHreBi79N4n4aeSDL+i8co4ovL4W0mf8dLVUgnzBfeyS19nVBO4t4UZwujliHzPo6effuwPaLkvLa83FqQU4XCywwaxrjC71pRlN2AD+AW8FEmEpgaKkU3xRSMeJKkhNmZeoIuBdoCxAJH9ezPjYIa/M/EIFtQyr/fmVOJahSzuw8qmKmwHa+kstOPhbutkYqFzvgohLQRHAMNHCP8k4u2JpIJzKRMB14eejXJ9YKDrpDznTHFSdcJMXPElFKgXloWnqwwLE8B1ud0z4ldi4GioGSf8w4V3qP9lnuKC8dSUYjc427FiIk++ET72T6bCo7i0/fKzpABrNLrH6n5Rarmx40U4X5dQS1G2vn6no2HM56fa47o6Cm6K3jcGsakKUtj++47KSTTjwiz7BLWo8tMwznfy+zxKXq/651Dn/j2kbbFDNUYE3ElTbCOMDrY4tGOKzOPxMX+X3xmPLpcQc1sM9C95aE6HbiNc34AkXSV3502sYbYvk3rkfx1dqq71o0Bi95G879GHi6gKxBf6RQUVDIJftuOTHE9MGBqBWOwqkvNZevcM4gotqeWoqNo9SMpzQifI67iHSMwrzehuScKIIU57l646OddSnqdXx1UTZAWTOJXtGzDIgz3vQHqf7yPhlFQqY0AR+aujT/vf3tfk+cDhAfAo5tmEjkartHfMhBixNOfK9MDWlhRi8C1fXwm9REncfYtK74oCAUD1dNd6LLPh7/swSJ1P+GzSQ8CNn3Vv2BneyH4BFNpBPLB9W5Ahb4vXJidiciS4+skyQ=,iv:qpbqgkLgXj3XzWp+cGszwVtnW0QbryeGnqEuDf6eOBw=,tag:/Vs8eYFdWJiRuQgF7tWioA==,type:str]
    key: ENC[AES256_GCM,data:ISwzfVMcpqh4JAgk+SGa6P4d15wYkXRgHyLFDNuCL9afARAd9WjdZwiuBKVfBgccvmRUjkXfclCB0ycde4Y22BQP4eeXSz/a4r45+bJ/UuoRwCDhkCqs66txXwFULXD6U8QVaRKPYNJteRSwLm4nZHI/DpwNVIBJkmLO1cZ53P5Z2Ek8JL6JWSmBj2ju8ls/OxTDuByRm5K3TIiAwwguI1AtlcA+jOMJxDq3SIUITi0qe98xiUl+Tw75olLEQI04v17/D4finS0f0/f7LEjumxCoTjZT6EYwOvR62do+oOvIQ18ZRkhd1/ktxA7J7k5TBgnouXMypMJqMRRcYq/vfI8QfMnTP0a4N06JtviArBFe5iOuqDQlfdTKKBpYcMa2za+B1b97iRPJ8JOCZk9HTA==,iv:E2xrCGbxlXTPh+ovxHIP0iLAwLRvX7akueCekmaqrlQ=,tag:ieYpIwHI52xsqTYC1UByZQ==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:z1mqlKppdtCChhR29vIscl74ul6abpomE8+7zgsLqDy6UbhzWf0oR7a/9Fwfp/UjC8VzKJHE04UMsdL6jIt1lLTWNFzOipuZS+pIA9l5QGIFbart/btiQlY+Fcr265llowoPo4imCMmKdlC6XK/gHweGioaJYouivuU5ymakIafqPKH1Xx1ovIIKqdJQ2kr3yvryUhBcJKsVmudVQ1I41RvIwVeOtxL+99h2fmgHXkmincjpbAQYMSdjnQnxkeTUKU2u3px5txwvwJPz5BWgq7oCoYOGM0t9Aw8ziUk8UO0tawe7MXF9dqk8q6MvIsBGvoaaVwAYyzwedK4gAY06hL3cG62uiEbDTiOiTfUagnXZ3bWHaZXTnQLNRLdjJLJwoKWprd2OGrucQlkjFtugCU7VXO6dlKop3f15UF/F5031com+UbofLxd+MdBSCA3xIHDgEoeL8UnDQQKyhDPBT4N1ubrSSDkFRsMZagSTv1NuT9joUY055XKTLCqXsRDVXBoCUNIVR/cjaEEmo5bV/KDy/jHlsfXRX4sRyCY7AgTRUNi0SKdJXlWWZc+wJsQmqd1TPFB0vLOMNk8WDziDeOkf8lKC9mXOG9hMdRr9pmPz89S03isE8xtX6xxU2gftINXwfHrm0k/pGhfZiKJSvtW2sr/3y27mGl5U3C698ymFeDBxSLcyQXsysBwv80rgb2XXkFULaEQ6B98uCbyX0MSlMJbABLMVh91jtMMhRqzFegZCHfv6mzH4crmIj6T/NwRiT/Ln+vUu/gqbA3wjVRfu4UCWjF8imLaHW7A5X1E/AedYnssIZFCA9YU8rOuq5YoZmLSbRBnQVd9u/JIpp4G70i/VyET6TpnDqic5K6dwFpIWzuP9FoSYZiClozYyaESjwi8ELz8bLOjgivvj6Iq/+szx03E5oAiR9Gs0kTZeEire/Q4nZWtfbDTOarow,iv:yMlfPi+z1uvSyAgrmEbT1PQBFWf9NQs7sgJBLs1lGfM=,tag:1YfYgVFwgXsbvlrlW/LGdA==,type:str]
    key: ENC[AES256_GCM,data:kDajEL0Ih5KfLcSeGHde8E5r136Q2y/Ad0pU8P6gp3X0gYxejdr76p7HqzUrTC5cdLY5GuV11qKSOX2zgcglj2DzCvhKApWXfo/alBKaV26OaxK9XBx1QPlEjEvmeTUIE2KgZAM89AvZ2Wo9q9XFMXlL32JX1yCnVosYwzxQcpy9hceq78P0dl9pLhuj54QeciOlN1txZzgA2FYAeEcS5PM7SSlOWiYt/36MNaDxpYXQ4cbz1NcTqLInQFWAJRcAVlFygAQ6sN8WpbNs5h4+cYBaY58+USmPvFya+f4o+xjzd9G8cOKoj4oWRtiF3TIiLHld1oYTp9oGSirYCbtTjF4sHdozcC59rnc2maSLbXNEamgXJTJD1Psh1zc+1dIPgAWz3zbqBzgcEFCabWfDbQ==,iv:YZqUWDkNwVWNGDFGSglnb83MOMA5IoQr8WJguvsSC1U=,tag:k+ljaRsznXtWf4ELF8by4g==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:uu3PcAPTs59KCdKyyQeu3N2bORRRvCkQ1T+Ld988RAw=,tag:v9fYoLfs+YijKiyi7m8yzA==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.31.2
    certSANs:
      - 127.0.0.1
      - 10.1.20.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.31.2
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.31.2
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:WCuDII5J31nrtiOfJLS7SzoCgUZhemwFckF/1m28/Wd/zL8JHsIGlnxwCxzAVMhox1DaKTGNH+uyjOHOcSF7ZwNqr0fG2XbFsd79oVG7RYbT6APSrBdzGVWlQBycD50CWaJIvge/iSNeDoYGy/NthI4x2HccFesuSGbAnudDJ4aoy+0GdZNgPJgVJ7cWGDGe8ej+WoxuOD24mWyaEDnoG/n/m064F5kENpzU3vynv9CHpB+a3S+obJi6xKwRsKRGs+Lc5Km9xbTTKH5e6/o2ECDoziKeeppWKdr3qOdPR9tefosN/8t84kL8ayMdaiH346YvDajJa37CgwgctKFW/efc5u9juO0Ib7GmoXShtXZtKEoKkQY2cPtyjjoeiwIs55g46ycs6Jlq2WJff//GEseP/SxP9ltsruLBiKkfS+5NhOUKrLSkct6t3gRMYTL/in8H2ecA1Nr3J7Y9a+Gpu54T3I2ud9M+wyHCsuA26nUaANEnydQJBJTBznK/mItsTO0NdIYuPr9BJnoCmNlPw8JEMCFMIZ0+JsR/SDI6d1Lk0S2jhToHuRxSl8O7v3QP6zWnlOb3QXFzQCHq4tuU7CJw8Ovn4BU5Jb11CS/V3ANXHeBZvngU/kGiBlytQcnebXsnoLsnNiJUDd0KEwa2uJh2q3aURkKrX86xZqfCX22pk9Ky0MFIi3un0YJ8LoxS5wMPDas55Xp8l1hNTNxtJtjFhmfWftPQEd3ovdRylR7ALqU0Lz+hGBkqTIG0hFnViHTqKQcB4yx/lnApNh2tdVzWpT/XWwaEF29qNOb9TG+3SLqbSyZyOlAPmvuYwvPArBC7pzU2x9bf6PZPc2FlZZf6qCDOr76HHsmVBTAmrt+uHinK4dzMn8Bwnx9Yv6SsNMxDKhNjl4gs5gwDdkANTj3QSmMHJms+ULYBdvI1mD7mtVqX0D6mveX2c49qM4qBLY4EBqXBVUb9/UdIiggKF9sXlgYdHlAKoWjtoihjQ+GDRb8U149YK925zmRT9Vho,iv:J/KBOofNkgCRqrB7oK2M0bputajO6voLlxDgI+B1FPM=,tag:y8xBVzI9kpAf1T9u36F5oA==,type:str]
      key: ENC[AES256_GCM,data:4mm3K2DE6a0WkdWJZYmd2lrTxvytYoGCDv1ZOGdXzJkD3LH5lZzmRrIcqr4OHN2ZxsLIqA+lxlXJAtlePSZWkRkrfFCql6ARaXe9mMy+PTD5+g9RcNMUet47ap8fjUTs8aJXUGmrC738iZEvz/6minspW2gaQkPl+8Ob5I/V9cN/vdGliASieCT0EnO9EECjGsEfEBFftGEAReNrq4wIChnUw+1mdsDF3S9695fVdUkNakpUFZ0n9R7IS9i9/WPqQFR3gSzbPs9a71yFDpe0zZGWZxW9wGeBMGA4Hoirm+UMjqdqTbKbqpOtmFEsCFy3BImLSC9Pj/Wy8JqLIwLZ8/nb21ymcIXMhUOAFNIHXUvhGjIJOeR3/QIgSOC53FRTEemS5qG1K8fSQ4q0hgiBoQ==,iv:ijR1smbu273xcoX2lvzGqYBVtkHgC9pHo7I15W+32SE=,tag:8IQbzb1mdjPmo3vEg/cmDg==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBqaE9KVWg5SHdxRkRzTzM3
        UzdScmdZQTM3M0xkRzIrZ2NFNTVLTDUwYlg0CjB3c01yL2xLb3VsMU5wRTJoKzVz
        UGY5aU5GSHd5c0hpblhMMHpXNXdVYUkKLS0tIE1tTTNzS1c1K3VyMkNhZlh3bWFk
        N2xqTGZUVzlXVWErT1RGbVJMMlpSZkUKvy96iQwu0vJkQBwz1+xqhRRJY3WxiKed
        +bWbjmWEgnDZkxrD1+bcXoxZwTGStrJc5DxQgA4ZTMs8x2nPguhH+A==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-15T03:43:21Z"
  mac: ENC[AES256_GCM,data:vKZ6JG7X3HHBLUvzRkB+jsXbhPHl5Gos2XqIiLebjMaSGO+yTb1mw5ia/0y4KX55pbHxTaBiFpkbU8SgArV5YzGE4ifvW2Sx6tDBUkGCBJppZ3KANA2zTCr+leO9U8DfAdT5jbhfkf8+ugI7cR4fDCqXigiinj0BPWUwyM6xFb8=,iv:DJn4IEjL+tqmIn5/tRm9NqOnB2eQyhQe+wAh98GiKuY=,tag:TOSYF6VoCuOWAvwWSMSdFQ==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
