version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:N8endBk2/Ooi1cnU9XbB/MLz/ringrE=,iv:G/Z9GbVqQx9vCMuoiJksU0PrvszitsZsr1EmH2pzUnI=,tag:fMLNwKabhccTMKJdr9CLfA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:9/hQFiUfN5hXKj9pgCdcRaTCUMGCazCDV6BWJR+St6p68a4+jhWn3VIamQR3AoIt658AHSWUdwpEnpr+ddrDHlKE+OUbn9otNMKbDBfMvsUOSsI1EswvxTcspSFvoxVHqaNdyrHctgqM/z+Kypa4ZoOylLeJUnBNa9zIyMYw21ns0NcRh5Amw2AmanuK0P8pan88owIIV993adAKpgAOjdkyk3ZSYPY00fAiB1VMDvIMd9YYiehF9WLH8OHrVh0gCqK3CgOmQprhsE+nXIvmYF83xBETg+gpAmH7M998GqJG1BI7eLJ8qBFLSk3VZ07crO/zzX02mJfrgT5hPMr0Stua6Jniz4cIm7KvyaY5L0O+D7ZObN5xKKr/CCBRrbosWXu+hhxtjm0thUfPTHPCt6epnz35q4toEeprY3101Jcdx2TtR91y8K4pQu0XcCiJzGplGBJEY62s1l32N/aY0oi5Qnr26SKO6yFFZ5r7yIZKf6chf8wQf4FNGx5Efy2zHE0PtqbF4A5tC+cFnEexNU3PgUC6QUZ/3BnUM+6IyK0mTc0YvLl3bP+6UGiEk9X2pHeh/tQn1qlQXusd0Bo4MveWyazilHuKAGzmQdlck8Rcp5zpzW4HV3rg8kElV2LqFQYK8z2STWpNFlqeVsomddqHV5AxYGawC5vNSNfiR487MF5cViteXbEjOqOC3OKtwvOorqZuPh8mCsreO3IFxe8cLSZ88NjSNYYXiqm1AKnkJtur3rBhdYopKm0icHERxmVh4PSsQEV/lATS+19ENmw/qfeMVDzHMGsDCeP8AKqZUEeX70Y14YCQLB+iygYIoPWEgPpiHOZxq+BEqKVXMXfdg/jQ6dN+RfWzbTTCsMjvK9FE,iv:nyav1nraxoVYtr1FLKsQSy5yprYDgGojssK4qF9WRE0=,tag:8DzWArMr9tWG6Q3DAWFXRQ==,type:str]
    key: ENC[AES256_GCM,data:yyxq82AifkB3Xl/N95gdlt3G8LgkMtpYG9TyMRohv5iIIIsh1+xF93wHIPaYeKM5O1zYrz5MSbWHDNykLbP27u9XPaNWjWCpoaJ6no0jbetN20aSg1dQRf8hZgJnYmpbE5EUPZxRALKKHJMhTTS78uqBJVGQBqpdONRBfa2UM8gtmcamUxzmhuCyCNkl+KgMiF921hDfe3kHGpeXgjY1x9L7Dt2CxbyMHiDCHFfhrbq8vnTT,iv:LxKv9j5SYuCDWq21neLqvpkFDtx1SoFPSFXy3ukfPW4=,tag:DjQGJtG6N5HAfwJaUDvxhQ==,type:str]
  certSANs:
    - 10.1.20.120
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      maxPods: 150
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.20.0/24
    disableManifestsDirectory: true
  network:
    hostname: k8s-1
    interfaces:
      - interface: eth0
        addresses:
          - 10.1.20.11/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.20.1
        mtu: 9000
        dhcp: false
        vip:
          ip: 10.1.20.120
        vlans:
          - vlanId: 40
            dhcp: false
            addresses:
              - 10.1.40.11/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.40.1
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      - net.ifnames=0
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - security=none
    image: factory.talos.dev/installer/1be6923a14b1498bc2930c02b286cbf9d98764032fb6a8659b8fce7c1476262b:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - time.cloudflare.com
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.default_qdisc: fq
    net.core.rmem_max: "67108864"
    net.core.wmem_max: "67108864"
    net.ipv4.tcp_congestion_control: bbr
    net.ipv4.tcp_mtu_probing: "1"
    net.ipv4.tcp_window_scaling: "1"
  sysfs:
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: "1"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:a0/pa/ZVBtVyq7DjCc0mr5WwEskgvtJ/v9ioB2z4p7183HScIUphTi78kXQ=,iv:tQABi227gebcFtk6vJRiqAmkXnOho5b9Lu3fxMg+SWs=,tag:TbpDcrQC3qWHjLMIA/LOFg==,type:str]
  secret: ENC[AES256_GCM,data:L4e+3jryx4ztV2MRS7AZ22xANqkyZPfjbj6crpMwBiGvELr85Py8WSp/bp0=,iv:tpkxkOf6cvIOca1sQJTyFsD4jaf54ZCBkyR9ojbdwTo=,tag:0N1dd5ItiOXW7drw/lKesw==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:TVOZi9ZeLx0JYaH7HY4a0UlAPNIPzX4=,iv:IvnMS6K9+GIj+ZKwRRWiW30VUT8dR9QmYglbuk/TH7M=,tag:jB6KtzAnWiYpeJOPcRv/dw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:kf3rWaxeizlmOWXFrdFzujyelmVAhuZZWky5eZVdxJQhFGJw+LHFCtQjnNk=,iv:Z8T/gAFE1GA0C2n3GD3UtW9qzqTp4EyUqnSsgk/jclY=,tag:SDVVhwUS1Lvz50exGlwGTg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:CfesYgMf+JOASkmBKePd/MLWEKu+BCngK2QfcjK4TFfdReuIL1IBEMaClViKc6xcEn+Jf2P80NBXN41ehxoLThLpsJAcGBKbN/QjirMPzR2rO83AXOdsXeqWGGKN2HB6NMyh1rO/foAD4lrPOf4bf3bm2dwPuFtSmB7sZRCmzLx9uQikrWEx4idn17PLnArv84IXa6tDqUL3NSyuZEmK+xNJVQl67L5SIB7ooI4H1fNFBg+rUQ3N8DIHOgL9PWrOTMwsJc0oQP0I/qftubtvFrO4bu01f3oJfWFR7WmqXMAs/xoYMWbo32xz1e350pcgLH+4lYwPYj7hVQkQ3/yw01XPtDElmK/NZXMlcbVF/tJ7sQBcCufSXkLxJckX0xEwod8pg7XS8AcX5LYyhEOGD+sUFJwkDNhapgHI8T2Z8H0+oWkHCDxfJdwcbmxAdWi71B2ZynD33RAFzCCaVLmwFys9oppCRPKL68mKU89fJj3302R5FmkrhekWVzf3oaZo/KLMk4FAQeA7wnsvC/cNMKqniO2KJajR1hGsPPvIPEQ1YA2cXU8gGkONT0ubICM4c9lN8PWdaS64GtMgcciztqdQKM42Mk/NNAHaLqqZelVOf8oj0JfJoWrFemK3DgHN2j3Exv508MrQPeiznwHhie5WMwuWWeTuA7wfPPksrHUnDxWqT9mQ3esQ1TZORQ/eGL+LyP9WG/+1NmAUv2xEEDENvD9t8xJ+HiEM0XfbuHTb00VjFpgnlcBzAtd6wlQF4eu1EXuMHsbB738avGkZBLi08ILmUGfaM1YreOV+hAtqKVEYdY0sShc7TYMQXIutryyUwLsUFVASblFJJ0dMaFgvbl0FUpnJzA5F4FRdZe+BoM9o+TJiMI4iqUF2v1f5YB4kvOJ1+XEyImTJ9g1YaRuGHBVC+On9YawgLApk1tRc53XmneYMfauXZ3BFLIbCvcGKKH8mEt4MYlJIfTaIBIvuUwlVK61cDt9qKNtQKlNAK+SGuE4XtJpsgoGoGGIWwgaPsC6pL1I8EKN5y4TOmLqlsHBNvnOQEcUs3w==,iv:GyZr8i8dOzW50r3h6Xd667vyaQ3eQxrIWkoXYw5/Hkc=,tag:Sct4aPmFXS6f0Hz4SlETtw==,type:str]
    key: ENC[AES256_GCM,data:iaQhYLZLqfDASMmhkHEUuSCKOKM5mgfvhyR6ppw5fqQ8r0MyStR0FNP9yzX+YqiseCArGKoWAQagjkmFUjy8/9u5UbtDkxkh3JsM6U7rhPalV7k2pBj8m79Bz0yJnxPA7f0icfn8gS1s9iMoooZVE2PBDA9sCQMEtwJ7xkT8sGinB3uB6KoJgqGoeMNsoKI6XrNI8HBndPTDNVW6C6cW+ryCUBq6azV7EQI9DPJPu6Uw3SVSZm8FZD7sk2OUc0sztYKWEylZ7D8hm7Y9SAqJnJMZ4jLJdvz1ONAXpgCDxDzFPCYGocgdsXRTN2XzALbnTZBn52sfvjGvuadH1lQepXfsgKn3Grdof95iiHKKRcRXGwxzmiYZpj52rwkIwno8nfYvUyRlr05ZHjyfYkV0Og==,iv:PEPzhqb6K9xjb9Ki11gvFdN9wQnspXW21GQSAikmSuE=,tag:gf4fXHPq4f7oELzKhKddDw==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:i/7y/TMXk6/uJVCpkRbESBrSJiVmBD3pw1S9SeNE0/azuC6G7/b2czfMvsHFdRJmLksDL3p0cFOfySg+xd0T87eQvl+lsNMQcrfr+OsjUXYb0PRHl+89xiXCWD3XglJmwCjb26tOqoqWkW4QtwuVpdBTeEHt4HHGMy805ZOcBPFLTam6R5s8uTWDS24i40J8btGj0+Yd+Bc/gZQNsHnY/acIFpU9e2CpKs103uqgCClaZ8m0kmeYkBnkGraUmbJx3yO1Z+Foo7saRtVEg8Jfks6bXVvoZRxsvKNdmAXJMYC56nYu6Ms6+QAHa+tVVicSCrNo652D+LaX1ywXkQzto9RPMZAuQM+SalUYfb+Y/alPVDpDqlZdZK78dFfbbbrUvPG7zjtqxc1+IZd5ozPhTTLL6xlUjS0ASO2/DJikSyLCBpzCJtQ0930Y9F0aAysjRvvtJaLc3sz3U0BgAiPQUQiRI0GLXAlUJ+DQprZQlamk2rKxUrDl/eJUQucvLB42AcuNTTl7U6vUm4Ca/471P8hgX5KfO0HoFsZBBnzbue6OmCO1cCnh/ibCDmP8bMVYPD2WBCwGa+9gQCeBS7/gptF1sdmOXiGfXOAyFhzMkqk+4u+8eBs2VRVwteSC2I+x039IJlC8+gKfQw6ZfZkRz4nG5ssdyPAwvi4Ng+QBbLkGgHo8IOo2MemsWL4uf6lFTZaZhw3uSAxyu9ZAxnyDs0z8ggzFEjZ/mvZ17oN6Rr8pVjbFm+dWufEJ/o1E3McJXQmk6KZ2KwL4YMkBlfDs4iDwYFwpU9RdefWVWggiwiyDE/UiuWlcg6vHnqgD3dtqAhSrR8wSr15arR5UAYHGuafPOfO4sfm2YCqK6d3CA0nSx0ypNdjkmsruFqBEK8bU6WaSiuEyTODTVDvJqhkcF6HtgucEhzmwRS2yVCA0t6GOBSQMNwo9kQ==,iv:wmdoMLKJrXGo5n3rKF8gwJDPWgSN5QrnHbYXp0w+Lkk=,tag:6XWAmAxE/vxkIIz6HNH2eA==,type:str]
    key: ENC[AES256_GCM,data:nULCnlmWGkKGVcClPNnmdXp9k09rnV7+0ZgzC7M3YNOGhriI+pr2p8bX/Sqr/pocCyu6PJIKI0caToOz9egQENIpd58A289xWKBWH5cEdhluXEQYRLSAUR7c/T4R7sUnQAPieVQtpOQRzNp3470RK1UgbmKy0K9YuyOrDix2jEfm5qoojcxLY29csj58TpcmNcwAAnMVwURgz6TegknYx7UxFlhZ5jOsKjTHK2bh22rRz+vDkGE6TXBIKMD671zzcfAFjdEpjT5nMZW380VX6oVlWBUZKjXMT4QS1oJOJ+lIQfzjslSsJgaeDEuuD/kSfAeBp9aIxXxJmwiIsx6iZXnP2G4LeQBrVUT3QLIvmsn//77PO+XU3feaXpwKV8cPaAl1BurDdFtLJDpHtbfPxA==,iv:cOB6/alLIoVFtHQND18SLDuQMbjmXhGotZe8ibBccT8=,tag:zNUFxJYC3Pb+oSHJv9gHPw==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:elPJd5iFIcAj6w88djpKnahmd9HouXMBeMbHDSjDyTo=,tag:0NpHx3qe/JIvcSxFhw0dzQ==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
      feature-gates: MutatingAdmissionPolicy=true
    certSANs:
      - 127.0.0.1
      - 10.1.20.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:to0R85ZO/O+m02z5jb4i/yGKE6uvh1JhZbCGv6sdsEiEXSweqHnQyQEYBwr/6hBhmXD5l/6w6I2nO7OnvB5HChox9A4Z98eBcaEGwvPTTI/7rq+rkZcot99ClnGbgLFJKqq51nqGpDEZlzGa3foJpmG4nNflkmOrmFmLdCvOEBzHW6qzEuTgZVaZW8LOFAfV2o9J+JmiEE4BXwRmKu3V+Bemz38cDB9jDnTPRkJAnIoh9GZq827jEOyrpTG1byenhj5OqIv4rBGqwkSUMBlEclyumMvmQyhD58WBQVakCIip3orG5UpKoxu0wFxPkqMjLLmm/C+zu/fVSFGgzBK4IqsEdpNn4chpwdN9oaEgzhzLOEgrjX+Wnb/cPD1FrcaZRBrB6b+vWwHlPmQpbEJX6D7E1aVZSEEuftLEQ96FBPIYZnsHLz0Qe8+0yEmwHDBGZEZdXQqyGvbMbn4rjqwzWL4XJl7606NQlY6hOAFbxuhwBmdyKGxYxyHGjqWXGptDLtCo7uXMu1X4bJi4IQvQO6z2tIBhGXEaRieD5LnWMu3q/ysLluKCr78PStZilk5fRhTcFaEJ2lARTHQjGPrD7GMDUcLTuzx1Ur1a8pdr3tkiyr3GCzNQDJ9g0yp3aS1T3mIGgK3nUs0dciHD4N388vZVLtvD8FXZqR7ySzwgRxrHo11BlaIF34aEZP0nOAeVVHtmnDQY7GAgFiVrBGJlkdU1SnlW6oUMJN+79NY31vM3XmK3jJv4ir7lZMBciQWKlkd0R9yIe4AiixP7cHiQzFBUNLQb7Bk+cHnJx6RiHfY5pa1AuPIfh5vEaASmg3keGB0qs+999u1e3u7O8O/lLC/tfMtS+K6Mj7BjmN4pktG31SCG09Il7ieMybcEYWSKw7U8CjhGSRO0kqzeheYdOK74QzH5DFl17ulmo3IBT6AwEPt8i4u14v/OOZByDKEkrc9tqBHbqpHmeGDV6RKsfxJDulacN0iW74W5eZ6kxx9b80xJM2LScKUETj6TKVM7zuUVnA==,iv:jPHmN+Q78xiAQeSZiqE1mOdEAdYL9lQFkhAn/J1osuQ=,tag:7xfVxpc6059De6s+1dfZvg==,type:str]
      key: ENC[AES256_GCM,data:rMUwj7C9nhorLJWA7TiYY+mef9FZVt08O7eKiVoCtBeQMS3k4jbkgrkOLidhDLB/xeUNQTjlBUZiOp+dzLWAjp8v7GpWafvq3YzTed7BXfMsyXrjFYbcJeIuBIoRhADHFsF2p/3zdCJacI/lf3BVG2azTwozXQQ+EcYNuxnRM7NdYC/kiuR+aR/mp+A3GeQr0F/WtBUZ8wpMCuHVeyX5q/mMghU7UXHibBeXsfCkw+FSFsDgRJK2ieQazDcX1JPc5wfu1vDuIcuNiCjdJJsK+HNX69jmUTaBmwQow3z7tFqN1qbeLg6Hcs1oml8uyZC9CZQFpN9SihNBK1x3V+w93JdadciSqRDWepAbyvGZ8/nwuVGM9kM96VxxjYpcaUn6F7GLjLBPGtic7KcTEzFlmw==,iv:5610TSx6ROP+K8a/Duf2/ELaoYgy44884XJU0rvaRVI=,tag:YDy4IASaICF7M6HyOghdZA==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB6UzZUTlk1dWJpV05pT0li
        dHEyQlVVTFFvdERLeVN4TWZEdVJZZGZvcWtNCmpwWVcwdEl1R2RpZ09yRXg3V21Z
        SG1CTkRtMkNLd2RFRzFubGtpKzliVmMKLS0tIFJMN29xSFRaUTlTd01oa0drNkpw
        L1VlY1VpMWd0azFGdEtNOXhGMENqMUkKHAR3A//Q7GS5PF9nCxb4rFdz/kHLWOk5
        753rj54FBqVCJbj9uw0h6XxYca4ApEBsFtEDbsq9X4sKWLRRLxqX/w==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-31T20:06:47Z"
  mac: ENC[AES256_GCM,data:UNXcQquxa1+w4lh3/oS9ojKITWaGwKN9nVLdgmyTJ2S9sdg978FyC3VyxlZvRQ/DCv+KcYY2t0aVQQniKKvdRfudg/KiEaOH4V3BLsog/l7oVquWwg/w77wiRkn+zB+rapBPk6ByEOqpc0y/tgLaX0wOucz+NeqJ4zpU0J/t/uM=,iv:k1J9hPadB+XdT4O0OXPhDs8sG76tTslnn2sCf4DWQWA=,tag:+BHI9SWzdcthgJdbw5ElzA==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
