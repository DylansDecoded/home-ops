version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:qInenZxmkxsBG3i70TAbUXYb0d2vvmU=,iv:hk5BCBuOeY2cnEZnbQGHFqCuhbWgKbplJbrT7MIgD8I=,tag:PHb6K/xVo6n4uncUSwKnzw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:bN+FMsV8GNGI+0kH7H9hQiRzVVk/CdhgNI/vXim7om4KsATNzxHnOyRrdQeWprmtzI3gn8bJ2TMcy8MGhGG+0pYwyE1LD/yHd4q4Z+dM/6nlwy0AxijtwABnwApGLQXujU4gg8LoaA5R45vGG8jE/t+ihRy7AI8w0ENq4y/Pb20/q2oRiA3D5vRqiHdxf56362s7FVdV/8eWQLSpMdlqTetdsWbwiLYcr6my5fOMqO7ClKQC5aWnZadC3MxCgLuJupbsLVm8d8HQf0vhMuvL7sH/3quyTTRlkJzRPMpxsOA+MFZGQfJFLWvTIB9lvOrrOGO1vuhi/OEFj8KooQas+PUYkL1n9pTs9Pgir13SraCCr5pZ1aoO1ltF+NCK9SrImfj3j17sCp12HgLV58IliJWt3YTciPccKg95ah0fGZq0OBDv4h+/qduvyxQ5nWp1jpHB1bbsbveGfCWWdfthe6hwBNDwJJ6eTbc9xF6FE9keKCIg2TMqWBn5RWx8d1K8cQXi+IqJv8NajgGgiw4l3iIYxFTZ3jyRWhTsGSS7pIsWpFZpAoiyp6qSYmtylgcfq9HNSq7nLvLeYipR1dIRwSXCPV0CVh91ojTjE+kOHbtu6KMxzuHh4PKsP0M2sM4f0iUhfPVOEFtD17YHJVGrhv5mXiR2MqgD7k+m6A7w6gWxN5bpLsYo+gSzcKnGZQ3JGwVr05fbNFHCpriAwNib2FHSw8DMKJ0fBJQW82idAlDgINvE0zU0obOoJXVz+7Rja5RMJPxjK2je6V6w6RprwruhpHS0uhp44ikoV/d6Oc4RtpHbSzYthRZfEV5aljMrjRUkTn3HWEcbLiorS/bHTPIBQYKfGDPUQHyCPKp5qm2jrkNO,iv:udSYoAWncRAsjT/1cy88/BorGeC2MDYj8iJUmzybcp4=,tag:RY7xGi4K4Pmew9+9V7ZgVA==,type:str]
    key: ENC[AES256_GCM,data:JOJcjIK/I3ez3wayPQw+tUgeurTYDX5fxsg96yp8hbzytpUiVJmil954QjaOwerDyb/owYiBqqucDA6YEdPBltRE8iL2xicNLV9zfS6rLPBuysJQ4z8EALuiyO28S0L2zV92k6eQpwFLkfmHIl7vaZ72SQCFqIjUon+THOn8Ze19vP4PMxl4Ynl1S1cAX1MKYOAWXpwDnR1BWbtLA0CJBK66UlOpRN/R6+7bDmLdz+EM+0Sd,iv:qWHQJFw6+Nin+okAfMfAjGDtdgqjw8ieloENWfhXxs8=,tag:4kBd2+BezqFtW4jmAOeO2g==,type:str]
  certSANs:
    - 10.1.20.120
    - k8s.robsonhome.cloud
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      maxPods: 150
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.20.0/24
    disableManifestsDirectory: true
  network:
    hostname: k8s-1
    interfaces:
      - deviceSelector:
          hardwareAddr: 18:60:24:27:27:a7
        vlans:
          - routes: []
            dhcp: true
            vlanId: 40
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
        mtu: 9000
        dhcp: true
        vip:
          ip: 10.1.20.120
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
    disableSearchDomain: true
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - security=none
      - net.ifnames=0
    image: factory.talos.dev/installer/520de4225301b3fd080dfa5613482544286ae7a379ccd0744a375799d25bd5fa:v1.9.3
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  time:
    disabled: false
    servers:
      - 10.1.20.1
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.rmem_max: "7500000"
    net.core.wmem_max: "7500000"
  sysfs:
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: "1"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
        - actions-runner-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Thunderbolt
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      # Coral Edge M.2 TPU
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:RXQwqqWZZwY6FLn11EgL2cLU2qO8Lzx6FuKnsm052JdMidwqBzFSppmvQ34=,iv:8hlT/aATnA3dA9KxRFe+kKbTo5dzzOAYXbUrmlIRYo0=,tag:In5RPna6J4flgW5g2cspmQ==,type:str]
  secret: ENC[AES256_GCM,data:MZtYXMA4EBwmxiKduNnmIzd+govE4MDKndwdKpaLz3ZImZFDHMoSoWCSlB0=,iv:NCXXc5Uawgs5fl4sXJLZH0mlJtgtMwqooDM3EPMYg1g=,tag:XEIgGZFK+3mgNQLXe89Chg==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: homelab-ops
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  token: ENC[AES256_GCM,data:OtIelVAUa/oCdja9rSegQFGt4vFHUZA=,iv:0suy4njC+fnrFIXflbthwJArjW7c8nwRsfccWmojn14=,tag:IJ330x+lpjQ2oZ4mVrfI7w==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:0H4dDrEfb1DuB+HzXPXA6lZYgd/+ibQoNTfhCqkP12MzeLizE+m+5r+EkOU=,iv:QGAN8xwVKIF5K+ieEUqIllu9LpfinZA9bCI6F3arti0=,tag:16C1+fPRIDHq+61w/ZtLPw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:vExqVMtvdBE9E2bTzzHyrp6Edh8ybcEl5+DuQx/egs7JO5YgmiCltx/aaUEOKawXErt2fIFsvvCPOCb28YNw8o4M6vZfSb/MEA4Wjwb/hKXZzWFKyhwmrQZiDqImndghHZyCvHvmR1y6/U8pmwHq26De68PI2Ki1DBJTXLn2xOHQGJP0bpukW8Psb8vq7P+mgVqHr/UxYe1jkjGVIYG6rxENDnltgos87Zedv5Jc/oakABSJ2Wkx7pzc4cLrZSBxD7Wfge4wZYoujer9CsMVA0DubnrOeRsRtoz6CzWCmsg5B2rWvjgTFcP2Sh+41cYFPibGT6sJg/bqVQoD/Dq2UfYWhp3UrDZc/4QJNRXkK/+Z3lY44fgYZjwziTEt+rwko+LyLGMski8nvDPd9Zx1+Dy/sh5fB1ANi1tLvCbbxhS5jAS00F+YtBznPARzHfjxyeEhxaHwpx4gfd1Ea7tJKNJCiKWLeV3Vv1B7rdiHf8JSRq2OZWOVfx47uZfRFY9ulzBugvw8ZWOTCbJtH2NcHTcQP3+5ff2xz9bJU7QLhg/Ngvm8YS+lf5sTkrmzO+6hGXxfWtv6ZTMXuI6FxZojGf4hB5IrH35OT2Iue27KAryLaep1b+ct3Vrbdgseat4GwvOWJ//5fBKdYP4tyYAvYVdCFJc55KIHqPXUntPRQ030+JTHSZCl9XhA+gCpoar1yRDVIBhvWJW2mUr7RGS7wdBuCnNMA8zwRWG8Y9qxmfwNGfDcXBOS8AR4XcU8dQu9hNb+OYBiYSyPU+4hSOEP3fvRymMk2Yis1fK0B4c1nZzQm788EFCT4EO/+64qb+bfso/ogqyboafh7QN9Nghtf9WXwkaDEIBV+FnWmdy35KA67VFNWoqGN6ezcO0Pycm49GmM590s84hW6C+qwxBYSCCa5IRndmTKQUeQxuj3PYhIO6Q4k8B/2tFgA8Tla5lFEtpYIPCzHWMkQxMGV0BF6Y+ag6bgdKnG6y1Kq6wBtWEq+0gV+EUkpRkXTyB5oy8KrO582wYKDEx7tRhdbDKY2n4Ye1w=,iv:0WTYu3+W1r+rO//tsoAecnlc1RY/UEfAzHsW1McA2bQ=,tag:xjxpocurZ8GBttE6sPbvcQ==,type:str]
    key: ENC[AES256_GCM,data:ZScnCip84ARjhSb6d/DEQBnuGGM10eh4TehTQrgTWVsrYaXXdk4il2xPoIP+WC7UEj8V2pWatb18If0SwCprMInvhRmaRu0HcvOyzDnsf+f5p5xFOO58J9jvqBocoU1xI4kp7Lkbsezh/t9dfba1gAJ7KVJvASgfHeiizj/Qrk7dE9jT88UauUa5foyuqYwTN4aWDNgu3ESz9Gi7SylpcvyuElSAXd9YAPiBN65CzF/15Sa5nKuFmBxJM9Rg+ebFthhvlXBL4GjiYuf/2P783Q6btjtxPznGlNtBhLZ326BQ0FHSsj/MTFBvNJrmNbd+ZnD7Ze4R9YnoYOp9N1SCfSUR1P+8vrjie6DS45IS4pPT5Kl1cGVIQa09Jnok5FRe/OM5LDJOuoVopOPreuhzLQ==,iv:1IOH/fbSwyFH1aoEd0dZNZYvsdquLTxThMQkf2hc2TU=,tag:zxvIqM0g41L5y1tsfApT2A==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:esvBmLHIClzj6hO5/1Su/TcG7jD0KZ0W5mGdlW4x3GhtB94V0Qj2R+evikt558QMwO5fNjo3n37rEl980P+WPOMkphFsgZE5vCsoVfCckOvv8SsCpi4gApDVTmDXMrpeSlKAb3SgcW+GHuqQk6ZVfVuudWnA2SzAv5x7KP6+98ej5ZsbXzrpnASMOwVh4VAJegpt1W+jRBOGKG/ubIv37Bu2e7szBHnXok23evs7PTNbObMT2p4hmHv8J5fI1rYCwmWsdIA8+wImY91iWjlKTkyLCap3CsxehGH6Fr/mddMyT61fS2dB0+pUZBBY/a6OaE9ZUOUXK/J9XVpjL767QDHuc0Sqt5fwfs3D5HFjHplbzqm7Jqr5W+3Ewhi+qk8/btzbGETqkFEYELMjeyggebVTpEtWwfQAKXcyqYQsw0Czacuf65/ecTj/NVg49BgSBQ8RX8Oh0WNPoyDGbS3nvxBBW2ThBL+FeMlmzP+UKlWliG6jRTNND3jP/Hmj2p5LmdVVL0KZ1y1QHuf+mnCZ7g6kREVhkf2HcNQF27HwiJd24lKydZd/2s20x61DUBAFLXXrZWUl42hghzN72RLL4y3ieyAmi6JHwiHk9+agZjhn9VrhWmRQj9xdAibNQzUA8Esrm6h4EMGk/tOazC2PXFV9w5B9xzommof3ZaQDNzT52dx8zt+/YQKxx3DOy98/SKF688Y6gCR1ZVmW+QIWCd+W03jdnm9qkXPsYzGl3Nhe3cGrMCFjRi9fCznBqi78XlzjGDIfGHO00w+X+Odcg9bvmdCKiNLaSBBWYShlTAaQ5Cd6tM4p7Kw+9KM9IsWdrpJ05K8VKGLgA2kKpG1htri1lCtaz8vuQBlvexefpQ9fxqhMxJJuqoqfNLwgCFZjd6Ww3l0Mj4RcOZKS7MMKXaiiL1XxfTcKNDjf22Ihx+tQ2qoASXAz9U33RJOTNHdB,iv:H6Oc7nZx0dkOnG8lsIPF5FqtqHhjO/DPx1WoSflyMAM=,tag:Qiz+Z6d9xlvdQr5Bz4dUfg==,type:str]
    key: ENC[AES256_GCM,data:QwNjKS3lnB/jScZ9ccUgb7mEp52jzaVSlSqnUkMALbz/TOE9H83Yhw6aQlVkhEPg8l9G6ui8FbVDm/h0bWo9oC2lAuqn8oyOYiWPFmLAgM1+st3nPqOyxTSsyekT431oYvZMqHmWqs4v4ldk0YFPGAnsAxn1YUKNRh1awn3TVQHTsxHQvh3+IUMLZZ6am66dMVPnZsmNhZfeNbAjVHlfCQpIDXiMCRXzJRs3MUuTT4HeMkrybAxjd7cnrRao06Wcz33Of8is5e7MOrat1NLa0dFMz0++0NKDT6MCaS7p46A2cMbmrI1fIgA4ll14Z/wtJzPdGJOvOw+8yT3qbOdRQMVscrb1Fi1e7M+En8T8lmj7K+A38C2JA9teZB3avP9I7a4dIWWBVED33fjwwtq4Aw==,iv:vp8pJ+p+9MV8v9JQzkeEf1dj7hRkZhEJY/gas8VGSPo=,tag:grLdOARfvD2W5jA567N2hw==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:4iGFPsE0nIy6TAqVw9OFZ0gbrfjoykChPzXq9JT4tv0=,tag:o6YY2oTxlM1GqqZBtrbF+Q==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 10.1.20.120
      - 10.1.20.120
      - k8s.robsonhome.cloud
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          plugins:
            score:
              disabled:
                - name: ImageLocality
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:1lXGoDtNbjLeoET4tYCqwsAMZWKQzyvG5PTtP2yknRcpCexo3Q2WtSLiQWKPobLzGhiMMiYt+b5uSoArsu2pirxABMxo+3ScLt3n4SW/G9TTFcJYzh2qVYuP3JJP8sR1TkcUx5xh+8XI8ebUt4WEdbR/TxWg25Rek/R4WcFs5IwWEsF+ZjLmTyL853t4rVMemwPwFRVA3fgMrWspKIHXT9PUhn7ZQl8/J2Lmvt3VAzhFRiXB0nBrsHANjymKTckxXLLGpWrn2yy4xUfXJ4IV+O4zSxN34QFBOZoTrR1aT1wJ7wR9mlFSsl85lLbXkv/X6SZ9PsV0nkcA9Kzj2m21QhoBJbecDfQ0PukBOvSbVf8ABzCdc+JvkZCWv3IeIm5tw4ihmc7bkMdg5CU8x3dpVAP2p4M/kQaM1c4J3Eml//QoVcajAvLjGWNtOIH+qpO7vmamxvIaCYpb9uRWaRtpDdF1yM9V+kqnePUREf2T5GNDznHMlPqinyGIR1+UvRNhF8nzkA0iK0jENpNpDz/p2YCg1htKy9rgiOcPHHusWVexlnwj6HfIjGLG6df5jXmIfrImdiHdNBfKKJlTcloau1rqwuaH1sChF/iG7Uw1DAFq2oy83xvLflwxGgbbTHFzIARZCsT02OKKG2MSu5BpJnP468F28kS7/2oiTQc3e7F/zyFy6T6g00wXYvx5yAuUf903C2aommwUH+ky5C0sf3V07ceT7m+6JP5aO2NlrvFAnB5ewC0P4xXxRWShh/QpkL5rplI5PxlaCWOH+WCxsoJiBC3sm3zp91Io1yyhhRw7/ohlPsv2EytR9zaUKLk+X0AOk1j1tIl5LFQ9mRgtBhU9AyvUXQkPLhKYKpm3978HqOV1VhfGZQnnURrQahCzkStyWBE7Y4EFNkSkJhkN6FkjjMOKYG27CZiF+lSROAAySXI/SnDs/FM+AElN67J0paxtv6YMNcjPmWtSZu8VMZ7gJiF3jFGbHaIjasPR2ZAibcdrPIc+Qi2SI31mmfoE76X34w==,iv:HJ1rD6+s7uXGMbBJu2ay5Cg8ci6yDCEDhK+vRGW8Zlk=,tag:0qKJIGCIVoaprAPUe5Y3LA==,type:str]
      key: ENC[AES256_GCM,data:74ryZEm0WxxBhmDULCq7L4gsJXuPp10J5hMRzsdwDtxjtuIgXSxs+rmzzlaF2RJeeykcVGcwk12748wCfkNqNrh3zHHsFRQy6g2yhTolHLKn9Z6nLC6hP2lX98+ddwsmze269pnzPKP7NvFEi0jSd+kcoLS7HUhNiMhC1zs/QSuZMPWywTyHn1B57FTw3xEcIzQJy7cvHLKIYBaci7Msz599p6pOU5BzA32vK/Y4aa/4CFZQPZPr19wVYpLUsf3yYhMFaqsWe7u7/0owhPQ6fmQAvwR1kG9riu/crC0lo940S3LXYuGqRxG/OSzNVi0R8WDIH4rNBqEDJkuYOB/B5e8avxxzt84RaX54ieCnARbfYSRYpTTsG8/1Bv2COlAmkUO95jErhBBxQhr5FFallg==,iv:SQlXdZjg79PcElvX2h0EbkGLsL0niRFwNI89W/ZVOVs=,tag:B9gOILf7/7yA9NzmCK3IRQ==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBbHNJVnZSRjZHYjZXRERN
        a05DUUtvYXZqUHZCTThUcFFrSGpZcDQ4ZWtZCkFIcDZxTTROYzZwMktvNzgxY016
        MnkzYkZSVU9XbDAxWDdOMkMxS0tLcFUKLS0tIDhCSHhNeWlua24wTUp0R1JVM0hs
        T3BaWVVSMlFiUkwvaTBzS1VaRVJpbjAKc2XGtGlzqew7hhvFTihsti7J8G4d0cC/
        mhbrWSz1marxcT4xmYnLgmcrVk02ka1fjC9qNA+nETAGg6IidECMPQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-30T04:27:21Z"
  mac: ENC[AES256_GCM,data:sjUtUELC2AI2OMuYoj33WegJJgfDJjxzhj8xMrs8trxuYXauI5onQ4630aCm3NCNHiYPPQrvQCYQD7NkDjJ2rbfBOTPDoOU7CCrsKaHs37fy1G2UsXqaBtePnjf7a+/L/7zlFKOOFFbvwRI8bmswZSuU2h5X7E/AAKMt2Cank+w=,iv:x61Vye8+xYqz0+zDu1Q7mgWHFf6eF2FZchWZgl0trEc=,tag:cMLdXfI835CrI5rwOeXrvA==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
