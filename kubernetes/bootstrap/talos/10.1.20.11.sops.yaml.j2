version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:nzUaFp2Run78GudI6+zI0Fxbbj+chlI=,iv:zT/NOnmUHkh2BcxlllIcsd6mQT/CCtrYO7AQsJmR+08=,tag:kS9Z45MvTDHynVB4hFZKZg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:R2O+AsAkGgYJ56aSxE+1fmb6ex3aLMLTWbNKQX+ZBdxj74J66HOnt5ROa5sVzp5X0Nc6oA0gnQxzm4RXQYFI4bATDANKBHRIgS+9hNdP/YEOVxV9kzHLy9OZvgWdtyvsl4bKD/gyfR6hLqDuGyMQvncWaqzr0HHkClZQm1P2oJe6Y8voMZ+MhU94Vf8N+npCDqeVnForCr387v99RU1/I7dkqmE1zr3A6CeqfO74wrohPm9hrpsoFfeoUrybS8/5UlZs5mjcMPoDbeFRBVMQJ5l8kGNhjvjC70F2abjPg0D423jbV70dR5ud8t9KOjVs6Yfd/Utuv1tLR/ErIA3FAp5SNd0jKUMsaQuR3NQOnZqPcyrUPrQ0dLMuy2oWXj3qbAISLNECa5nmrGaTjOOx8suUpfnm7M8YeeRnYFa+LRJfeqG6SegZBX7f2JoXgwjE5hDCUqFpOevTxibmgzZjU5sctEgBNp6s9+LSZi264QjeVmsa6ER8JTALDqYKi+jZ8mv8sUXqvKovgpAOie97Tvtu/wmM43jRD1Vo0aStcjJTveNovMi2nhIhwJXG+pTLwSgindrKdn6l8VOxglG1GWfXTIIL52xMlz7e5a3qWVvzt5LeL5tqFwaPgP2WwtJrX3djStYPJYQZGddYue523ae1soorgJoFg9VDoZzz5va8wvm6DIlMPAqJrTw7sxuxV7QjNgkkfrkZRn3RUU+lswAGdoZVIdCoIgE43bdLp0ndKu1t4VLQDYGnYEu5FofJQjGQIIDpEc92lLac5yN9BhhLMf1MoBTGapTkcG+MCb6C347OWGrvPzfjBfUtcJsx/zvZJvhDB3yQoApPXd2bKvLTcV8QUdpCuQs5DGOHI7quve0k,iv:6SBruhGMWzcqTcyoviluXpl59qVNB1mscSAkbSMNHis=,tag:QJ7i1B7uURtfl9X04eTvgQ==,type:str]
    key: ENC[AES256_GCM,data:rcHy8pcqJPzediw1EWvT7Afi5mrxPaccfLuY9qFJztL6xMkao+hr9yYnYzXZTkOtB22fU4BV3oL8YTpGpD7sN/49Ilym2LAOlia0XAnJrPTtj3nu6rhQmt/IUFwSa5id4s5RTBF6GBOu31f0eFETHz2J6Po2YfhVrZhiWyurh/rucojyLHxcsSNdOXbOQoyiH5iG6En8QVzXILh8tHduplJz0UmuEpyuB86GuB2aWzOICclc,iv:QQuV8Do5HTBAsOB2zhFpIHl1auADm577mLck9n4dYnI=,tag:qsk6OARjda5VPwMYYHeFXg==,type:str]
  certSANs:
    - 10.1.20.120
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      maxPods: 150
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.20.0/24
    disableManifestsDirectory: true
  network:
    hostname: k8s-1
    interfaces:
      - interface: eth0
        addresses:
          - 10.1.20.11/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.20.1
        vlans:
          - routes: []
            dhcp: false
            vlanId: 40
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
        mtu: 9000
        dhcp: false
        vip:
          ip: 10.1.20.120
    nameservers:
      - 10.1.20.43
    disableSearchDomain: true
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      - net.ifnames=0
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - security=none
    image: factory.talos.dev/installer/1be6923a14b1498bc2930c02b286cbf9d98764032fb6a8659b8fce7c1476262b:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - time.cloudflare.com
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.default_qdisc: fq
    net.core.rmem_max: "67108864"
    net.core.wmem_max: "67108864"
    net.ipv4.tcp_congestion_control: bbr
    net.ipv4.tcp_mtu_probing: "1"
    net.ipv4.tcp_window_scaling: "1"
  sysfs:
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: "1"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:1eJenUEyYcQHztTNje7u3IDMt85U8N4MgUvqf/CQTOlAjT7EUcDnrhic+XE=,iv:3dK9oANCVtJBH18X4xwTlRt4dxQ++q3yqaIotatC9po=,tag:iaIZXHYwaVPKuBvYyUBohw==,type:str]
  secret: ENC[AES256_GCM,data:eRLVlgHRlHjyZ8xybNq/V+0b8zRHF5TttG4VHYhVmKr4DiiAgW7zqcy6nLM=,iv:0bXAVpKu9DKij9q7aq8v6gkuF0rvHR5FXLu0J0kINR4=,tag:0Y/oeBNiu0HFWfREzMOsvw==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets: ["10.42.0.0/16"]
    serviceSubnets: ["10.43.0.0/16"]
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:950UIxonCQ0xSXjJeT4n9h6GARohLR4=,iv:C/KRsD5fXKfBWyOJlATmLc5kHimpsXOeSTc920EgtWA=,tag:GS8ZLhmiXp8m05FEOKf1WA==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:21xyvJngrRMZ4aHnitCB9V2NBQZ4OqZ8oP5iTeqN6t9UHiiEUpx6ekFr564=,iv:9Eiz8ifryG3YFZz8kzZQ3NASeSJU136DJ0U/uaYYWA8=,tag:WbZH/3tV9m8nF/J/ELENNw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:ZEi1MXnJRUkxPmm8jsHU+GFAX5Tyi8wj109CpBN8pR7Tl8jc4i4mUNaA740V6LGdubHMLkQOXYXxYulgyPlZ5w0bUvbciygpx01ra9CnfJms7dSzrk40WcoLkbrgAJq6AJmYruStroeYa0VRzVdhGOhbny2yrM7Pjdn66LSUiopU7HF4BBzb/TPRr2R7INKGjhkOdEaDYYwCTbVXzzk4gkSUgjXIGxTsVjBDp/UBXWeK7oicXX3t4f2545MBYb+8ptmRWsUI9WvwjAXbmQzjdAoCpyKzmKHXS6CMYEk3hkB2HI/jN8n4AZP/Khm7hYSVuv3+Bt1HHhiWmeLBHolMR6e2EVEmLJle8M47816j0YSGUZbnxr630CF52XPzmZDTeY/Xye1WaPV5mpcbUMY997Pag5OSh3a498bOsR8EA2pq75lzegmsgpRtV1W5avAHrQe4ELv/4ASQZRAFEYZCxYtoeQOqETZ4gGaNijpKBdLkjucnXZkN+Vp42/CyYJmIJsEfm3qCgR169gZijl2HVrDnfIiwH70iLFo3dn7sMiks4ny9NMjLMQEB/OYynoazoh58NrRTP+KUchkASr2Ab03Ugh/y+PPtpqBl+Mj/zuG7YN1eJpvnNqi4i212/rEOVOx/CtJUzVtECHjftW1KaGx7835Qb48pdosFNrs6BJ1KzpXB28q8MrEelQQ6oY2rG0PPKL/5GbXzrTIqOCtOJGY+W7pPYD77BQjFhfGxi7MVIldf967tbMzMAR2JTqF2YD7K932bT/2RIy5dKF6Nu7gynSg4PrTMvKku93Tnjt8nL2/PuMuRry6mZqLUFTqjIkp6Zry5t9MwjVFL7g/olJjG5k4trvDNSU4pMeFYjTm/NzUYOjkcW0xs4tlmitpw8gLXMWNfOB+Uxw7dpHD8ng0R96FenC5OTGJsAYRZazPO0/Ebhfnlk5TrGoMl4AflKAOd1ZBZzYdaLzX1w75u7+Vg5Ddp/0NUC0+B7t3Z5bpiACevXv+LdOA4LMtcL8c8qk/P4oKugYsdepMNPpbrBquL66kWJbgzONMuZQ==,iv:I92Tn08kk6bNItlQB8C9LDY/GPEQzBhjhHMBtU9pzdc=,tag:G6ZV8Yb2gVPqDA252soYOw==,type:str]
    key: ENC[AES256_GCM,data:IDqTiXEhP1TotGvqz/p1XqMQuIIdBB9282A2MC1PRsiDpFWVqqQGnVA1n3Lj39jf7hWud6XFDD6SWLXAwmZJrM1kd6g7kL2ReIvKCZSie43r20Ql8PP3sP8sUYMqqYFL7CRmIVRqlIjw1luHczVzvrRYCt42AA7bEkBotox0s/9nr8mp6UIIYGlAfglnSI+ACv31Prqm/BtfqZ/SddjM6qCjQQn8ivzEUa+ILTH8rn4Mbc3wW/kPyUk5gZnJM2SIOdAlBLaUF+NSjiJB10xH7Ga0zqedNzVP8sE5+7jygfyxwry4khJWYGUfRqiiHkezbdyoaJIACNLLYMTkiLxQgmOxVMlY97QO+mS82gUnqClVeKoeKssuyfl24lvJ9MNUjgXQkGIZNO1/ObG1Gm1Ddw==,iv:wISRlloyCgiAI5gkLj85WzCEG0A9yp4Tthul9yqXqdQ=,tag:+FnbtEThhi2tuO4M76MQBA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:+KxfWCWY4Tub8iLwPuCPWkSFUlPvCmKVPcgdpA3oTfK1BHUANxWACaQYo14snNOtTNWj4okgLyf1GyVV0J9cBkIDZ5CLv/RHRuPCr4hkOqm9sQev3qDTIaoxQmZuSBAkKvIS6+L4YdJLnXzvTGtky7Zqmc/Ze7L0DPurfJJMtGzj5+5lEywei7jo42CMcCFf50+1hOnX2Su/eEgRHs00r7zvjnizETpcKpeLOdzSsXNeq7RQ0O8U/YX040XnPQny92dg8BPq0A+HDUnerSLpE7wVSkoIQhTjJJCS5Dp+vSG6KIuEZl2UijKITgA5/nkb8ItxiSfI69EWo8uaDRwpA+YfeK8boa66PTLdh93eJq+BkjYdtb919gzFGQCQ8Lb8P/P20OTyqy8MTLSrVjiRgJYnbf9rEn1n7jv0Mye9bC3ulOiUEb0UlooJEySubQF1egxe162GXurGpAib7Q1vmuXUny1gEvI7mNjeAwmLzcletaPRsTLTcbY/0pIeSV5/5td0agCEmGdK834e/zxE31/n+mSzM9iH90IQP9D6Qq2W5aWKyKN+4wOr9lvTPzbwt/V4ZusBaPjStlnHKmNmZyXJO7kRAwYISc7gQuRNQKkRl4xygn2IJlhrH+3+uRuMObsBrUCRYz0SnJx1AWGrA5c+8tFnSI4Bd0PXsWtmXr89A2plZUiTMSZoduigiThH9+bxwLr619tAKN8wg36HOFO7dcc16eCig3B6JCzDy/vZxwzD8e4cwlf0H1bCKkBERMwxgprgPlYzHqE2YagmzYHmjXWvGMC14aoKr7ahs5UtWx7h2w+GRfw1Ua6ysJuQJyxi8GHCbdHvLnbHS1MNQbuEcMRXmN5g7/KNq27mEHa7HgGy91f/NQU7kb58hKwZyilGYx2iSrXsY/fagK5vIpuM2tVMvAMJAoZkKC78NefpnVoY2Twx1w==,iv:Q5lBHbG1GtWU20ixZzxxuNwjajtYzn81t0FfABGzrMo=,tag:26wxdsXLoBdhd4LoYQd9hQ==,type:str]
    key: ENC[AES256_GCM,data:Ok+9nqhEEVYjCdunF+A33B1z8Olw0usy6KE6cNUPbaCKnqyTtHf9I2YcLc0yUFmM3fySJiWjiHptH+vw8UzyKmOPeST3T7DqFLkiR6J/GOuBU3I+PeaX2wQLx3vmOgm0F5RxpwsYHk3S0TbWTkzO/DC3YQFT/1yeaasCqTDaoGswUMmHIEevznt0xGHOD5ohuNnTr0oy6ZcotI/kIsdA7zPn80XV18Ft89v+UGy7iRIxPysrsIU5jpestMz6G6m1UHAEK1nYWfTuWijK7EHSWaueNqjirqH9RLFFiwEEBAJF9GzuAsWf4ialSWBUey5qGgN4SWCBw3Ib0P61KK5o36+ToCdbU6KOgeLDOiLCvY3HTvMGEQ01AVcDTqbxtA8losgQRqs85E8lNKtQVOdIEQ==,iv:GQNwjK6RF35BEz8Rrt5h8CU57irydVOJJegV4DBCbkA=,tag:pNiFtw/rC+C5KHJnOw271w==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:8H6WSYhF7uW0+MFRjSBBQII/Re2r+sevXmKT9Q/s1Q0=,tag:1mllNBHMpgmOiWNJal8U4g==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 10.1.20.120
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          plugins:
            score:
              disabled:
                - name: ImageLocality
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:v4hRCsGZL0Wbpnm/Q70yZ72pr5o1/o/K9X5+QIwKyScD6uZTU0A7MWvutsIINDkkMA5Wwq/7GGBI6UKIiF+2GLeuuKPhF4ENmIia3ojuyEwdMcsN2I1orcQjxNq5wJ2NbuAh9DQOfZvOdgN7I1NRAp6MbhEFpqdAGMwyhfykp/m7YgIQkPtf6dZkJpt55VqVXuG4Nh8JGqS3NLcM7+JPep3G9y1ZaSLSjHcwmsm7WqPsuMpRJ3V+LSeMDjVoTx4kIzjA63q+FCyHq/27phCvltiO/+3Wv7EQhDSqChGgu6SUD0sfEhYhk6DNVv2Rpb3VeHOoOsd2JPYmsmomMzHC+s/shD/PZanIXgKHquAD5BliSQ5qnjUpeCpaQ2NAysdFFBBt/crTOT9oOWkVh7WtU0WQ1vI3NzaRv7n3rl3G0wtY/D5rD2O0O6MvTL99wDDJM+Wjo3z7xhpSib+txtqdZ7C3ez9FdrZFd3TdWEICNEVdz3MiR9W7WPl0lnr52f044aetyyGFeg+CP7/i9TTU2GXrkfn2ldneXzCwQzExSQZqgeQmSd4a6iRgzZwA6yGCi9mCf5cF2CG+a/cZ/8ysqWUSRSTcGSw26xljAztJHh5OSYRfE2jNV/wOFPgwjuf/9vMx9J2sq3iBDPlefg2+J2X5G2u/+KH48ah2JsHaW09I/La15xnOSf8yq2RvX2CZylRdzm+uG9cC7j9lw85s9HcVpuBl4+NBSPO9wr7uJfhzQ3NDksxNnU+zZiLHgMa2VY12ML5J/IxgW3gcH8XFW12Q2h/IE6ohVCQ3rhMFn2jVS9azycitt6Y7T8a4XkZ7eJ8fRDbi0EwBQE7SHdzYnrJY0dWJYiHreYBcSNKo4y8JAnz0zDK+kaLs224AsTzsO8jPyZ18skxnjVMJeFc5ks+EbFq0UDLf3ecIgOyOJAZ1Ua6+Fkh5d6Q98arf5gyFMb4IP49X2cgbhAllcqf6thV7Vlf8sC/r5fNu6q8xhwNJHBkJ9StRQ6xZgCHVhV8sKHXWTg==,iv:bpSvMXw6FWIFUxR4oo4riQfOPe19LY7I3ACyxbHnmE8=,tag:nOjM5XUePNOv+LVVXlq36g==,type:str]
      key: ENC[AES256_GCM,data:i9LKu85Y2koIJkZubH7ppAoidIzUsQAPbU8/Q/wyW3sTJIzW/QA79B/+lAmkkfmTDwn64c+neBGwAynrSHP6m0bnsWotQe87iwd3RKXcKFJILZDMhBSB04qDOPw+07D/f7XBomK6x/rXNl5cxt6KtFL7OKGboqSJIaQP5Wwgx5Wkxe8G7sr3d7VFdH+ljUoFxKjqW1guRf1qvdYaya86Eu+LxlxEQYOsQCD2MyRNwLD3I76tubrQZIuvNZWya/Dpwgyj+eGTlIYx8Lan0trbuAL/fsFY+O7wD5BbFXvtJckkdkGslc2qNiSC8qrJOsDhC+kNLqYEFPdIyIrR6+yKTyD72wCpHyzLH1iHxKg18CX0E2ZURtBZSU0O5irP4Vg2AK6H7g3mVcQuIrqPTWXdKA==,iv:n+0PxxnaLY8drv+yGoEvM1nbveikEJzaCu4i3ZLmQOQ=,tag:2sWrLOy4kfxAYSAjVayeug==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA0RWh3bnMyVUVMOForQTk4
        U2ZPdDhySUVXbEdMVmJrRWxJTGpYV3I4ckRBCmJvaW8vMGVlU3hrSnJJWEZSUUxk
        dzQ5T3AyZVVkMWFVay9TaFg2bGswTGMKLS0tIHpZdmR0cEUxOHhFa2h1ZmExbFRD
        Q2FOL01MMHNIQU9LQ09sWFF6aE1KMXcKvrBATIxZPnb5KMKEqbk6RrLH2bm/Rtl/
        VILjYQ2XjnFu7CGWgg+ebY540oOe47xVGtBMLaXaJ2zUwHJJE4AZpQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-31T04:22:00Z"
  mac: ENC[AES256_GCM,data:J05RMynFm8FQSeryA5cT7BAxRdTkPppzdpWuEABDwt2QherZizOrBOuqQz/BRMCezSImd6qa2pzKJNU2kW1RnnOKSDtMAAKT25n3iaypirp6jQmJXy+qltttK9t6x8E5LhIKaqSGsdHMIyaWUu8HpOsHaeLWI9tYaNKo6C4Dna0=,iv:PP0Yp0OLVN5gNW+2ek3Q59WQX8WcyInz9Z7sjnAnOPU=,tag:XJdzJl3fJlnu9ljIlfX0SQ==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
