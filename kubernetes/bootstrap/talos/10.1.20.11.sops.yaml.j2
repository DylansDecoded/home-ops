version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:3zv0ypznWvqirNVvonzOZChCAKQMOG8=,iv:qF9uNCDmeyZ33trkZpeiGmzPIjWY4gdVYyvMn4SSUi0=,tag:/ovZhk1A1BXhL0DYEzKluQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:mF0dnNwJvns+Q5SWkL+IGMIG+Roa9RdC3j0zCTOQdNLospnWyiFGvqCtUdnDJjRUUsGuBukIiXju+GHwq+N82aUOGuO4LpIXJDFS/m2bklg87H794c+gSyqc8EfJXfGNI+HaeZhN82NE0pcfOfqn6BUZA7VVBBGpIbnjHnM2gwEia3KaztYfx8BZznYzu1us/FxJGtcqa04YwWHT0iEzhLPDNK5duHt269LhVFZziUGE/Sm3C3OaUyP1nVhQRTaXXMkegouQMjQDby/C7gguJUhe3wDWiUu9G4tMy20zfGhuBMlGAVO0Yt2cEjPy/axD4Uy+ScANTwYw+onlBtgyTTTgUe7rLm9R9qS23w4WsW3rFAAgAJlxDj3eH0vdH+bavOVPe2y1kFBESXmyKLtiOnVt8Pmy4kZYk0WjTL/3hdxe/sVGuv1OO1jXtXuz8pnvvcP7Pb7OssJIqAZWoJ4kWnjBHhcQj5pDFyv4I6VvmPSxBl14h3/yv5zsdNpLV2rJmSrx1ZwewqSg+xIup/PE4R7Ft5dsVevP3aS4cojrib8bnR02bjCV5zICH4zJH1DSk5O1EZnaBXgCOGSAOK/5Wh3rSEtkklN4psfY0R46ZKv5kHse0NU6TeSb8WR1Hz0M6FFhW2INVen58kUNuD5l0Ih7m+8L7vdbP1TAEDcdf3MFt9Sa7VeLcbE1rZku1+voXOk7ZkM0hGIvvtv0KjQwPiH9PN86bYlyt2dksU4vlOr3VKMzV8FA3X7KAEQ6lvPp5G8c9LtzDzV2k7iR86RidyeEfVTHlMKc7l8q7uCPocmcV0Jve2jUUZoIE5CQ5S/ifDxCdhYP3hLo9W42X+XzbFJFPPN50/77sUQhfJdD1r00RAgH,iv:jVTl9MFbbL0EEPNajOw4Mp8Kelfb5jHozkkbnnFB4Zw=,tag:xt5zsdoIKfVwVM+1/2+akw==,type:str]
    key: ENC[AES256_GCM,data:CMzzbDSi+t5u6JBcu0d2/lw0X61Kcyy0T3kqjukAfu9JrduK2eGnnHGmbUwkb6zhyjIzWxmL7wQPU6n9u7rmQPvOv8zNpR+NFG6Fh+O3yVG8uLDa0qoNeRHoJi+q1phc7P9auezEcDuMqlSrKHSH2bt5MTTpuMgC7Y6++ksqT6r3K3W3SJq+3j29keYTthhrWC0PfeVo6S/6VS6o2xxXokSiCpLdKXhceBseuqB/1JyL4/Jp,iv:EivuPGUv82uRW9vkzfBWLn+3u9cqrfdK1BXLyzNx7yA=,tag:yfTNrbVpO0Tmhj0Hp82yrA==,type:str]
  certSANs:
    - 10.1.20.120
    - k8s.robsonhome.cloud
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      maxPods: 150
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.20.0/24
    disableManifestsDirectory: true
  network:
    hostname: k8s-1
    interfaces:
      - deviceSelector:
          hardwareAddr: 18:60:24:27:27:a7
        vlans:
          - routes: []
            dhcp: true
            vlanId: 40
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
        mtu: 9000
        dhcp: true
        vip:
          ip: 10.1.20.120
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
    disableSearchDomain: true
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - security=none
      - net.ifnames=0
    image: factory.talos.dev/installer/520de4225301b3fd080dfa5613482544286ae7a379ccd0744a375799d25bd5fa:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - 162.159.200.1
      - 162.159.200.123
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.rmem_max: "7500000"
    net.core.wmem_max: "7500000"
  sysfs:
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: "1"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
        - actions-runner-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Thunderbolt
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      # Coral Edge M.2 TPU
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:WdviGX2omdx830hKuoTv65KoJaSPrfG4JVqsVjYKO1ZWpluXILQ+1l1ATKo=,iv:mTXBK0853YEMvDy36a0Z9VPZ0eqatNP20p/6TvZqtrE=,tag:i5vILRgMsl6bccafa8xDKA==,type:str]
  secret: ENC[AES256_GCM,data:XMBVzfJ6uLjFUIHEtGM631RLAiYdEJd7devXuV9uT9lzvx6kNC6wFyTCTlE=,iv:G2cCmVj8aWrsimx1TNfiCcwMLwIPOpgZsdDBsU5D6rk=,tag:4bYg7fCG07gkI/kpTOzSFg==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  token: ENC[AES256_GCM,data:+Da4JViBYfaoqTS8NwgNtq0tD03MPQ4=,iv:3UTqK/O5B/hIFN7dcNJ7pTjt8AWMZcgWPb8aOMuWcFs=,tag:fq+apR4642Fp0REdS+xs/A==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:7TCRqrJ1a5jY7ab0n8vzbI0Ex08GK5XqR2OjDH0V1Kw6IbFIih8MzynBfEQ=,iv:0EQC0IT4A11ORedr0xgLndydhXQoaq/sZXuF11Pkb+k=,tag:qav8JAf8GwO/dhkzPf9dqQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:Tm6XhkDM5gGAwyzBRA3VEgT7hDpvcnQUPU/LZg7l5GmiUpobkHx4YETrtst8I4z7tYsH3yme6iSS/w4x951bftjhICsdwQ56Sr3xZDCTz/bHt9c8r0Glj37varBCnnJRYW3GTswiEYKeTmMEOVz67juJqldVa43vBXfBsW+2uW7lAyqsgzH++057UmhYb2onwYffrnOE4+DBcNR4TlEzXmzSRbN5zSemI/Mv6WWidnXvJit21hOPpEsWR0gP0nkraFXN/VDdp9JjJ6cAlaiPq1Hvm7/raRCGHumcwVnzlBfL9w4bOORHexeEkXJM8K8ectcfJxgyg7f1OQ4h17065g+C5PhqvASqelLWdRRVEsVL3DSvZW6ufQjeCehQl3YdKcGNhfEfjJOALD33HibNci9OMImMkIJT22mwPe6qTemvU2lkfVVCOxVqMlvKxpocHIOKS1lRL4O61mBAmofIub4V9BioeCfJaY4Azigr9Rix8Mpn+khcyg8YNpUZEUlpHXLyTjN3cgTc7xnzs2Hqcxez6mJA5UMlIVRpKWxBeyu//tKjBuuezGiW8TLfMoJCv2FzHaLUxzbcW2xbPcptCnkWXKBG5yJXPlG2RmKFRGE+5FjqOCeZH/GuENSQ2fS/zT78qNCNYPnBeUNUhVxdZqO7ki03CIN5YntNZuTEIbb83T2MEEC+1h92JUD6Rz7/sNOBmp9+f9ebXP6Ijlw0aKeYc1lRQIvWhSdtwlWJQvZor/twom6/4dp9QAE5hpbw1I6sM9Z3dtboxNRaDn9038bKaRCK4X0lMQqR6m32Q4h+/Qydl5KOnck5aV+XhS4lUBOvozkSCGAlSP3lwwst5h/Ly5HWVk1azqDgUlz2lhpXVhy8BuvH4rcmabKnNehf2kkBS8mvgKRrePSGeXdF1m6962wNDZ2wSQvV06x8qd5ofqF7pqHY6mQXU1/MQxM7JYO0YI8KfCuDgD6DBavJEt9W6x+UFPr6kQt77WVksj3SJXJ/tWsG4nfIzkZ6s2Wj6mSVH/PIgC15gx5lL43zGxEQQSI=,iv:xLgUL0/der/0CMH32hVLz+mgZ5aWG3rUcrbIMGPJpXs=,tag:DanJu+dzFxIKlAKondyNyg==,type:str]
    key: ENC[AES256_GCM,data:cKrq3ka3erfQyyfMFXOYqpUZ8IxjXTsl2WFquqniFOrH//4QrPhgCnw4sRSFNX38xxXHMCXuEn4IuwHfQHXKTtzpNf0Od4a30+fINM/nB32+kh6nclEU02wNcNiKBo+pO/ojAxEsInweI3Ukir2Xae5oZt8Pzs0JIzZbKPxifFblLyOqdWBwHMG5A+ac7YvoVNDSUf5kNKnR8S9vTfAEYWpoKn6ZWdCNOa6rHWKkhYM0J36m8z+VgNZQWW6vND7Bm2xjl9fdE1lgTRL6PHdCAHu9//fKkyXjpez40QGK77txzn97ZSkNXAzUicalI/D63W3U5qj/OEktRypacqH8uSIU1qpl22vy3k7bg/rYATcSZFlFZrXhHErean8JanRpUP83/eDdEw25KuOa+vjemw==,iv:0pUYEgTXr7gLrDQVGxHAV/Yto1750ytn//gTb8vtK3I=,tag:uK5cJxT/qcnrHONEm6nsxA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:QMyjjz8RqBOGMV7lf/h4M1bIu6crwJeV0a/Lj0WxvFUAwyw91rMxZAGeHdbS/NNWRqRSNG0UsvFA4sKqYHpzA0SDOPWBXdq0P6HiSRXq+uSvu6881e216fXgNP7juWKLcACNyCBrtAIrjlRHe1IrbjQIB9deWOeLtnvIrerxAP5mq7hHsIcmIR9ntdiav1mziBb5kLiBZhpDstaZ9xUzSraia7Y4PTE/JP0QgCEAHoWReooOjz+MsuySuDoOiiR7gS3Sst+wWqK/AYWNrbvbtAeL711Rg30qilqxK5WK0QS6ctypJyRz+c316phkFfiWScPZJb8q8jxSOdPRglRxnUOLBx6tUWj0QMXrJiX78QQyjcELMhThMHljTJlAr/vN25pzGY8Pv087GQDhKcnj5Tv5/pRPGHMKSug0Z15XAeh8Si5gK3O4gpmWCKUs7bdy50tRZp6oWHUigGpmHL2wl2cDv8IcuReeLU8SHiqr76JeZdJTSymG8pSsKUqclP+MLZT81nNsLR96ifFfHYj4cF2uw50G+tZryN+WPMeD3teck1NpCtX6JylE3/VnIgExqTObF4ub0X8DCifF2SoyEIJkO1Hx2RQhWhQzAUn8O9sm7J53Ln/m2KCMWPtEzcGoOJXuTcTNLBB98YR33Qd9TF7qsN2tBMls291cAIEbAR90Of5ubykxUywO6ZY12qj/7RNkaG1Jh7XICkGXJJL1nyOWayAFKRJYPf3xwmyrSEfiH1GcRsCr86P+5kQU+87wIFrLyvM0wHkNER9FFMQimurgchcA+Id1ghB2Rny5t61VD4zjZTr18abYkdGnUx7w4ROjCCjIaqC+TGKh9ArfKuolPIcI6qMZG9XpoYg0TPNJBGuZ0ZOpY7fTczz5z1T6mJkDn0gC211Axw7JFlZWR539LMHP4FKc5m+QREJ2kzKiFw6zypB0b2Uck2W+Xm+q,iv:jPG6/RhhCzHzRPsy0r5vshYIowoTNsOClfQmRNMDEMU=,tag:q1DvwaOdHQ5uza77+SOeLA==,type:str]
    key: ENC[AES256_GCM,data:KgGulmaCApwYcyNEkEV16oSx7pJSts2Ma3qgCcTHdffqrUOx1GxTf2m5I+xVOmQEZ/hIf3pIBuOvPdiiGApmpLPltpZ4FN0AzeWXTn/jQ4qmy4qTaJd7sF7FbsXvW8Cjmuu326vVpYPXfZ+eoIs8a2rL3Y/r/G8ud1C8LyOhAG7o49kCkiXgHvVJo3HP+gdY1mzjwouK6ERI03+ix7dT3stqxumsgQ08Wk1e9DopgvNnhO5e6TTcXmrEJ3fsHXIwsAW9R/NAysEo14bOp67R5dQJLlbKrjx/rNyG+artKSu+EQYxXc4yWRC+CMcTxmBVmgN+IHOOS1c1jzmV1bVEiBGaHq+5BjMEq+RSMYsDB997isi3j2Ohbu33h8rqubwlMUkD4elJk0S0l+1CLfamGg==,iv:NG9thXHEvwYNymClKO/hXrnWqFk5VOxdjacGjr3Afiw=,tag:R5NWMRaCBp64SeLaxLwIaw==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:91l0d3V/HccW/OrEN+aPK+MB5pFrhFX+hecQDnmuL5A=,tag:iDxTNJAw0uzWal21JD4XMA==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 10.1.20.120
      - 10.1.20.120
      - k8s.robsonhome.cloud
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          plugins:
            score:
              disabled:
                - name: ImageLocality
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:izhA/xuV7dWVKGf2MPQHEkigVf+rMAX7lZrbPlDMr8JocK50DxnYTnfKA77IGFWhcCvk+i4rSIsEc39tDHFxWF3g8C1xL7nIIj9dN1jLdeB9Jz0CqWpako1ToDlL/jhmMXg1LtBrNOgPEn0R0zU6TuIsOb20gp8mw0bL5cah4/eTs6O6nfBhviyDN1Dp1M6P2EAhB3gEyzVXsGiB3205t+kBAQclfcO3XZRZyuFMys8FCkUVWxHlGnO/x4SenVf/1SlHxsjZiN4G8388biyH+oYxx0ENHE7YQmSOyCI0neAWagtNyMYKpIGTX9+F3gSyzc87bu4Jqp79f/7CxdtLyk0mWPa15qhN+9E2nWPhjETUm7MIILgpJ9Im9qJ2GIfs8OXGXZ799ZQJqxY1D36m/Y4ruVJ0yEUjl2Sei7V9DwzAIDxCKD8UNXXEUMwh6vT378bGdKeucM24vpyen+eTVSMVV/lE4oxHPrFa73jRyzCYyObeiF/4DaCbxzYotwQFrgrZCRUhpPJhkXki0rkW8brl8Re62QUtjJWdEfKGNJ7tlslJ0WGHYg/vJ7yYRNtwW/4ZzsBZhN9Mh23Ih7b1+oLVkxWwHIBGjrbVUF/x5ZHyOabH6t3iWCxX1d3wpkBHWHz1SO+1qwbC4ZBnIH0CRb9H11kQ6M9YsJVkOfFnNtEMeNyrLy3Icac7TEFVAfMbpMssR05KLK53+01AU4wem+e+AzfryYiTCCK/7QbzKMtK4sSQzF+T4BaMCgWw0RkAh/GrJkWl0COAmkRsTozVF+X2wkbWlSf3dI5uPGqe92dj/g5NOGNTpsDvXoi/94NndDOY+A9xy8nqofSGtWtAOzhHbl1TQzz0oR0Fnd0khRZvra3IdB/4zhwxzZQC3UyDLerIPryX084gbg/szq5tMrTpA517w5tqp+0vAxqWghwgIjxEfD0Ioc2YupamFPZ8BrzLsagpDmR9zxeuTdrj3YoC7PnHWkMDex115udE6mG2WebtdRzXzPCG0Fy2xhWtNvIyiQ==,iv:djzCclZtiVfD7dxMfFggjkGgiEfas0LLiPHGwGY4wew=,tag:0pPZoH3aAAH0N2/SZu8eLQ==,type:str]
      key: ENC[AES256_GCM,data:TXTfsbN8jFdyF2OnQNl7AM5/2RuzM6u6NxWvjcTf9l8fu3mV8UN2yoMqEfg5jzxi+pKd/6nCcs+p1ZWPrbHjiK9yHDHaSJLCIwSOs7srcx0XlE/muAzmm4S+rtl5StlXf5JPnpaU51XChJ1/kL+Ehmg4QrKoIP3xDxf5NxHuuUicKNP2Pr0kDOPdLTr6kjMk/12HeaoiklfglIufHYEEzjinUuP5t/xp55/tOw/ywztSLmM8AD0C7QyNZJPfaDOxhgoNWk2OAAqZWdpI6adas3FM29zSy5xAoBm/3K+FzYj6UlQLnfSOK3RAtMsn5XKUuVDx+vhCeqQLPqUmlKUBhDpjJRKDWNKFJrWQtdDounDsZIW5AtReV3Raf2BoZHY/cXR66exFyIxR8kWJ8ODsmA==,iv:RCL/JdhLWCsM0qHh4uk6YZetCtnr2e/d6YWYnYt6tYY=,tag:b2Hd+bKXL+2Eney06zG49g==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBtbGU1OXIxNWk2L2xyWFJE
        dW5vN3NHTVZ3ZnRBSWNQMWJ5UkZDaGlDaEhNClllcEw5ejRqRTFNQ2x1V01USFQz
        YWVtYTNuTnIxdStuNVJMeEdiNHFaWUkKLS0tIE5nL1BZbk9Na0N4bkNnbEdwbnda
        QWIvQ0pYaUcrUlBrVFY0ZVdveTRyM0kKj3zyByGx9AYJhfFq4tWe2q4m2JsiWTqo
        ZlwyfS7iz+aJAVP8odIWNgGPCrJZU39X6M3THMHk3RRIKLO8dvD6Hw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-30T04:58:38Z"
  mac: ENC[AES256_GCM,data:V9vh9Bu3GCMehIgwcO1m2koWAEhrJFJ8W8Gjw754J7iINxhN9mE2sSei74N4T7TvhUwiZmtPTIn80vRHCAn6+yBuE6DXkMYdDCW6DFKwV3Y1C9v1JUzKuYmmN3eXuZ+EnxthWHrdEmhZFUjYG6Ag2qq9K/cAWa4OEGjnuoapZX4=,iv:ZUCGJ/wKnpVxxTfmRn0NbEGPm2ukLkr0xiZFfJ0tH8o=,tag:ZXqHBUaRsF9rNq7k7BUm5A==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
