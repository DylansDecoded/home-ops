version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:1VII+4jTF3AofdU/av5zrOw5kv3AIK8=,iv:P+WJhALAtMUJuipLiz2jVh28yJH/ZXg66fwfRJcVd2E=,tag:IpMuHZYerhU1/3wE4n0daA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:4CaHWTxbBvbFAl80mwnAtAN8zEFWUT7Rl5RDYVrAKNIPs3VWqgKC8kQAj05UOL891l19Nun7454gg3Ox0Mb/Xa/asibrMAfj9ZEVaz4YEV/b8OL5KyinQEeuX+a1MQh6zE99bdEjHA7BMiflzzl/KXcZaduhfDNbimvrzKyN/od3tn/16nKbW0sVABRKgnqmKhTEnszLbP6dcKoynY/+2HAROLJvb9blmb9hK+EUkdNHsfEalE5cxOGg9eXLiZFgOtdQTOLC1X7mk/ZVcHExvDfcw1hZa5AWpR4ueXc9MVxeKG47tLfnisRehZY87pIdfwGLv2eTDsUByflPjvyRG3pNQD1a3tZ/yqI/qEz763AO0z8Q3bLFl5hays8pxHrR7gOFGGIBZi/jChEYcIdEitG8hxMsL+0DbRJxpH5az3668lq3Ya5bGX0I+zkZ4uwRq8x0UV6uIVQurtWSVNXDS+pBTxZk8q6FaXDu7Par+HRsQqtpytv+WIdJwasx/eWZXLhxN2I8Ap3hm931kbHaxazfzau8hs25QKPcRYwz3B21T5whEs5KukEgTJUNwZ20Ngan9hTU/Wi0XGU9G79385GMa8uxWTE5Q4IMlCFImymqpT/nP3FbJ4jn6Y/wtmbmxvkvaal/vH6jTxN+tPGilmtdoQrQAXrwQznMg/XT/DFBL8j6ZVIc7ves7qAwNRC+XkmgX6L4A4MZI283uV77q3jbg8W9Q9oSh9QueGULXewBhEtFYV2LBCQ6DJU6a7zBNYBmGcNSSsbcDYj0Xb81mo75ONQcWvQNyEcv8NrqpKiVz/ltlSE/N+Eg/dxIzxWydRueLYbKJhrWplQfpIYTFqgVmVYsNxVH46vp+aX/+6ZfaXOT,iv:oq36voepffaErY2whcZrsttcYUrihr39UfCd/lZ/AIQ=,tag:Qq9Ku10AEkyMRDzGl3tzRg==,type:str]
    key: ENC[AES256_GCM,data:6+/SaT08344fsmbPsBi0WiEF70e0AWc5w2KhVbHmu/asxAJqdOs0RJXvdaCGZ94YTbWxUG9skX1E70lSYn3HH/6WNDyeknvUkykSeZFvBRO5PZHsVzEcgkZfEA0/3BP9N4in7Jh9F23flxhbv+L+QdeXPLNkTqTqfI5nKiVESUUTp1txlvMG1ynrjK1Fkgyv8RyuUOgBBU4kdy7y5GHcACWzrsHXBPZU3TVyPAwszhQ5T9fW,iv:eevOx99qwmu3ZsMA2gZ9n9la3GRG9iwm3pZEN495CTA=,tag:qJUwIqOLAfvoI9GsqNlkZg==,type:str]
  certSANs:
    - 10.1.20.120
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      maxPods: 150
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.20.0/24
    disableManifestsDirectory: true
  network:
    hostname: k8s-0
    interfaces:
      - interface: eth0
        addresses:
          - 10.1.20.12/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.20.1
        mtu: 9000
        dhcp: false
        vip:
          ip: 10.1.20.120
        vlans:
          - vlanId: 40
            dhcp: false
            addresses:
              - 10.1.40.10/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.40.1
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      - net.ifnames=0
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - security=none
    image: factory.talos.dev/installer/1be6923a14b1498bc2930c02b286cbf9d98764032fb6a8659b8fce7c1476262b:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - time.cloudflare.com
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.default_qdisc: fq
    net.core.rmem_max: "67108864"
    net.core.wmem_max: "67108864"
    net.ipv4.tcp_congestion_control: bbr
    net.ipv4.tcp_mtu_probing: "1"
    net.ipv4.tcp_window_scaling: "1"
  sysfs:
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: "1"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:PXgDydmXQjuH0RwGrhB5sIKcZnvitdiN0h1ZR2WGEqRpOfLKc722ZuJypcg=,iv:iRA0O+S2Dk/x9PMFjb1vGCLhi9KDLI7aMJJ9BUFM39o=,tag:P9pVMGU1XCpCXabaJhVg8A==,type:str]
  secret: ENC[AES256_GCM,data:znTV+lgbLnfZ1f7gXyLvFMbpKC9TWWFWdyG7E3qbm4WDWLOpIw62RVhdmao=,iv:SlBMAvU3Eu5S79boPMpSmwTtAYw4ey03AVhaMTyaYsw=,tag:eFgm6Rr72TZpEWpZbaKS3A==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:uSJ6fRA9i5VC9LvQKrqSSKYa55HBw28=,iv:cZe3qoSURqJThZorGHu8Eq1XdzEKOSjMoVsi4IQWJu8=,tag:GJI6hQ1oVD/d3Byi/uUqzw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:cUPaJMmrDebmDgVvaJMq9lRGVKRjtdIupBTSvdxhos6/574n7lAd2BXKBqw=,iv:qpt5NQwGqJ0OQbjZstyhE3Zy23QPsfdSXEB+1a4HDR8=,tag:Y69jE7Hc3ycvEtlW+jYxMA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:lji4K8FDLWs1e1W0slBWii5fCNePA7ZA804oq0wKPWvK9hxmUQdAImETJTpmQ3EVddj0QB5yJIgynz7s0aq3R6b9pOsivTPn0dxcf831uam3fpW9Acjfcj+E25jDZZoCSFnFK2WQBv1fy84khIn+m5DLeQHYxSGzizCdXyZEt7v4GW0xht6b9dUV/udRBagsLrgjpHEIO4mhY1pMNHgpoz7Qoz/e4LyyaHHPl2fm1ZP4UxaL96ykZIWHSXxZCFpbOKQrYinLGNylhOBi/+41dPxzW/3njUDFJm1hJOgkV6GlPzQ1L+byQsjD0iDRdYwAiiIjs78T3QwzrcY1bKnB70Z2hCKFaJBPU65+gLXOEyreP3Gb48GdWzLguWcFCzwApTWLXdElHphu43VOMkQ9+vMK7CC7FHSO6lhlyQJ5GWb6EgvYRuPXRpLBzbRp3HlCmcKfGTiCycIrX1ihshCkNhEnHcAi/bfbusxOiSTQMdLRC1JZwdS5iwNfrphOtqMtvztrp1jQg61qGskR/Ex/9dW9OAdNqTwiPCJlgzi5swIDxhYze4XFPD/iw/XJBIvaU+6keXNH1tRIFmEMOepDDw3XztVvIhDAr360R/+rB32arY8dv0w6n0aOv6MJIY4BdvW1hI7pLX4uHkL1QHoR6nzSDmyEfM1j987qwXH89KnZzpt12x6NXjTLsvvEV9CwlAhdj8luTZGOcMRHP/MYR1tweguk8AxrngaF1lVdg6u9tRA/oZ0HYWIOnozcQHhP7NcKi+BaDFF6HTR1X8ByaCy3V6X0xHwP3VSaYDKJGxRZEaM+ndRZ6zO8lzh0Mx5JZn/9vissSzshXkBBXaZP29Z78NPco7HDAMdHQfQanb+caYlUQ244tXTd2pap0FuQG7k5sva/1OqTn2EKYg6JoXn1fHr78PaBNRoWLBTgEEhbgmGt8qhr2me9J+pXvdrW0AOosWQDDjIJt6KnzAR8iXLnRDGeyUP3cEMsUuD/EhIL4+HIRjGIGZTrtIba7vdAnma5VIwF/7yPx6z3pJP3Z3eH/yTJGnr1lnmATA==,iv:O06pVlwP3QTg8aPCvkmBypcuJG+ZdMWhEQsBAjnTYyY=,tag:pwMtUf8Yn7Oj9euqOYfcjw==,type:str]
    key: ENC[AES256_GCM,data:V9xmBN3OUowc2dQ9COjaeS4j9B2zHGpJcQUanfHjeSH4w93mZ070rwLU6rXK8JSDhyHUdrpy/hH7KKJ41nMFy1sxqWSxDE/7xxgFPGtTEsSlbgC9/wPLR7sHA0zOKOYE4A9ov1vl0sWomn112EHCdmg87PD2Y+n7MW0+1LUqImmhVUdFLOLhxvtsWe2jiTn+0V+i1awu0Nc0P9t0YpWBO+ag3cIK+yYuGMNjZZd75CAMy4ZzAsCOFQ/73Caga3aRxBibkpWi9NLmSRfXnPAKHpHjG707eygz4ckpJDXBQvgnjn2t+QGQkmObBO5abiVltphkSZm0w0thqG96eYT7ua9Hzf1AFfg4C4UzJfvQJA0nclRsmsG0YedPAG0oBTQwKOdjU8oWSOj3YkhCfS2mgw==,iv:kv41okSMrw29Zxs4gSQPSASphL8ZwEvrLjSrRSwzD8E=,tag:6zvECWeGUgY2a9OsMZz88A==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:b0SmJ6Icsrx9iXNlB8Dby/rfwtthuhGeOZBa/wiafwabQeROK5kvBnpRZJGGuqy5VP10cTbXEplN/FWAQFtQlqFK8yJubWf+T81HKa8d9Ah5ouMOMUrWBssRnuEx3WCnKsBldLZZkUCEW08/MSxu481VuQ7sYt+dRnG8jcbq0cUzI3wA9n1AXbdJKJTfYQ7iWK0CXvLplqgfub/KzoN0NQrodII9s8GK5Ax5bzwSZnT1/6tLDxcDBfRbeNAoYhoF13QQMeT2ryivCDDaz964hOlut/iiFDRr09GyzGeC9zKfsvpDkv4XB6lQqCk7qBt+w8jw4pQtOJ1CWVRq8XoCDzCeVN/0yCU9wSQQsXd7Kk9ZELF2q8x2QtHwV3ZSYr6t8BdQBFYdOPCSU6e60IBidfo2T8eyTxBAeQt7EWCM16QadBqgCkvSZfH3EeCZsGy/h4BYscnL0YhYI6fUDFvL+KVnchrkcRIZx5WgQ0owBwoaTozR/lxWdePCTErsV8Lpe0UrOTHW1bjqjE/eM+543KJSR36/UE6xXR90t8gIX0SIzPdw8AbbiPKRFhUREJ4gx2OlkO8zY0UQ76+0ksslYxI95NIVSFhEQbh62IshqwCK2GFDQF7Z4bQyHItmSQ1PWxvz2U4GlhuUl2b77IfLovwZzDErlZMwT3GpEE4BxjsmTaBbaPYtb7LuceFQXheXCMCjH92lajsP5q7ZAR7FJ2C0Uw2vzhqkDPfVDoH/BynKJ1pxwfQeca5CbDkeWfPLn8yS5qnKnRZaoR2DoLDUnAmM00Dsk8AZoWhPW7cro/P9rALzAz9GaUsX3CNejy8KKhznqnLLv7zX2YXmnxvxUBVOxHb2f/AG7D0rue4jQTw4DvyJKmzpuXI+kB5RnW6BrjZjAWlQfHJ2TZ/SVzpU0yHZhLYCrrAjricgv/IAmakFQ569rknhJQ==,iv:ca3CCAAl9JciNWfa91XzUHzkzlEH8llwVxTNlg7MQOs=,tag:AzyNDWJbUkpXYHCZps7YqA==,type:str]
    key: ENC[AES256_GCM,data:g0d1Z+cPOabQpblZriKM1nPxFDf+PN3DuXrWhir85G25mZIlvHqQPl42VrZsJlo89U5rLbpENNjA4bMJdrs+3yObbh3IW9aoeMepisQnUD3qUnULbkQgORGj5SgUutayR1tOMLleSKLGA3E+724puHbVDdZD2GWS+nZcmkQhtBFlMKaWsvdskiRzi7aDOu+dVxzkAbM+Tz5p5+o3kzd9kp//ciVLx8XNhIyCsFQT5TA1gJCtKwyolGuzZzcBIAQISCOIbQbwcox+e+HCI7MeZrl/eXlk18VgXhNUAw32GfoNuvy7OqX8r+HFkoc53ZiM1XI8fYQr+FG2lA1axEDmyv3w8RNUpwkDocAfvJrBCyZ2MVXZ44q9iBsk91M+HJL3rMzUlw5u6hR+9f3s7dTDVg==,iv:Tpzs7Xpj/50Y617JmG9bT0pc4QbwDMRoqJNhycNKKxM=,tag:gx8ZE2TDLo9HZc+WIjxFTw==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:sduKevYnCzzy2ZWTuSGftqVPVfgKqcNm2MkJb3bdRUs=,tag:uZCnVP8fFGJuZUTZvDHPEw==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
      feature-gates: MutatingAdmissionPolicy=true
    certSANs:
      - 127.0.0.1
      - 10.1.20.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:/zrgrocOWhs3OuLUCPzNsDjaQbqgZEqK1AyOjvivVBlJnu5GFhmnNfsXQdeNdvJMJxh5R0ZToZ+lEz30rpAplraG1/ia7N9nmfZHrnOksEUtqpM3PxEntlLRASBZ4Acp8SskbAs8AvvmatgDDtpOApV6UJxglu3Gg47a8hFj8ABqST5ZS+CqIAH0Pw/AABAEXvTbVH2WQjlLMA3xh6AlbrQmKWqBmSIfYb+yidoi7lKJ8EsNBWOYpan6iDTjg9j/v3zSaD8EUAL24Cv3GpwJHXGiFD5W07PFyONyQ63jzTY4Jf7gKwaxsBBhJGpGZMJbr1CgX4KvsWIu3o1brp2pmahpCGbC6cs5vHVAOfhbJx4scZWlu/62OfiL+ivaorA4bZwKsZ5UYqXEOp8V7SvYr54LpfHSoK0t0GvaK4XZn3ILl1/Sbd8ZWM0/0gAJRWhRUu4LWS2pvvKcpXjsjRKSmH2LWCz/SmM/fkSCVY1BW4Pvdk/z8wCRFsAzAau+9XdLATXXVwaYaX/LmRyyMwH04BuTZpdPXXUiMls/nelhTGYfGItYbQxpW7PqAIiWopjr4DTeCFN3vaJtuwcFQXKKoH16q2iZiLgEDJYXQ5DaAp/nCkZjvTrNvruByMbmfgKJSn0/iXQZcMKaK3/p61EIjyZyPrc7AvuY161aZ5RtFJUU1kk7TFKXuLRKUAkxz744ohPoBsb+RJ4PF5tNKP+5vAQJxD3+/fmhCpxWQgBNU3u8z9pZfhSY37n4V2QYYFg2lKwwB8I+NG0M+cJFTo8WckOfckaFk5giPdE1qct1jI9rmGUd7y8BS/ancwl6VzAbYf6yxD9WdFk+NfhVY/GIt4jRmQPJWzoVuQjW5H13TvYAMCaG+I/344G89+CnUYbFX8LSavLpJs3kUxC06CwWBRq0xIQyEG47LI4d3UAoOo5/Lab8sHDv0ofPFTw9qebG/xTu/p4s2ytx38iuktefXKDT8tCKhmIduvP7p+2W7BsNQE3H3E+8dAEXSrItHVK6nKtqZw==,iv:DDkTKLiUHl8GhneROFiW/NmrP2vFZQOuP795AGJsRjg=,tag:fsvAxlh+VDFU521E7PQIPQ==,type:str]
      key: ENC[AES256_GCM,data:0CuLMkbGrtmNLGp5JMbpxobRkwCXujU8lUyMyC9Xig+q29fjaYIqeB3+XrtEoy7OYv3nvY6haFasccBISVj+rbhQ6SVxCah8N/2VY8odffnrCjP/4GdClOCXdATQXNlGkuZSL6EuZJX8zISPq+nCdQkWoUsOtHHetGfHAG4IKY18XlkA9h5PY9AkX6fmEhhVTYyuE4MTgNypEGDZIpsEHyrA1DK+/0zSsSzNPYhT1uGkA58odtGwkK/RnNuD21Eh1KQr4t9MxRFFTyApUc49hf1bpxaiTiAPBMWxTw5YuioYB7KKwrxGAzJvE9CezY6wBIREiPFkrg1KRCQIuzfJvSAkcew/fGg89nLes6UqrQ0BPUtkfDyU95S7mJ5fNPtnuoRsYdLAvfZe4ycNkKcOaQ==,iv:h5c6rz7l3G+3KI0/a4rAugz5GWTAG0QP+8U532GGctI=,tag:kK/o3cN7zpJRxWcc3QC+Eg==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA3TEVpdjNhU3RMNExDYUlq
        T0RsNWNySVVvbTQyRVFydko3ODIrNkxtTmpBCitzdGJSK0pCZFZIN3R1SDk5dnIw
        YStiRytxNHJGYVBIaFNoOVZTS051QjQKLS0tIEZnMXQwLzRBVFpzT3k3bU82dWJP
        S2EvcHNpVEdTQ0Y1RkJnczAzMlp4aUkKiJ7dliBsOJygUsVDEip93Sm5zQKptkQo
        gzqq32XaoUyweZNJQMXpo/j1PqbxSDEL9AUbueOqPz2gJiMZGwRfQQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-31T20:06:59Z"
  mac: ENC[AES256_GCM,data:CmbT+i0NQBwTtLNMrD6FbGB0LZZM8Hv1KnGINjW9fb7ZKT7bxPBzb/7PWqnG9S82PhjAYAAIABS6LT27fUbBk3nE9eKJQV+R6Zl7MITVm43HpHMjU97P8ajuYCK6ZN6GekdiGeUUmAJX5uwWM7JlXpr7x+FullthSthZBrbTQRQ=,iv:Q4TvzxQEB1Scklw8gxytBavAKq1ms3ikYeLqNy3Gdko=,tag:el33LT334cvUUytFg+zh7Q==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
