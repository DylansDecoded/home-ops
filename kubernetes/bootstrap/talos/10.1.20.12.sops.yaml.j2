version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:7xJ87/yLYJweY52aRCY247J7xghobP8=,iv:k8cYxTmSKgcJ+/8GecJsC8W5QVeklCm2GmceWaaUJpA=,tag:l/JezGJy//HpbIc/mq5kiQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:UTy4jIlyJDoIDoW1qS9ef0bqN+vqddmZf54tRnB9J5dY0L98gqUIowsIXPTQyPjn/LMOaqY53ArI28Bpk7UFz3u2kLKFRwzUMOMRy6unHSeiAZ4mj/Q6/ieVqZHqwSM0u9zdHdqOcsi1iGdJ0BzJ7cGq8gIZt07jqf4QM1CbcuXUndNI5ldUxOQwIRbimMhhzm2glkOvdoZbr/njNIeGH1Bh8742/ll/kGlOHPAyUZOHkKO11RFZla6d8enm2nhzUTbrFVgyyXCCvKWMI8lK0wEpJbFMLTqw6mgQ7l35Q85D9f2Y0rdKqSX90ysq/kJvGyyDyhN1MrICsK3By3W1x5IbSEqkxw6B6kqEUsNTFVvQsf+pfBf620sz9gerCU9xW1IjNPf3QIT5GkATiyLP6cpg9U6Im5wrS9ANgkZSLBgH4488qVhLKrzMu4HIh7qdyO+WR38pvzGibyOGiw2lPHXpNY89Mm5ElcKHPIfuvN/w7DJxsSRlzr5w9AXlHHROKgcExWN7Glvw6ML4q7decpl9XR0H1FWdvGqyczHlcmLq3YG4q5eq/D8Xshy6X4nCgX7l8xJddM5T1IFizEfTk9kbzGuAcuecmv7ZA0DpyJzkXjHo34u6CyhgOD4M16Y0RTKo8A9AV4+QiK8krHXz4x6BNaeB5U7DHu/gRPr59r/6c5MQotmJczfu2WEtoV2jS8nuJ6Kt0lDYvsnUnNfvZemXrnosk6VoWYFeCO1TB9SZyj682zO1w1Tyh5OBUs1sUR4DcFLCkQAtMY85dL7ZekDNosvDBsWpS4vGC4jn8LxnuVByRtsP/rbfsVKfaBCqQ7dSt4BGB85lgJmGulHRdSdO1YIUxJ7ETcnRik+fduhL15sx,iv:zoRdERPEzEA6/JSQzlXInh7RatG8aYpR1aBTCW96tSA=,tag:gsINTaKvUcQ/+EaxsCe0ZQ==,type:str]
    key: ENC[AES256_GCM,data:5HQd4XtMlT+0QPgWPMZOzgmgBybmZtbu4H9T1oZ9IPapOyLtrvg5jKz0JNtUcBL6rYftmF5n/RZ5vQGJwtWtV98H8zlMtxQbBu6v3fftGU5ag+wFvc7zGs9mlv/SI1uBtpp0LxxA+zCiQj5zHyNz9bOg87qe+i20uc7+BqYz0pqLDdnLY0ZHEk5WOuj4Fmzieibytzb6utfM040nlKvgTvGoGPFlwMmWeNSBAoTQ78HlxRbG,iv:uIBGotgFukEizRlb3QZxZoYiisizPIzWRGi9ga+S3JY=,tag:4BaGIZ/ugSRH/D/APpSLJQ==,type:str]
  certSANs:
    - 127.0.0.1
    - 10.1.20.120
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.32.0
    extraConfig:
      maxPods: 150
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
  network:
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
    hostname: k8s-2
    interfaces:
      - interface: eth0
        dhcp: false
        addresses:
          - 10.1.20.12/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.20.1
        mtu: 1500
        vip:
          ip: 10.1.20.120
        vlans:
          # Services Network
          - vlanId: 30
            dhcp: false
            addresses:
              - 10.1.30.12/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.30.1
            mtu: 1500
          # Trusted Network
          - vlanId: 40
            dhcp: false
            addresses:
              - 10.1.40.12/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.40.1
    disableSearchDomain: true
  time:
    servers:
      - 10.1.20.1
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      # Use eth0 instead of eno1
      - net.ifnames=0
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
    image: factory.talos.dev/installer/6e6f23cd5ca6099bbe4be57a2218f628e61314545d5da36dcc6516c59d3be64f:v1.9.1
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 1Gb/s
    net.core.default_qdisc: fq
    # 1Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    net.ipv4.tcp_congestion_control: bbr
    # 1Gb/s
    net.ipv4.tcp_window_scaling: 1
    # postgresql
    vm.nr_hugepages: 1024
  # sysfs:
  #   devices.system.cpu.intel_pstate.hwp_dynamic_boost: 1
  #   devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Thunderbolt
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      # Coral Edge M.2 TPU
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:DmqJUk7C2Bb0mXROaktWytgurOPGgRmHaEl4gOQLZVd8IG0so5pvMCG68y0=,iv:XAOrqPlohKy4BjtTkeW+3VwIW8+x8I2hSxFjTKB7GA8=,tag:HXwZk6UmTvOKl5HJ3/6k+Q==,type:str]
  secret: ENC[AES256_GCM,data:hhO/+LVBDRS2AYNRPD5VnlRohj9wC/4xt8q+x/1L0Wg08U165qAHmqWXGAM=,iv:B+VflYEsey+mwIGb1FHYxYMaut64K4/skfaL629YBCk=,tag:x0aynsdBOeh3kvFz7iB5ag==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:GWwWKO66FWmCSJdzWHIMKEkG1Ao+qNY=,iv:eQxU9NtA0JyFRVQgBBq0NKqYrtVQ5J95gz3XON8Hr6Y=,tag:tf368QyPwp86NzV+YTzlFQ==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:Wls5clL42d+BH7u4xrt0LO0GOP2l6vmVsN+Tbw1h4v7w+UYU3hmKdcZdAwc=,iv:TyUpJsmxkhA9kCFnbj+Ijots/1M/jp75XuhczO2DU8c=,tag:MR3PIHnSyZ+isdoksjBTSg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:tVF9vJaOpzW2U2WHDLROZjjObR0Hf6ucqAt9sF5VkcYPKbImkjTaIS65aWd33IftWuSKHfp+AOlueYo/rgdEufcL/gJS4t6xULib2ctc2PE1Y6wZKhuNsUauo7IhTauljFfxebOy0GIFq6G8h4Fn943TKm6x6gEGZs6AURwyqzyxZrojvvRArassE/iEL+JCYxBjlgQ/n3XldavZMbGv5wtTmjRquCsokGymNrCtK/ikW7QKDjUc9RHdzLNPGOgNMkm7TbBNY+q1Ag5qqwfXWXmQYicKu7cCNNwLh8DpJDJyY6blks+j50H6G1aIeK6LIphxKpHGZQOcYwqxBryI5uJjGi4m83Fm3hEqYJBOhIsu89ruaXqeZ14Gfv4/Ah3pAMAf4c//X6nrzjEep6f/5IOQ+VNMQp3mtx6MK01g0K5zYv2yWeA0QUrb72R2luF7GBN/FHO8/ePo7SqwdQcUQ8FNNItMbpi+Pj9F5ga2/3vqOC7AdBYI3xgedNT2Hkipi8IAUEbHGruoRCKA7fPKVORILRu2Th1Gfgexlry7zYwK5tg+ugFeOKpw4GVfYsQmWuH775WOPHz2D7Pb2EngKrN6/V1l1CuZi/SNLgqw275bgJ1lFOdRdbFAlX/pAQPnTUl7kFJXylfsrLbghGf0OXCOIqU4EHYnnF6kagsPP2CjZCwROfTSynkENbmey88YYMPh4CZ3HOHKQUJfrjdns3XsS3F5imApY/hhBxlzB3cqSmOy6JYjWDrFvdQx5afNyVhedlEwXlLQb9N9lGJ+qfBMFskxsLAWuvuje89t/YJMGB1a00BEaluQ8fUgCzbdqx53xYbX8MuwFFzGgu0mlIgeRf4ulJRAIBmYIW1neCZYEC21w14AV/p93g+YDHetr7n7+k71dOzxtKBi7CLLXpNEMX1e5i7FNeEdDBOzA2FsABiS6Mf8uRI5D88CJ+tHz5nDG4XrpANGUdc+zbmC/Qw2rysl9q0qCH0FtRyYKSxdq5Fr7k7/ibKg3XT1uDXolcj+I9NY07KyFPAKm3FNfe0ZrU8=,iv:yPlWuvdPP8eqvBnwmCOC9X+ySQQgodmYdC//Ukb4Xfg=,tag:n5sSX0/EysgqYYvBaqdbew==,type:str]
    key: ENC[AES256_GCM,data:ox6uB//lkGjJRnTNtq6L5PTkdOe9ZzbLlncgz7wYHnPbhwwB3uFd5ONMM89SwKHwu8IETCJkxl6VwAfiCANpRyLs9EpPMYxDpSXMv4ulVanyCdUEigteo4NBtfqz+bdrBQjBKETqcVwiPCoQKVgyRkEXHrSX0BWbC+CsbQTKOwIIpUOH7M+l4Ojx+dyDMAO6/N1mGCekJ8YOO/C0C3khd6h9737JKsA2QNZlYn3D98qeMh7bEGPYGcfUCo0QLFX8fdWUOjzxUlVTgSyhZbgltY0p1G3Cyl4aAP63nUaOBB+asCCKo9KPMTTMGtbvHGomu0w8xNjlm+SRgx5i2C0rsVpjKkB/OK8aOwIbwRw4DOzY2LDGJJSzZpr53DqBJ3o/oiW5GR9j2ZOsjvSDpuEWtg==,iv:gR8VgC+eQpxjNdzXa0V2gzitPblbbTrM9OBzVJR9KqA=,tag:PX5K67xyucjXaKohILXpkA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:RxgoVl8EwzDWb7TyVxxfcdWbgdyn5FfxYSxwwDNBFlUc0xfoL9eHPfW6rIv+8gGSRxl8Sf+CoKtKkVe7BT8u8yUrYRwj85UYSvx5eo4UWBNC0txp5c+/+uNo3yOSHy2dZr++kRVyU4j+bvWmIBfwbCBXAtaDLu8v45Xjmk1Nar8vooR2k1K9vJtkXI9PJjXMOlkt2eojBoPhOIghBSSMoV60fGxyYKJi1TPlhzrUIH1Llfr5d2O0WRvCdWSOpINaY2UIt0RcceMImC1ZZ+LoRFT/7UcMo9Xfhx2QIsVubmqVIWlQqsKNfOEbLcXVAZvGSIh89oxvcYBa7aBc938hBFwI8aRg5mep9WtoCvxdBAkx66k2hjAC6VAUrVHbbRoCiFPUa1d5RTWiKra+vI4NeKH6DmuPUo+Dqd8tKh4lrxy0bZuM8sNxsXt2wajuvAmc7gqPO7GX5y01o143q8zwaBPsKQ4QL1LaAiDyHmbQ6khE+9e08oEQnSPl5c3iXbD7frN+uRiWlLv6sfgNRuHPZMU7MYAYwDrcSx/xkt4HkmyOqAcH8WPDq53uqDVeET0MSmgffp/YqqzXHzuK218WvcBtXbvZ51kazxjaXIiYDBuPkIznsG8366krqFSW/Yfm+cCTvQcKN+QGW7jHDiOOh8fzbgE9FBnynNpdCm1OuLq7H5uRMPSUDX7UJ3RMz5PtzT/TXy++PVs2TqWO/nUmQTb7zgl8sNZ7eqm1b0sRKLh49yHIGEize269rqVJMA2efsTWw9LLGZIpTD6+U37pQkGyP1Kc0t4fd3t2ZWeKASFYnAX12qrgk1Bz53RjFlr1H7H60FNVNZwmKWNYjgCrIq8hWf2BFiwvp7LYP2poqVbCjSyuVTexzs9QIj0qi4BC6iNn2Dl7KlZIJmAaezcdKTQjQWO92jzNwNHIZifHnaUqqt/Ov8Ngb7JqPVDC6oaS,iv:iy7GYxKR/zlc4FdnFLfp15751ol3xUCk8ibPe2OMHaM=,tag:XPWYEjdw8woQGFyNnrd5dw==,type:str]
    key: ENC[AES256_GCM,data:pWfSZEnmXf2g5wjADZcUXbeieDfcsf09r3Fj4uTlDShgBLzUGGsCMkecgeV9RkcJl8lFc3MlFfIQ895A5anMELf5HvVI5gboMA+cpq35QLvV0wmkfWpUmdzHpe8uN8us20qqJouaGFF4zzQNi4Nv1YNpV0Hnf5/Hm3Kg9GGPS0CQG2hq9QXyiUoX+5ukxgxiQL37eL8iGcW6AGtDgtk1KD53Z5c50YWhawfHNOCuqnIkqcNokeAreEHaC7vj5ipVCsQv8YV8/ixqGo8CDO+N2KpTa6WIERfZmmUEoXhGO0G+1gTL8ftYMxpABVYRz2xh+Sgpxhk1W/QaxzwHGn5PVttf93qljD1CB7AqAJ49nQkXP+GYhjTIWt8EtNHoXVqaJ6r4T0w31zP3xvhQ1jpTAQ==,iv:43JjcILJRbtqlo2q81N0UGiz5z9/f/UCOVFmr21Uw7s=,tag:mIVBJUKWlpn1Fb+KlAfqOQ==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:h38hVFElK5hVyqoUOl2JmVRnxIRUPPMuvuny+Y7BYys=,tag:faeGU26KYXpIGQ7YNlmaHg==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.31.2
    certSANs:
      - 127.0.0.1
      - 10.1.20.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.31.2
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.31.2
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:P07j3B9fOOWcPNNvFBx6a7mx5VhB36D3uTutqaeimAehSpuJjAM9gacGRAJB5GzcBdh4G1j+0RJQgc7U/HgmxYUm3JuG43uET4ynBvE+9DW6qab9F4QzbyPT4wVtH4al2n+qibtjK60SJO+PwriyZrGwu1nEUgNxGaExOR+T/svuO64hW+DeLvCePHGvm9L0j9mjxEoCiJLBSNdRCA1wivUyz/+AWa5Cg3gto0LePb0geBstuWuVOp5kypqni9c2uuWpsNEXHA4Dsx95dnjpCrPs1oAWxpdQVJTphUUay8aSaxgxyQS/JJyh1mUeCqtAxm0qjCknIjik+8q/an8EjcogY0rlAMyVaj2ehxSd3AmU3lB0787+reHRrDT49/h7RbqlbHSVGXP8ISHfqvVu2uWnVB3nXE3eaKmClj/5I3gUfunpGn+v26+RmxpoWZV2vFAG4Rf3yD4CXrLTPfumqsZdAgQZMWb5lu44jl57rXyZC6oApfwyJNe8ysNJ/0OVPqeGplRbau2T47oSL52AWDzXnVtFE69oVpgRgL5Fhxw3LvkmifIctRqtCv3EELKvrXOO+lQXs8v6Fegn++yjZaKPWRz0P4X+SmFA9FtVoOO2IEQkAkTGmmIIUldGlpkgQSvatfvE92r4tbSNXkwTFT4/CaBaSBd8DToASHcl27AOz004QZaEEjcid3i62zQQeZGVh/0riOETI7qDaIMQP0Z8CFISTLhgmKE/97JUBt+3o/LyfFvKfUjzhj/SX/TaIr8u4X2R1Z0xKPquQTsfnA0HmCk4V7DhCTaDuGL9Q9lD6Ty3J/toITcqTXvmYkdgmhbDQHXQegjhKv4WxRmSel6gsToGeaNME7YlWRaVR2pee1DPUJgr6fjvXoDFDFqdxEISHcxqnukFkHa3Yz7CyGFJrkPMP469fmxqrqJzVjhiZ6T/505jESxtz2/C5+wtewte+qsSv8QHGru9VHWwU94zOSEZncrBCy7629IWupY2vdmXRdHWgaSZru8a5YxH,iv:PjFlYUGKwOu4o2iXAeIDWeqhhHo8J/hFEE7J6r69XIc=,tag:omTP07GLLUFiacYS/Xmf6g==,type:str]
      key: ENC[AES256_GCM,data:bDdASsfym8qXHsT16zZAlXwIE9TXn2fibuFg/0QwLN7e35HXdLL6pU2hBXiBMhRd23v+m1Kmi7PdtATbR9NkbrNcuBg/pRDmn+aGmqerIU1t5vDCN7lRJmTiACztJcVd69+gNUnEcKxddLwmlExCo4rIkXDRmNw5SIf5aTMozRpgwQg3loX0Ngw7TD5fqj427QNY+BlWpKMUsgJFVncHGVO13YkzfmnI3oVXwzDOHwQ/fu+JVzOMZwSGILZZNSOQ3TSFmKohWnemTSJMjVpsne5YzeTEtWEI1Z2S95hzAxMLMXbKQ38QNsEKfr1MYl4q2sXVT5Hw2OMe2GbiNp22UJ/y3sJXTNT4/TSr9/6zlc5rtGZ8PqfCMhwIuoWjwR4tgggHqJu4L3uK/0f66OqToA==,iv:aIQe7ifS00MZCdZA6+BmajF3GoOaTho4woHt2Vt8X7Y=,tag:bAJEy77VhDPoDrjmQmDfyg==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBUL2lEWmkvUnVMa0VqSVlj
        SldOdHF2TUhXREg5Z1dtK0w5Rmx6K2tvSHd3CnpVamw3UzJTZjBPTG9RMFZtQzNK
        L0hjLzBvZlVjdW5VdkdvQ2dVMGg3VTgKLS0tIG80TUlpdXFQVk1WUnB6a2k5WFlK
        bnlHMFY1NE1ESlRFU0liTGd3YU5DekUKwWZuOEk6X2DQewsyeoWWG1yXECwZT6uf
        SYGfB9/s1yPfYMLggSvduav1eoTk90iqRSHff+y3WXDPNn1fNj9/vA==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-15T04:10:40Z"
  mac: ENC[AES256_GCM,data:k7B5fngeQVtRos7jGc+i71P/MLfsTciqiAhJN2Si6pHFTT8H4rbrmk1j1JerMbHsnYJ/LF8keXP9bZlzrAA9Ro8X2jW5Vcn0WMw6iyESe7yl0jl/VJ3XhZ1bSiNBwxnynjVeRGQBxKjWbM+k2cd2ftGPfgwdhCmZFDt11+J59Vs=,iv:PRiGtpQ6aZIqh4ZKFSmr6v6BQ/ZsDEF+vplrOyQREpc=,tag:2WC0iljo2FPo7cPiqpOjBg==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
