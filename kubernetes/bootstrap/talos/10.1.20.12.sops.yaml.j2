version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:uRGGtfu5K3YVMxrsZCysGg2m1nadrfg=,iv:b4Ea4joQAgkwR11HeVliVXPDUGIhYDueU7zgTm/1k9A=,tag:L+c95zEaGR8VqV/jqwZFNw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:uWC9vIXgQHwXlas721j5Yud6V2LAVSPW17J3lsFmxK5zw0ZqIuIXT691eEluGOPqN4JDGbXTNlDhi5CUONqDE9uS/qV+7rX4DzhwvitKMeQ6iw/9iRI9+GurAOQVWKqq+TB6Q3uG9qe0E5fNzKRYjZZO3T6I9cZjsxH9FL3Sld2bWThRczZPnasdtyXeogXa66MVnpgZYuV/mMoOLCmLEKXu1tTLz6hqnWGnrYtzaXR2omfy2Pj43eXuzFhQYjxo3KyJLFpAdvWCLhMqsDLGtK4llOBMqBeieYuqOR6SEn1Vp3WuJ1teNW/MB1uiYF76uTx0yeL3/LP+CH2RHajs+NXRW5o3elVVj/svCyPEbcEFf3dhCqgmxjNONt7rLc+0ReBsPbqnhQ7A+8bAtVboanNyTzeDLGbYw80c0MGGzfs48bEhBVnNaHLXAXFAh9+BgrSaALcdnVv7YiLkql4qQeSqpFKr7dgvI0nuztS9lDsEmvJ0Wu+5CDsR29mjj4V610wGrgsvx/n8wAOdt82u1ETNM1Ke9u0DAOiHq9j6aqFYFnQ4Ay+GWomdkO5Q3H6GK66OkKXx0T7rCdx7/8cRnHe+fw/MRpQ0dnwrkTWVmatGndTedfH/sDNaPFcmYdRrJt1p1OW29cbgMxeJhSa2ArB2SbpBDvIrFxXNK0SBJgsPTyHf1AfoDdtdkhcXbX0iLj4eAS/N5Me2XN57uK6Z66S26aT+WDHEX7+TIRtSqLsoFbU1vH2TfnRjKXk1RgmBW6eyA1zl/M7iAyi7BzY+CIGIEZSgh2lFXVAS+f1jfeMS7os7Te2NvKb7Qni6zsHMWumgYLHRXkYqEC4wZUJEN7u1Ih69Ebd2n3tA2mLnIo6gxfES,iv:0a77qAy310rlIRqFk70DBD3DVXIolv2FhE3lU8qv9Hw=,tag:9/h12lJRCdUpXC2JjnFPjA==,type:str]
    key: ENC[AES256_GCM,data:SWFvktFXhWhKhUWLJKTcnRSLCD9oFduV3E3HpxZ65YxOWWoQlPSAkiVbFWgQOjTTLrsP2AUGbz/QMA/GSk2JR23NnPqjryXkBED9kvsnrzoy3mfjSVCacLTwfAtHalXHd/Mawq3Q7EhJoZ9RYogvXrwb1kqNWmXyyRbANxR7jcdSw/+yTinlSKe6E9mFeMpV3sKW4HqzLlLwQH5RefPz5MYPBk/hKnovKfRiYbElzAd3a4a0,iv:eUuGbdxu1cJdA0mdCAHivAenl3w8XaNI4kNusRM0ikk=,tag:Y6/FAxGUuie7s+XiCNJmnQ==,type:str]
  certSANs:
    - 10.1.20.120
    - k8s.robsonhome.cloud
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      maxPods: 150
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.20.0/24
    disableManifestsDirectory: true
  network:
    hostname: k8s-2
    interfaces:
      - deviceSelector:
          hardwareAddr: ac:e2:d3:0d:60:f0
        vlans:
          - routes: []
            dhcp: true
            vlanId: 40
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
        mtu: 9000
        dhcp: true
        vip:
          ip: 10.1.20.120
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
    disableSearchDomain: true
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - security=none
      - net.ifnames=0
    image: factory.talos.dev/installer/520de4225301b3fd080dfa5613482544286ae7a379ccd0744a375799d25bd5fa:v1.9.3
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  time:
    disabled: false
    servers:
      - 10.1.20.1
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.rmem_max: "7500000"
    net.core.wmem_max: "7500000"
  sysfs:
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: "1"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
        - actions-runner-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Thunderbolt
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      # Coral Edge M.2 TPU
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:3ZPNJ7GZ8eftbyLnMkm3fErfc6StZGhtK0660/TNWaQvY4Xb9ChM45baVvY=,iv:ujWvP1Zb4Dj9gZQLZZptuFzR2TltJXRU4cs5A9tGP1U=,tag:mn+QqbeKR04VxBwxh2gkcQ==,type:str]
  secret: ENC[AES256_GCM,data:p4qMBMzSb6Zo1D+3kMi26zT7ig3XMl4ku7YOywV+xw6MuQSpm95INIo8hlk=,iv:UweAz4vJwTmO5ahfQkzDrEiPqokyaGrlCnaG3iktFbY=,tag:Ymp6rMRUuwf+mS5p/RZsOQ==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: homelab-ops
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  token: ENC[AES256_GCM,data:yAUfDeJNiX5xikQ4PO5zo2usKjE9/Dc=,iv:+FJTgouxj0uSqj7jItXe8yyey+jU16tatE3YjquZWIA=,tag:PuJl/6HnwMd/M7qWCjQNNg==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:MJg2PXCYOi7rqWpYY8HpNmPV3QGRL93dVM9C1+DAjw5pSRyM7mcDtJRFV/8=,iv:BBy7zzW8F8urGQ8f4cLfJaJNdojA0tc+04wA4VUDXhY=,tag:E+P/Bvv0Zw1nMHS/7b8ocg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:2t0cKIhtAR1k+qAZRovB82hbUfjz1SQBIq6O4pUDBeyOl6wYNZfbs0c0mBal7O9+5FcPWeSvydBoAZbQ2RbV68VKWmls4/d+jQFFcuZC6k7lWnUe4eO2S/fx5ICnoD4Rel05990aShrqZuka8mWCEVmnRlBHJp7+UOSxHS5WzUBo1UK8Q8ZbFHLPm7qm2BZEuMgSujNCv2qJbdeJq6pJKJZjgRuo7gKv5AG59Cyyvdt7UGLIbSmq6llhwoyZnM47WgOFaR7vBOkTbBhUn6wkKvV4DMouosglI8+0oFcwsJPR9NuwVElu/RfJa7WDNNICj2FOGGBUJXjxueaGIieA8FvTp710WJsigirSfkE4LIZYsS07rte9XynlmZKUyeqZ6WTBLFLXi3WpZvFkfcnIo951DU5ZBgzzUrILx2ArsB041vCvJeKDTVY4Ze49bjqxMmaIww1Occ+U7IobPFsnLcGLCaV+Vmm52kSUufvdF+1KR9aJddzIay7x2WElI8smA1m3kRvJ+MB5RnctQKieWWtHj2qnSDmacTGOHUVQfppgG9valFigyVh7O/kr6OUNywLcQpnR7RQoUiq+tA/gnHEMJqDp1TZ6M8JFMjhgz6TBIv8GNgrroO/MbSTMxWmNcdXacQZ6Ba5Te1EPmdt1PUaSIbUg1t8FfZtnaFFHaY8BgHvwpwuYXw8NG+W1iIeHH0gFJQgTG94pTSdJB6OmxFqp5WPWSztPNi7l037VP3THv1qZHYpXtopBKWVU1x+H2LQK59JbZs19wzY2++e7DcXy0y8Fr99fw/ZNdTHGIv0GGXfihfE23H6uEwFrdpEwW0q0BzDTrAwUPcAlTpb77/Bdr42vpePFb821oAvLPyhaYPJCAC5s3IVn+i0hpZITP2/CgSVvgJRJ8uDPoT6iKq5k34vMufA0NznzrisgFTMefvXe7Uc472Glc6xr2Z94bHMG+FpgLWnr+tbd4kvATN0adzPY1ReBdJLCmpkAGtdBzZLxQWLr1wXWS4nxRUsVYj8m8VYCzeKnsZLCi4sSL6ccTQU=,iv:vQgiETJdcRZExWaJf1YmCB0swIOzqhCAFIXpCRkPdrU=,tag:atqRQpbf3kU0qvQA4CidvQ==,type:str]
    key: ENC[AES256_GCM,data:jhneh4DAcDZSQgb/W4/yOiwj5z7KkZnCITghCGv8/ASuKdiI/kfN2amBn9L/Xi0mba3CPfI3V6DkLgntN31Ql5c7ruDdXsb7DMHZHOm4rUd17guv2+R1fT6UYHXJVCDScTdQCjy/ft5uEWSFI/OPiPqB7PbPjD6Rm7i7Zw7MA5HhW29b4ff9RuZSV8MmwHxbGp7SGnBCXjg5CWqIKHCvVLRfW34CRjri5VtO/LZ2Gd8faA91ncPPO9ibftgKVW0PIFwfoAjLPH2kI2ByoOp6wQVvRuFiiMFw/0Dm0CF8adQw5/9rt7yEOig5eDGl7nH+i6+Mlt1s12qMTimIIhZcFq1hYrpVR7WpDfu6k+Kvru2+CP2OX7GrMk5g8lmUWrfnKxBtNyFREGcbLrpNAjyI1w==,iv:yIvdF3ylYLcVE7NaJHof94n+3ligrRH+bV2FOCxKCZ0=,tag:A9CAgL7Vexy1bs6Tekby9w==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:BhjUrXFBHYn7sZMTp+ixwPOA0dqh/DpV+4A435cgAHkv9mcxHDgTskdRcE3lbJ3bCeGwzsHUQ0ho0XgnoPUiVddDurab/MDtUu3QSrB+dWPhjNCCFmPJgfDwTqpJj0Vi+EeFbWUojPRbyEicvBU48vkfUzt3MiIjQ9X+Dgrl0xs7brVRa9JAWxRGSKHNT9zbNpbWAoaokP3bLhgfytGf9y8KB6Oam50eQxHSS0/cwFBfKaHA9ou7RixwNActMqpijmL2TEMFeVjrif78Gmen9rfgu8awWXmkTDmuadXV1qp1bVTjxv0w+m1teE5tYGo0d8F16/63kidOHBUjTj0hF/algSPmoyB8SacwS6zcO4Fo4p6EtzukM0RZ5FHYMgb1J6/jWatFCS4nm88RWlGswLZS6MnraWNR9DnzeAnzGujSj11uFgz5yWt6DBJZJX1P2c5k4SAoJkOyQ6Oc8DIerz15T09hFIvYd09qLj5fOhGcK5FS2Y4+Abyv2+RSmc3XVwHPfVlbU91zAfiA63CnKirHlNvF57k4APuYgJLzmUtMQlPvehxcWfYhdNwWN5B8CnUUV2zojubSUU5F1i40XSm+QCxlagOKz1p96earB+Q5DCM2llUz/voNxgF1FMZhg/uw5BzWeb871NvhR79JqheoicJJLbrbMKVn2r2fEiaFjS87WazE8vMj/HlqX6170YdwFDZRDsWWl23oG4cIgfOqxyHw8LRlZXk6ym7TiunkdAxtJASnQxDenMnoK04I7PI8VMhaNGpgx3hfXPXMuxGqeRSFNoI/M0k1ciKUPsp42WUKKObFA1jFWfRI/WoN0QBjdGsxP/U8Kv8FipuzuMWtzs5XbElzx7YdXATPqrAnoCEi/hpH/uzefXq5yRWLdizCktcgyWnEhenIhHDWr/LOWpAvIGOI1tqqhsTHWhQ5J+HktiXrRRGm9NjR0M/d,iv:7BNBWOnjxZk+cDCNoDbtjQ6uJusxrP6LTe5za0RDsgQ=,tag:MmT6H/Fime45hI7ebv6+Mg==,type:str]
    key: ENC[AES256_GCM,data:YSlQB0RmUks+aIW/qkXwp2CValwwjTroMqCfrJLIK7CyJVkiNEgHu+2mV4Vyi/geB3ynKlScrhEy+zcxY7Crg/HDbQ5Z87z3d+r3T2UdwNDjtpl2e4kYbp9F3Vh5QRS7umSpsqHBekBYFvgUgtpJwLRSBbSZWBsYfv9ey7FP0aivOj2NzryYXw9gxyiq8d3tF0HHIg4zXVxwyWfjhZBkLzIlV30VZbhCvNh1ubpwjeIwbfZFGJQGEd25Yj2+rKxflGul5cUb5n4PbXbPoeOGSEBvU/kGpUpmwSGOCiw1U0T6PY86yDKK7c2RamXQFQJD9XaT6dq4fzwYuPhQHX4wbxuwaIxj1EgRzDJw9JiBHS0ojWjuCFYajLHMSxRsEQ3mmnKe9crZX5kj22XO+RtAbg==,iv:f8/n+z/1swuAK6BFlEnonNag3iv6O4MhsFavPomIB7U=,tag:sY2NJ2ninHDWq6r9+EQOiQ==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:jvgLWwHpoqDLnhUEsUtUfrqpfONUVTqS3lsR4TlxtKg=,tag:bMKBrVdO8UWPLa2JkkPn6w==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 10.1.20.120
      - 10.1.20.120
      - k8s.robsonhome.cloud
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          plugins:
            score:
              disabled:
                - name: ImageLocality
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:C5aGjwEw6gr+oM+J8dNOpWk7+vjUaJ3uo9LSlQxYpnoJr1YRR74FZm4CbXUQvB6vs6IkZtt9XIkYQ106uchcmVWdTV2pbZFa7s0IhvHUmBkHsyYgk9OOVMd4AItqnXZO6W39gr0imQ+IxFJznewlcYs3gBcyC5djyy3rEEugESpWcluqPpKnxqSe3eItWL2yM5UXVRfMYlpgzEvbJ0/YC52kpH0SHyad/SVi3IW7FntNtQTo2gqtgIaZL0qrBj6MG3zdyzZOx+sBp4PIYPyPxLbxTHOX3bno9Pb0SWbwGPsRiUAb45qwZ6B+FZ3Cnwci/yFdF1ft+wmbfY2tg7HReHirMqlcdt14Ut5RsEKmIXIbb5wKaSlyXPiKIkAg/nnKqLuvnBH5ioYBwPlV7FhApJszgYma5ol+r4OQyMMVJPNsRu4s2GkHWJw04hz20tm+QNhrnvHeFyO6K7MAJ89UFZxtfKJyjep05epxLBdYe/wjPe6gq3qU7a8JJadtNgLjWGur9SpZi6NDnumYZcOz1V17Oh0Qjoj3G/201d1iLAI1OmhYuVJJBzYKxBN8zHggHG8VEhD5HV839g/ctc3bYY3BYbHCJtMPWAGCAysKrQkjfABa/3FDSFY3ovMQcaD9A+3BeqFgM3u373aktsmMXomuxQOOGlaW+FZbGZy3mD3vb0JYtMFTM8n3D7szteehDnBbyMRmh90oFc9TeHDpCKm1l2a47fLYqTNl9GbFFjsEIS9TDrNgaXqQ/r0utwkfLFUcBj0LGcOUaB4sF2gvyuqTMLRK6+cft9JEQiFuZ2Q/vYoBSVzvUZs/fTMFjGOOFmVJdryHi0UzVBnymF60p2jPg7uR7FzTfrrtYJd4aHrlyz5yiPCG7FVJWEFm/CwdmDW1xoDqbNkUWDfospSvseXqQC9r31tkkeHglQLo75j8VQei+cmfHDXTWIxtprZC3d+PCoESNVtw/BLaBTQa4gjCMrejjmNFYqeMFw5LzhaMcxCQhbkjK6CixW6oqoUnwcMl8g==,iv:NJ57pkMX41Jg/Dzc5PPB+5tKk2HhThUW15xqF99PmYE=,tag:2ZEYlqB4GeL4Lw1/OdEp3g==,type:str]
      key: ENC[AES256_GCM,data:++BTxCMNnbI9nzG+LFhoOixaHO0dWV4j54uxywke6LiUWGopNP0O9kkp9rp1wBvjuUDmHPnI9XiwqAzz+nKTOxewHyXBxoxxUGMuZ8hCx32iF6ASdaJcpTHChcI2vJP2rWNrtFIUqV51sGkM/U4AJuuf66Xe8/FtmQMsHDloBBU/E6L8ha0xsOvEiIFnLvBjC3GgQkNg2Da8U+eud0dMrU9QqfcVMnvgPeaGQOekbSONti1UTrujNamXCSJS1gOVxCTsSfMSu694Ym9db/8lwO7HdEJetvP82DfZIEW+ewmSI0SClLazV7en7oHpyDj0UiSojulMZekB1l8q+wakchv9C3miAjH7c9PRlisBiprAP9H1rPM0U8bFSPsp0uud2lc3hrbhInwuRz66YdpKSA==,iv:tz7d+tL/LBMv5bmrqxlctToJVgo88zCvbCc1knStjPk=,tag:KfThXtHCQsJN0YDaft6yVA==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBmK01kWWdJbTF4RUthTzFI
        Q28yQ2wxNzJzM2VtMUdJTkdCYUNNWlRMT0c0CmxyY0VDMTRtMENuWVhIZ2tncGt6
        aVdON0FmdmRkYUcyRlBpNVptR0dDaG8KLS0tIFJoaDY0UUNGTXdSdG9PcGR5ckpH
        b1pJeHRpeGliWG11ZVlwWkIxdTQ5eVUKJDvXRa85JAFarqv+rBLm9Z0BmRbP3Oeu
        U0v1L6HDryYSaiU2QOomgAw7oVl3Cl+fYK+60hWr+f88sfLnjoESBg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-30T04:27:30Z"
  mac: ENC[AES256_GCM,data:mRCZc9RLBpC7CLeqrPsIlWiVh/LIBgb+mL+K7vmKwvSA5b2xb+ikYW26slKh9uyORy48u3xRBYHl3zMKSXlWS92JZwh/j3HMVagknIk4jQ3DwQT5SlTPIVv4u1b1O7BplMhFm9pQVB1U/NkKAvFOChaBEJD4oDFr6hbNY9chZ3s=,iv:ClQ5x37eL+xtaZhRXX6n8mIS3lRhO5RrjqoavZ1ifB0=,tag:JaZKuNLV8rvovFqbP7LWKA==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
