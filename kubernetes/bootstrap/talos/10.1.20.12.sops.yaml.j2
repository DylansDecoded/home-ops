version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:dZALySDmYOVm1I4a+QJWCkqbyAaiogQ=,iv:hsZhj+EAK+xclf3vNcc3Cm4H5RKxBkyXujZ7hs4dIs0=,tag:XTLDIBR+xYPvObbF8QrZFQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:irxxIJ1SMCOPb4+XnNC3wK88NIerRAaWVZ2MfKYywTPrqd9su//IjVh5xOu3ON4LQ4JIekZp/ZM9jnqfPLQLxgH8Pxd+dF4tnx9y6ydAya2L2ltIv/wuLw2Y7VL66Qnjy8frA6L3C/Y7FDs0x2Wj6OEjUaP3jFEXFt8q8qDRMx3EMVLga4TfDm5QNT73O6S1Me8bCliEH7G13FdDODQm4iOeHIehSGXrd8oCjg8GmUKcW0hoSCJGLriYLzQ5pHi1P/gmxqTRUHREm8aWxNQ6cJiZitUtshMU+OlHQUCxcBCL6aHVwWSN8ySpwzI1AlOzbss9eopcMAKvWo8nnX5vt7xVVmOgJOHl9e9093CgfbYKGYUbi9y8SxFQxabJ0LW+lK/fuwSQhpcWUnK5m9kYni27msdHrRySQpJ02XVf38EdDTbkkYleA8sfdHavIsyhmgUTPXL3CeMiW5xhW045Uh7gUj/+Kg/cW8aVafbpB8qwodyVMLQ1CzxN0TJYO8jxlW2qxkBRID8woQFKM+YTa2JRAcr3aC2dBVFXHdowhu8+h/ZmTnF1iqB0/Zf9F+7kK77/wSBa0hdqodg/FIGokodSC1Eh83TIGWiq8rVLYQMzUoFQ1OjcURNdHTuaB250CQxknliOWJ11BUY+ACIy1pmyzZ6h0eSfcHSx3ruA/L7iWqQlolRZ44/kxvsnxLD+gbZJcZI8SmiJEVBw2AqX2NAB7uo5QHNy7TGpIMpzXuT5iMa2c/A1QlttvJ6lOm/tl0XNzDg0D2pSEayhGN1IpOGBFNsLvTrf22KPupbNAgHpMo/TobLKNpGdz9XPDWA7yGYIa+1SQnCEbruqUkQihpMD6CiSHvM7vzuDsqJq96Rz41tB,iv:KBy5ab2P0Sb3kAalFywgEsqD1Jcz7/MvCmr3H45diY8=,tag:zRKcV1SohpcXHQx+ATLaZA==,type:str]
    key: ENC[AES256_GCM,data:3evRsyQiXDUsEABEmPFGZGb5zbT2v5BlBqIBye3Rf0cLhX8qTHeRyV4/ttBSKQ8Twwn8yI7PZs4aVbbEV7pG54SPHYStV3gQ4gNOmr4f/Gog7Yc1nbc31baIf1cFDz4QhwAGEllAjQzxEQbhvMvn3f5s0zY7WPEC6PM/N27fuT28P28Og0WVThaLDh5ueFsdx53cEbdufNGe7NF8e33Fe/lu04o08OU5xjBL7rdc04vvd8Qe,iv:QhTP1ffHAXrKnnWXzn8n4mGWf+zW+SHlhn6qB51OWMw=,tag:3O7RjWLJoFtlt/c4nqyXKA==,type:str]
  certSANs:
    - 10.1.20.120
    - k8s.robsonhome.cloud
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      maxPods: 150
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.20.0/24
    disableManifestsDirectory: true
  network:
    hostname: k8s-2
    interfaces:
      - deviceSelector:
          hardwareAddr: ac:e2:d3:0d:60:f0
        vlans:
          - routes: []
            dhcp: true
            vlanId: 40
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
        mtu: 9000
        dhcp: true
        vip:
          ip: 10.1.20.120
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
    disableSearchDomain: true
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - security=none
      - net.ifnames=0
    image: factory.talos.dev/installer/520de4225301b3fd080dfa5613482544286ae7a379ccd0744a375799d25bd5fa:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - 10.1.20.1
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.rmem_max: "7500000"
    net.core.wmem_max: "7500000"
  sysfs:
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: "1"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
        - actions-runner-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Thunderbolt
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      # Coral Edge M.2 TPU
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:T2ywMUSOzgkh1/N5dOplwIbbLdSfLdV9Pl11b0tN6S2jL4WCQYQ3p+AvZKU=,iv:5f4kWvI85Qb20PDDBBHHgIxtLjuUWFwPi1iB1oz2IN0=,tag:xV+yd7u0iYd2sxcpFM9q6A==,type:str]
  secret: ENC[AES256_GCM,data:h/VqHlqwvu9p4G4n3FIh5BIgMOIOPZ4vh1P7AMGrl6wwydWD5MD/1NalzmQ=,iv:8U+g9dvFEhVsFJyPyA9XTu2dTQP4jxjB0eSlWjNScuE=,tag:Cyv19fUjjPAYrRpCufiqww==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  token: ENC[AES256_GCM,data:Kvq4qi1YydxjOWFv0Ufo/kOatu+dXA8=,iv:Dlb5PkwuxOzASkXADDYfF41tzuhftsNNHotyN6wHwrc=,tag:R6BdkOLMk61iodwbExLpqA==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:cMDx6azva6O6GA4+H1BLlMsbC5yaq+eu0xEX2DxyqrOfUxGdPjMrdUOlNtQ=,iv:XHTRT5HA3mgdEeIdwA8cz4cmAIjBFzI852tQ5x8/0JY=,tag:lcd27zPO0oPJ19uwQzudbQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:Fakf0SQxJJ4MqZq4h5PPuNczNNnXuF8RQXwZGX5yQueN1uBI03ELrDKLQobDQ+sS3we74NYXeOqN/5Kmvctj1ZRAjJV9MVlkct2Z9hcn/ObsKqhVhz1Oli4jemwvragOS3YrrrsAmmEkBnbXXzqAunTptF2IbKDe/flV/aEiifTUHhwm7tg3Mj5Cudb5ZmGxZqZTKGetsyxYLZqCUoR7O6YWEvhViLKKndLfUJau3CR0/x4esvTx9zgYj1KHX8dOQkR++k4JxVjNh5fMaQ/PRXu26B0gHd5Kuq5boWRn6F30xdhS8/d8ZtWEyCJp+54ruiS7V3mxESSTEPADXpt4+3MiaaLLz5xBhatv9a3R2//lLIvn5xntW2LI3oFC6ac7CLp1uz0TSdM6WteTO3aEwDS6rZKFjDg2kJw1svJB9DiL1e2xGnSRFXYqbu5s1kZQar+PwKlXIAGSl462IlvJon7WVtkNPDWqJ+9+YXikks2hIfDpahkT5moN/w1jp81IF027Pr3QfDJln49yHsOZfnR5LrPyUUa3BKBXDYhkmtwI+MKEyzHb6mJ2zhpDfRYS+S8IDTJiefsIBUgK1opSLTunS8c/t2iiYPw7Q3qNQcfn6hUVx5tS668E3l40Dp7BUDsjGxmSbREcr2zMBRgMbQfWsPODRmh4Bi2evhXigAdGXHcgUec3EQ59b4crYOTGJj9Pu0CXFG/DFq4wTDbwGQFb8qki5dnN0MWQzaogvQ4G9hOYPcutUCr0LMrgW6tvfwqYPkyL3/k+ZpgyauS8bMbtBGnM1NlzPtVtx4YIhPlDDqyANS9/ZX+QjDeuOi1Wj/H/rWfBgdWY0TY3ZIkhYy9eQh4srAfmYHRII19UXfRunBurAYizD7qh/5/tlXNv1Lfo1YYH3gI4MSvJd5vDqXhYhU5xBAAmrg+RcPZ8/vqk4VhmIhbW+OqoH/VfSYfXHhTb5N6sBtdjrAPpthywbMXWmuht7uiMMbwG1RT0R3SMtJMoYx3u39ZuqmjUquTOGqQAEdQdbL6pX2z8W7XneeBigOU=,iv:kr/M7en1aUWQpaZOrIrP3V8zsCAUWr5GIL8PtQkCzSk=,tag:FBmFzex3ZvtwISyZFq3zXA==,type:str]
    key: ENC[AES256_GCM,data:nD7MZwS9N+JesrkaxkbYcL0mG1dz8rE4LylVpKMTMnq1iAzKoCaayjDqGeeOrYXqfEJt4iJX2D8g8nHeFUvM9DsIODhied8JxsfSh8C9Rz5H5G6OjC3X03DIAJxgdhITSs//ujSqqzvh3vdYAdSOpdn0lBxC9FVmA9ZW2vh5jFAIwLxTfeJWb6mYUZtaEj/BwG/POmXUJMB6UmTmNHQdvw/Q4iqNnBykgDPUDT7e/4nktGzKNuyNv53dmvE0wxqvDPWExxloBVsFPI/FdfwmpJ6veKOpQYDSdIhzC01keZC+W6KlwC78fXfIAp20RloGSHWXiSBPtcyexmsxvSfV8DxJN7PJ/p1m5Q2mw9w0Z1162LEe0798PEfqvT+FNfN/DyAd3ZwF9H6PWW5OVBp9Vw==,iv:m76O/88MAA2sRVSQbAYsJYu5ExcwWw2Y2qjuLF6gOCI=,tag:9V2Uqg2LRNo+Jg92bL+5Jg==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:jVU4C8RPafS4CjeAKQYfsWtoQYIRY5QY2eDxx9918FvKsk/nQLr07YP7XQwG6VTFYrDgAniWrD6HXT5+HFnznr24tq2WRlOgDgdC7DwOjvZSKa0ccPFnbmmE+dpB5WWjstsMEeWuKbsjXlfHc93uvh+x5MeBC76f8rHlDTtOR/Phz7ZPoZx5ygW5uu1rsPu28nYN7NvcpfX/XAHDAvaiLjUnxSBKfaliqff5xvveXYy5boxOuZVxirJbUCuZTR+XwSUkVJhH9OjXuVoQTKAIzHjczMXLVH3ZI19zmfJZxXpAC/Od840Tt7GHpUWdkRvAgTzZzQfIeb27hFoIeiAhA+lRRX5La6tgr5lr6mLU6n2tMRZ/ZRkAuFR+HIrewHpv13SSk+nnvpg+3TfQTlfR7s/oIUoLxpPQ8XYO0ld4dYj8KOnP5QM9xB4fbe8yGHZpDm5oEKMlVhCdyGaftunWscniPzwwWctuigPOjZvDuzQxLXJo9xqMoT89EV7sUHmEDxpeZg8qqO20DONKPHdEZPkmSlIYLCwn61SYQsTTDLI/+3oNC5zrwO7l/lATqw5iypguAS05yDUwb5iVfQv/z+ZSsTUOQv6p9G1XTaCLu6Gk7f8dZjXEz+uZMmYR0edxYuVjfTwh0RV/vg6GNQuD9X4Kul8U8gWn1LfVxE/KrVoFAD548OR2BRLskUgq3r6xYwcZfOxhkguC8UoeHvsuCE29dL3sK9ShLs/Imgp/FNa/Kme7qqH2hB/QLzgorg0Cf41SbGuSFMu2/b1F5A9DJfkSX6XRsoB79GzUhiLOL7kQ4X9Mb10cD2s12oQwwZa8NQ7A82nAL6jtwDFuHsOPI0lJvxdt6j+g4h9PJl+D2cf5KNsWT6redDmmpie9mhpuVRwHEG7d6Un/hPxakQYqZXhzVBQL8fM/5mWDc0pXXtTKPh35xGXyW1zUtEwzFNH6,iv:kf/m3GWdZDF9QI5Zi0myjREst9KMLOxmwOS2J+L83bo=,tag:h8d/20TcN+ANw86UcB0Ilg==,type:str]
    key: ENC[AES256_GCM,data:niaZ/uVmdLyJFJgP009kGMpDT02AXfeXOT1KmbySWCkMmBEo+1mS4O3oSkF4MI8BbtZIunkaCzzK/AAb/seXrw3BebHcPGN3P/IQCk6WIalUszWIBBPNSKjW0mYSMZxVgyIoCfOrDplGV1DsHnNJH/8S9WwwtjFxVdZMbdXkvk4UZyCkGhYhXUxKUh5GtdOWVI4UvWjlDqvGXP6C6vizGXFGMYaikRjEmyrMLAvfliyKMmRL94nt3o4t9It7UQbd/cZKHcVkGVKqdQk8RFTrN4QLVrBj1CxHsw/mBfdin7Iu35h5xkUwinpHP92Wt4hf1dUT89UsRfwiCo8Abh8ttOC250awRDExBlWtHSCvtbNrcWc9WWAh/BeRwj7rY3YorDUqiDI8eLFjQBEF9sUYVg==,iv:LBXhghLgfxKrr6spdKDTyp/GkiePcUNmG9Qb1sFAc2s=,tag:nNkH0O2Gv8oIGrEIr9tY5Q==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:sUFJl+jVjEHMnMS/r9Z45ct+G47RENBmjtfw3i/K3Cs=,tag:Y/k1MfpuQczoOavvkRRhqQ==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 10.1.20.120
      - 10.1.20.120
      - k8s.robsonhome.cloud
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          plugins:
            score:
              disabled:
                - name: ImageLocality
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:lwV7eIQKy+2N+6zcuXZPSLJ7lYXpOHcT+bENPd+bkd94W3q1k7SxQXbxbAXT3mJ3ShAfqK2YLa/z96zcaA/uSaa69qxEQRcKs9YMilg+80RnGVSna9imEOFvr+o6PIB/u/mEfEGmmIqeZbtHZ0Oa3ORjWd9vGX0eqt59i4Z0rJDdwbO9Kl09xgF9iogVwTHgQoZFYckFWumGBidurrgqtg0kP5/boXO4rW/54iwo1nNbwWreBWECHsmTxTtcrM0Ksu7nKolM0V8s7zenYxZB++zBbPJzRhSwakpweHbewemKMUSF4TTYKgrtYRf3wJwAXYJX1W1kuEa+MXSN+fuxOWESmrPIpTAcNeDdBwsGoTG/usBUbBxh51OHtdk0JSJx808/8Bh7Jem0jpwGbGjXncZ7HzBzknM89LPXkBS36nkVpTFQ4psaRkE6U0kcmOHL7AJ9CekUeDR3Wk0PZANLOfs2Ammz/fLL3ORxdIvvl0XqUKK2SUhz0HNSsKJptac57ogA7nT1BUOD2Ihlasd0L0cZiPN3gPBsz32sso5iHOnpNvAnPU5tFOIpodUcuqY9o6LmegcsEzuiESLbMK/X1zHdNk1kV9c7LlVEiU0a3ov17dR3JJZTWcqI8yylZ6cqUVQrHX8JX/S4g5f2pYaf5GWj+hatcHmJg8fyNAQXagt+l/8sofjxMe1APOZUmADWQ4WhyTQG7UrplJ4w3iHfdMHwDwCwjDaWPNVLM6JIhtZIuqzZTqC3J0oeF2sg61tdl0GMgcsQYopZtQw+qLAkMpOFlp4OlooDB9yJbUULyHQ+QIJaEI4kmes6EaA1LDBBwwM47JvBPl5o1bTUUzPeh/MyxKxZi0WPfQp0/3j7UPZLfjGBz+ReyKE8+KC1nJdbrkFF9UIMuI5sdDcB8NfAnYx9Xd3/X4dz8J3D7wA8L83Zrr1xylQyVy1nN2zyZhfXulxUdjTeRcA8Gw6NdidxO4StP+LsRh31sFIj3BMwuo9gYCHn+DxayZAR+ZlGyoWLOrkEeQ==,iv:C08kJYmrHl6G8CTKdwrbwiOF4kcgIGMQVWw1u/ML5fk=,tag:ecetyCsgd79WfTfTgJNmbg==,type:str]
      key: ENC[AES256_GCM,data:Gy3RURHNfdtwtJSf01vrkqy/LjL/TR+abJqY4+ixg0ohe08E2NgL8+cGFbIzj9MVJMSUUbuqysXojO1BTMq9vnmaMrBjmUpXfjBF80H6/ucyCdgil7olP/bx5smo/QMy40BRwyjCzKOYp8UQn6KWPkMQHeYahCo6IfVxXIgg3xzmCoIO5ioDhZPVsWptaO7WBMnZ9EBxmi4W+bZb/vX41WKAReECkdQjsp5qBzQTRPjefAD7TnPbu5uQ0XlhD95Gp/kGFR5ioafEtOm9Vt1UGfD6pPXn+nzCOg65W8PtqyI7dKDWeSN2nqTWAFkLRtq4Rf2kMNmVMd1Ot0EsIY/kmCQM7HRFPeTkf6BQox25bUCq6JMpGN9zlIZsN7+9uke0BLEqa0Bc2v5jZzQmGMsJBA==,iv:oQMbk/56jok5uaj2Rn4Nja+UrihQe82pcDbPhnoCEhs=,tag:jtnU1Nj9n0WDHpXAxVtjmA==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBvQWVJK1RZM3ovejE1cmgz
        bE9MQ2lTQ0R4V2NwRUgwcTkzZGFOMnYvUVg4CnNIZFJRaCtoNm1GNm1tcVdMeXlV
        T3BIVkRBaGtGRVBaVEpnKzBzSGRScjAKLS0tIDRjdnJpQkMzMjlja2FxU1lka0VQ
        SmVpbExOc3hMV3l3VkRUZkpMNWZVazAKxND4mMVNzsmtTlK4cyWVCABv6CxGsP3v
        RaVY/uJ9vvbiyRJspBGQllp2ocC4h8Uw1rmaPgS/UPIe7AX3djT1gQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-30T04:58:41Z"
  mac: ENC[AES256_GCM,data:AzWzw0pxDApfK9atiTzXHPMJxEs1z18QtUi2609LVrQ/ibNBpLXFzsYUr14Rt94SASEeekxr8fqlSWHwMJniYAy01fN0cpr0KyWW+zyMoZpsxH+r1EaInZEhgqxzjUhVcG1ORgr9uO9fkJpujQAqsl3Sqfo7THEXJ4nB4rVhTwo=,iv:jlgTP/lbamgYqLxv1ojEtHwuUwtlLNhmHfNyHAAThpU=,tag:DQFS5bafEWFNDDxwZptT+w==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
