version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:KtgIuOyd4ySeMoOnzZB+Ievl1Y23wXs=,iv:5veLV467L5wDIOpQJ3waFzvRa+M5gb4zLtyDRV5doIw=,tag:ZlJ30lob3BDyApRR5Cfkuw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:1TGkiKVBwoKUkMPKudJK03NfdI8iomAgafeDbu94CJNCZhbZJx49mBlPXNF1dMWp3fN/sVd9Il16bO8toVun51KrcWLzurlmf6jrB9LvsQ9IYB0ygx3P+298i5ys2QVDZKStns+74byLQMvr2Io+fdzBFzuG3gUYBiSVSxM6zMo6MFuKcOESUSRXOrBSBxjxVyEcWTsOMWhUVHnH8N02xLghyV4VNXbPto+O6bpC/Uyp6XuDB82NYuauUsc00tfalrGeqRkj5tIqY5Hkmmj+igWr6v0iBVnRG6Wqs1UxSB40s7X+AyF5jDal2Elp6TSpW+Wxyg+R44jUrbeI7zI12QnzGfWY/CfpaFjrITrcLDe+HmYbWoR/bkx7PCFheRYEqEVfzm66atmNf/SzEVOqt1T5ofAJ9tSudUC+TS5CeFtAVj02hDIMXhNekkajyO/U0JSXfycqW3SMwaK+lHhKEOUYusqF04y3SgAaynj6Yr3OfoyI1D3Cc9OEGeGQij52TXYth50sjYn27Ym/ODd3E6qT8SSKeCoOEJiCXnfeQ8Zhhop7960hNXwLAB8ItE9bWFGyb+nNOxZlynLAAeGRLkgGVk4jH3w4PCu20tpxi28z8Bx8U3Y7ANugnERRctj6rQc/8WZnjjjUvfI8HTeuOfxjYc2cK5w7LPbv9t0ZRi8VMCWY6LIGFNUnlX4ZUU6EOjLlh9DE5jvc+uk64Y4qQQJf4yavj/fYIpQy+73Ndo3hhDmmdj/3Hel+DZ8rO+jBECMo9eSaIWa0WJDububv+IIGqkHkI1wy+/TMmjZ7mXWoBMNQ7Rul5OexHKdkFJWRjQAqT63bipnn7hLVs/vH166VL8wL9azD7gAH9olymm+3Modf,iv:cYEy2XikUic8k+0vlRRmft/YfyFBajiHQciILHJ+H4g=,tag:0gjOanGLYlWFCA5sRZsPdw==,type:str]
    key: ENC[AES256_GCM,data:n/3n2IlQX7cyCMvMmV8cEyCqauhdZJLjnJmkk2Gg8L76ZXqDzEWfvYlCqeSakptm4vLXYBZ4Ocw2GH+JCWnbJaxsztzPnhYzyto+3PZzqBwc6gvnJSdQQ/qA/uKu/rG6aqhcj8LpMJ/NmVx8jKebTso6eqyWvHiDSavvLEIwXKJOl97iXbIShqZqhJEXifHpky5kbZOE2xGBwPfcbKqxVBs+gE7+UbaKxk7Cca+oVSeAsCj8,iv:WV6qTOr7G2Dcq+ka1NcPBBIeMFLUhVA+A09Zts+fAeM=,tag:VGIRQTlfjd61gKlA0TR1Yw==,type:str]
  certSANs:
    - 10.1.20.120
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    extraConfig:
      maxPods: 150
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.20.0/24
    disableManifestsDirectory: true
  network:
    hostname: k8s-2
    interfaces:
      - interface: eth0
        addresses:
          - 10.1.20.12/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.20.1
        vlans:
          - routes: []
            dhcp: false
            vlanId: 40
            mtu: 1500
            dhcpOptions:
              routeMetric: 4096
        mtu: 9000
        dhcp: false
        vip:
          ip: 10.1.20.120
    nameservers: ["10.1.20.43","10.1.20.1"]
    disableSearchDomain: true
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      - net.ifnames=0
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - security=none
    image: factory.talos.dev/installer/1be6923a14b1498bc2930c02b286cbf9d98764032fb6a8659b8fce7c1476262b:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
      permissions: 420
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers: ["time.cloudflare.com"]
  sysctls:
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.default_qdisc: fq
    net.core.rmem_max: "67108864"
    net.core.wmem_max: "67108864"
    net.ipv4.tcp_congestion_control: bbr
    net.ipv4.tcp_mtu_probing: "1"
    net.ipv4.tcp_window_scaling: "1"
  sysfs:
    devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
    devices.system.cpu.intel_pstate.hwp_dynamic_boost: "1"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles: ["os:admin"]
      allowedKubernetesNamespaces: ["actions-runner-system", "kube-system"]
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:m9AcRQZEWzaFKgQzVnGZPDjJoKoyZrrGEQgaba5zXbdXZLvQ/HKsEE8MhIw=,iv:jGnq9JflG7Cx+q50pT9bshfm0ZLB4AYMnnqsDyCtrm8=,tag:WX+bvCmBkSmJRIwH5UPuhQ==,type:str]
  secret: ENC[AES256_GCM,data:p036nX6dumaSQHfaY/SIRNDblG+MexkpbwdVreMCRJn7MDuDGy9KEHyXXpM=,iv:oNqtdORtDfQdpN+VZBcOqFDD20DNYn/PDxFiJmE+ef4=,tag:NZM91+Co6nGqD5tYMmEYUg==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets: ["10.42.0.0/16"]
    serviceSubnets: ["10.43.0.0/16"]
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:/fvuB9g/dbWze/wMoSQ52OIXYJ9/7q0=,iv:LXUIaT+VGhe9XOcpXuMxQMELJQVNbvGSSjmRAMQl6gw=,tag:oTUoBFLo51GTlevKM30svw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:PNpywWrP9bPDDHzVSyyzGwMwuJvQd6Ej8X7yf51CfOfEcd38gGhLmAufHSQ=,iv:7gJFhSGhchLREfuH9D0zbQoN3yZ2NRM/kPvNpiu//XQ=,tag:jcjFziVN6MWt9uCopU39dw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:/HdTOajVObohnxVRiueweyo2RNiYr7XLEAIItDW6gl0XHW2Zewpsb9fJamC2xUaRXdZmQR3IteSKrCEXMqr9KdYxo+joBjV1QJmeqCXPY11lPOJgql/9nkXLWAQw9GE7DHsc0TEm/0XRJWTULefMv3qtIO8Q5JqRhqGdZtAXdmu4/2BJX5HCEAxPck64m/6aXIBZ24JyuQyPzxxuJ9c1+PCNKhj0J3zwsoXkH4xo36jU9H3NCkF1r4Dph/siSqqN1YZt4XFkW/rKwrxR8gPn6LOVbQv+WuQ+5/Yx37JNladqcoAHvFCMOtjnHYFwyoaqj9mljt/ZIstsouJy4zQP7ckhiFdB2XzQZ4A88GmDgjA/X1CoWws2+t0oeA3qt3ZtCjb4+yI1oF5iWLXfn8vhfFxcjvgVWbstpyshwdyQZZbWDGuIKwOUugswybBDAIkSoDfgrt01Ybvwl6I7fv6SZkZixqbkVLV2IHd3DTRGQNcG3xWCC/+osQT3/8L4rBUORAs0vht4TzQ3PvaEOJ6g/+ebWYOo4Fyd3oOAL0wu2QeWI8QS3XjV7eN4E3al5rQKTE4BwAjBTkqKUz8ezh+emSE8rSdLuraj25NqWBZ/JHM2CgaPgSe9SDIpFvvScF8r6lXMmD3ixhGbcKjBzi2uImK5A0ciwt4bk+YTMPJIdemODRByKQxp5kDPctyVE2YMzXJx63i7xHZ8vWONIS83D2vJjbIFQ5N0dUBdFEkgFrPxZ8USIwh9xiy26z4/etFDmeIt2rmZc+jjNKaODMR4Q5OZ7LRvdBQ8d8TYtHXWTRvOgvT6ZiSOxn8YBQuaz0w9D9pPZt+neNNDAksEM4s6PTSQmIhWp4nsP3wAwHGobXPDzbHbHxXvgyJdbjgmgyTRXv2NKZAHgIqPdcc6H1dxosvMG0cTVO7dz+8E9gr/HOl7HjN3HJ1R752CNTuQIay6T8H943yYa9yzUahe+aABidHCBmcg54l0vnLReBJ2vLGAhcbGZYKP1YznsJuIvexk7xRBfnXfInKkLVfPf7TI5rQRtNCWFUakY9gTxA==,iv:JPnq7+z+WE0bl7BGpB4siHq1Bxs+yKr+fHJVsTcNRxg=,tag:sM951ktXDdSbqquwy7aeXg==,type:str]
    key: ENC[AES256_GCM,data:bGXqBmvWxuh2yMMF2hYAjkGSgwKvieWCTWkF/iaPx9yvRHJdBPcspI3H9sxhOyZYUytTCoRo/r7mgzRD/rxdZ9RegG2Ckrd6ADwxjadOq756B78PxX3qyhlraRY3pbEJiM4442z2P4rSFVCGj8OczzmOsJlioPbestq94ixvvANtYJrGhOOwrgKTvZifdovq2+NbT2w/BmYnc8z9EELCwWA8PTMbtj8rdOyvQVyOav5M8u0MBTEC5Bg3RjJYuHO4PtkfwvrINsKcfeEPu8bCNMQkUaoUWnH+BRgPDNtA0qxpbyjDiDZAAxG/v6iWrxycuLgZ5dptM8mW797AI+TK1kFhWILO5pRz7SO/j21Agb2hmYMnPvzk38aQuYIvtgTgHGqr8o5M+Ta5y9p3+eTvZQ==,iv:GpW9fhffS3a7x8kdhzbF9t26G+z9MiT7Iy1xKeR/+6g=,tag:2v06f49wIC4cTbYtp5F5gQ==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:qf8TCg8EIPoFt91spFhVmsDkymfYGVBEAFCBP7YYVzJuWPRofkebynlIyOKnCirc79Tq72vPAiUB1tBijRyhO/jBWTiebn3HsF0bZdkkbZ2tqRqdPl5abA0WLkPXSNEe5/Pozrgdv1WagFwa+Z/oHoe9c8Pw6nyO9bPP7LhMnvAOlCh5kaGKZcG0E6Lh8Axf/KMbXUhjJ01R0V92DKk4Rfvy+IoVqYKTUxudJMH+OwXS6oVB8qFbNtZOj6pSph2yXORDiMeZMOY3FRJ6xyGkjtlHF5z/i43aRgULitXEEKPL7bXH8uWT3qUyh5hRiRBz7mjTSOXzD6NGTNCF6AF1QadjtO9fxNtAo8EjivpXxvwLfvIDH6VKlo1Vs5LDwNTzUFYI+0/Cf/7OtYgI/XP99CAa21Rcz7ppYjR4AbL3P6V9Bx5EsP8+PbHUEQmBx60xqz4b0kbWJdbvXQHzatdwjFbnc89fzoRUqt7tO0BWSyxLaswgKaLhzQoaYBaemv+MGCZn3iveIpbGTc93Wmt9AcU6D1fLUsQFWJLPlIXDAx5zJug5p+czH8q7OWTE+o4WH+1sutdOPKks2bD2zufHzJOVyAnNbYIfccJoYvq7qQAq6ArvcsKd9nk/lF+4pTEh7as7Wq6DHSE5iANquynj4y2zjLwDiVTxueq9M4+zdYHvSctpXJ81R6OIBYYvbAdIo2Ein745npL+3yVLPZwDdhmMDVEaCqFtm+H0jQY9+EraMUkwHzFTExCQGzoxANBygv1vgorJxZ1Gesb7ZPjN3AvsuhRQ5R4zsMmKcMADV/5UbXfuVQ2YpoHcQtkfU2E7ArZG2hXTZNenwY4srlggj6BI1q/1Tv6bqormbg0DO/rXa18y5+QVsLiVv9/S7mkw+/o4NP2vynz1j93S+8vxl7RpEW0yr/0j5J8PcAQzqatvq6LruXGDmQ==,iv:4qjApGK8MTsWZC+4mrbR3pnFu9NG6W50UcWsR8/1XoM=,tag:HZ+1FGaepoDMrPOubrkscw==,type:str]
    key: ENC[AES256_GCM,data:ybv9sITNnhczYa5DzLxKjh9u9XxjR1n+jZ9iqIKxhEx4QJ0AM5HVK5bYmcRfOcqmi543ErsrELUXWC/nCA6N+wyaZ/AahYwggxo2mImGMHKl7rzE4jU4Exk1dVwTzZqa7hC/3BLVCuAgHG+pImuWeMEECtjyBukHcWwrLmKo8HpbFjkzF2tM3e55RPurOwBPiurF7elBoHPuLMcmiQD019iJv8ioh/qCH74MhsCPVdJNaB+XED5GGAPMYvX1tagtN2dKbdK6iVsiZS0VfM4JCAA5A+CsB9E8iIVvxCgmb3FYIeiG21wCtn8g3Qz4msGm+H2GUq3ohQluIAMvQGMSp2SHnf2jaefSuRPTbjnFHnibdC53d/ehwj8vwYXqujy4VpPJMxnupAN7Sn2g6tXODA==,iv:Npuqk4FBUAaAd4ap8apZNaCNFZgV9bpOL1fD8Lf8m64=,tag:8gcPUXw5LLayBpf4hkBO/g==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:VDwGfbAvXeei3WLkyRFWQJ7/49TaddrJXVDbxFGJ9kU=,tag:rc7mFzPZkH9k7GKhi+pPpA==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 10.1.20.120
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - pluginConfig:
            - args:
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
                defaultingType: List
              name: PodTopologySpread
          plugins:
            score:
              disabled:
                - name: ImageLocality
          schedulerName: default-scheduler
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:R+TBJoEBcrYNw0wEcfmZq4mZnW7IhWSgXPQszn67+TsMI75ffvlSUW+7m80br02EdgxVmmVvqe1SPMoTpCbx3QQK7+qAUYgT5e8jnXw58wFGe4+RH6AuKYt24+M00HUdfMRSPEvCQDmGsuglxJaXU0E8WTPs7wRcp3ecZhAEd8/mUwkgqwRNl0ZuVlUqbN/Ff19n46lOC+Zi6UcpHsNvwl/U8V7BbwQT8l6Avs4kJpDyJyDdC1xoOVaCmkp4a/DMEJym+8fcVWOfq95dj8sqETPLYGoIzyqdha7X0maxzjmSWWpCxYzr1CcxCgQaOMaPf04PJgUlBWhLBfWUpEtPibZAqMuoqLJAe8KjsZfytxUi+a/mCQFwlig3qNjv84HtIpqF8mWtzJTtM0LI9qK2FsXr/FiCXrzfxK7pDTDjix6vjVSUGEBJrN6eKXwhXfUolq0/Kd3mZb/uNJ3PBsVLGmEQWuMUNor7Lhzmt0GFz1ONR/tLpjxwITsXOK5o5GaLowyuk/IAQAzX4e6DobeFlkdu3p5QcFb+uPrs+O/g4jxcP6oYyLHiwAKwZk0QiLR3QCB1FPpvVXlNs74+GF7MF3mFYneIIEFnAjyvZ4svBz0boFsnS9siPV16FqAwE/7D47/DmVzx4OFomonkFTSqUAoZy7Ki4KPqz4gF4IfLJYNa9d/ED5h3W7fLU1TwlPKIPOxLcbMCVlN9JgwQAn+RnsGa5L8hnqWESv2gcgr6WltUb9iP8tSJRsyhtRgIjguzapD7E9eXUumCp78WQwrpmF/MNkqZUBddVYwDGHuOYyYAKvc74D5zxaukxGtVFNAixBfERmKJwWCfvszxDB2HUCG9LUa5N8cUmP8B04vXYMGRJ8H9hX7ew0ARvrGgqrI9zPFxnLOvp2PW/IK+BRQRWmQltgeuzGLKdhazgrB2r+vyo2VQOoMjBUEabebfSPpa5CHvif7+NJfvwhcTsj21Mg+g3rVITpXa4fQvwWrBmpnS3xfKQg8MlX6plHMpfWaqtUhhMQ==,iv:9nGWZtaTJmAvQKVIhGtw+idXNe2OjnFF/CSdXfiDRw8=,tag:7CjCc4k/dZVINSRWdgDPBg==,type:str]
      key: ENC[AES256_GCM,data:PsCAEoubBgtTDB2jbUNV3CQUOJaoI6mvNS5gLJPjtxZ0yGXkh+J6wqc4WNwVeawqtE+EL1s719PbbnMw2VfbPhGacIKIiHgueZ3HV9XvnlZc8HMexou5OvZvEEzgoQtUVwSnzBxh7gnkIvS0TXUIw3KsAfT6CZH1h0sJYmsN9LDa0IbRofpJBr2fa44k9jiA7DHmvJDUU/nf0G8OZWA3NrhG+Q5kDzorC2MJphS2d09amPkfMk9iLqbOuT9mEvsMI/a+PIRCYzWbfBrWel+rMxD4Cky385tRT9Y40Jnq0yHLyu0Nrq/349lAHEmA+qgCWHRkqIaFcey+DnuvT6EDc1tUki4Lqy6Xt0dP0tcrW3pnq44n1Wr0apsKSxslLyvXQ43b11bxhJqc+IogGkJvVw==,iv:GVepsL6Qr93XjAvPtTMlce0iE3fCb+lQwucKPpGC/Ms=,tag:MLY0jcQ3K1hOxaBiGnwF/A==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBSSDdVMlZtQ0swekdBWjN3
        d2FOcXk5YWF0eG9hUnhVTU0vdFAzY0NueUJvCjl1K0h0YW9kTEpFcVNYSXdDaTJs
        RWpZeEJYcERUakM2ZkdBMEhhZHBQNGsKLS0tIDlleURyOC9YaCtFZ2c2dTRRVGs3
        ZnZyL1hvYlZwQUsxRHBiTmNNMURWUGcKqWAWAN2R7hBKBHUD+J+fs5M4tvppnjAL
        tOufs2PwXOFWGA8/DPm2AyGKh64pAFluioWppp7QzlgYRKzJTGT/Cg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-31T04:22:04Z"
  mac: ENC[AES256_GCM,data:qd5z+asDheM6MJQgzb9rwXW9ChVBrH37tB25L3TTmhVKGruyh4xUSYxAVSnj1lipfvf6+cHcHhUPnAKG/zLBpmLhqVhEiuV9sSYuRlBa/C0BQw8GPSe/0M/R1F2tV/7eapoUxA0pdy0Qfuzm9+1iGSw0nQtf9BguQduA/KkGhns=,iv:mA0XrPzoo+xRYaSiDK/GpO5QA+9wNKMchOgbniEEgfc=,tag:lccRTM84O1J/Yo/Ri3gc3Q==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
