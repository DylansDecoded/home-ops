version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:HM/lsJYED1YFe4GB+wESOXj1O+4rWFE=,iv:fVlCPEaFS7igc7f20xXe1zL9or0jo7dFAZVH7q7xWLw=,tag:DzfGZ5+OEjN03COEqbjnYg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:O98ozMuj2MLR4iy1ZxR3ATzz6IVTZCXJ+jFQtoBdr/F8HgFws502bmIS1N2WgEjvS8KEE6FTepNdYPp+HBlx2ZLT8lg8HeWR71/sIYjwdk3pzxCRZKIjdvN8cdjpI05nuiFxX6bX9p160ux0xycCFKsL5vP3tkr6+txfLWjn5/2Ks2LelZkSKVkEwWfh0+Cs+pE/8dqE9iAIffeLfLjOXCYvGWpdIiH/TkyFs8gAGOIAv79WWC2vwwTLvYPimFGStZFUDmXRZn4ADCTHajvaHDfGtFKgDTETq05tZxj0f415QCY6IdjKyLgro+mEatTw9NXGmY2zNeiE9WDwC5FFTO1R4IQFBeH7J3sE9rELfR50xTMCl21flS8oasO91ljJJOTEVE3jUgA2C/w6DTvFE8pKZulA5rzYQugii6KSbDCZhm8KsX/DCwNtM2nMrcCpKNNJB749uDu6Eiosk3pmljU6R8xsJJjVmPkoMS08f3VX9LYikMiNVpkqw9rN+OvMftUWHWpCddl+VGfwXwuE3uac9zDe5i2fXWOzUdJu4f+ASUd46YkFMuFxX/9QSam+2lUt71fwTdU74cZ4o5KfV3GqVfhwilJ0ynhneaFuXxUKP3DyVM2SsR2Z+JZdwvshQLtEpLW+VxJd2y8GWe3iKV+TE0XpHCX0ErY6+9lUnniRbqOcESh0eoZx+4UJY4Y2qCgkxZSZP1Vl4veLACT3d5cgDcOTL9UCsxPzNy9V8QUiOjdoMPf/+9/+BUg9fmuhstJiZpvwbI0qk/risg74FNo21QD94b1tSZUJMCEU/U63qPcjd+9LFa7x93lewJRL9FLDE9O5VvR1EBcXwB4pTBJSbV3JoHu8AZ9o6b3tRXqfhSdW,iv:593dcWCQWq0jwAm9pbRgKDpKs2Qeb+CcBflg/58XVXM=,tag:quXJLFqpNqwWVVK1eb2aEg==,type:str]
    key: ENC[AES256_GCM,data:znmPirs75NfOkLqpL9e2lDPp4/+0DjK+DLrSRzKqYAiAmrKGyZvImxUBQY1ylwJX7VlPHjKXFOEBsnliQ7f9VfY88vmVToNWcHVYLvRWdEgEhBBQILXqY/qPq3hoicuWJxHYFbA8uYO12vhvxqOxM0bmM6I9jRFU+gcBbRkAXwZTweFkdrHqkUWZFP3qc17XQR594qYu7TcIKgkRNr4f1FNFm9SuR4iDdYG8dWhnczy2wTsp,iv:TPLP/PstB5vmXaOBMABS0pQo6vIcM4hlgagHX91SePw=,tag:n6spCkDFBFXo+LXHfOF+FA==,type:str]
  certSANs:
    - 127.0.0.1
    - 10.1.20.120
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      rotate-server-certificates: "true"
    extraConfig:
      maxPods: 150
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
  network:
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
    hostname: k8s-1
    interfaces:
      - interface: eth0
        dhcp: false
        addresses:
          - 10.1.20.11/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.20.1
        mtu: 1500
        vip:
          ip: 10.1.20.120
        vlans:
          # Services Network
          - vlanId: 30
            dhcp: false
            addresses:
              - 10.1.30.11/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.30.1
            mtu: 1500
          # Trusted Network
          - vlanId: 40
            dhcp: false
            addresses:
              - 10.1.40.11/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.40.1
    disableSearchDomain: true
  time:
    servers:
      - 10.1.20.1
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      # Use eth0 instead of eno1
      - net.ifnames=0
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
    image: factory.talos.dev/installer/6e6f23cd5ca6099bbe4be57a2218f628e61314545d5da36dcc6516c59d3be64f:{{ ENV.TALOS_VERSION }}
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 1Gb/s
    net.core.default_qdisc: fq
    # 1Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    net.ipv4.tcp_congestion_control: bbr
    # 1Gb/s
    net.ipv4.tcp_window_scaling: 1
    # postgresql
    vm.nr_hugepages: 1024
  # sysfs:
  #   devices.system.cpu.intel_pstate.hwp_dynamic_boost: 1
  #   devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Thunderbolt
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      # Coral Edge M.2 TPU
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:wW2xYhXLyrGI0mpZ/hFKZkVU2vr89UIEkou56ra3+aNcozRdUftPrfx58uI=,iv:SllohFQtrxeXgfI3sJQjuWEweUejI+maXwQ2kJB/d68=,tag:n0wHlDKHc/PqRfmypd94hA==,type:str]
  secret: ENC[AES256_GCM,data:IMNhvnpxz+Sv6PZPB0XnyFY3ZFNdgY+UwJ7AnJX2M2Y80xu+R+LVu+FLl4s=,iv:KodVhZ8ERC2OFwsBedROw3tR6NA+ijPL7vLze1goeKA=,tag:ym791EOMDXKAK2Sohiv+CA==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:QJPbxgLB+5Hf/+kWZHFl4jPNvs+IcQs=,iv:m16wdBkxisHjxBwI1SZHrntRCo7JLtxlV9ehGNWRvPQ=,tag:67Ht7mc6Kl+/aWY+Ea00ow==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:CAfpoGOrn0KnzMoFMMIK+nxYA+PFRAVSR8y3F/ezXnVtOVMsTJJ+B31mfTY=,iv:4ah0QUwi2EfqMFNQW5r96YfZkI57Yhi/3E0aCYFCAvc=,tag:YKLJ6Q9RL6bGMvUlqMPMog==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:49chebmgjHxZsjgXhJDTx1q6rBdpgGua/WMBKCo7T/hgtJ714u6Uj4gO+QDo05xQsTODji4Eq/Mb1J6OA3O3SA88DvedbrMxS0Ln/gpjsDgApK6YHEzKJ0w0RH78izTbUXxVoN9w7BCXzNd7L5lNg2YI0trHIn05PIot/d4xoYqDNXGSvV801piE81AuhMWXjwqly6WdxAy8jw8+AO11h10q7kgZftJ19K+J9p7OFAQPH7U3Yhp1IPqevSuYUG5guQnG+CC/aDuHIYqVMQX1dIzaL2ByoP+QXTAogAzeTg+Ip7XYaktQ0dd7uvGG2EWH6HODa+Ga0wmm4Ocu9JUA4PvDhQZ+9JCB924KCRd7Y5xZ3QHMuLr4C9zK/NBmgpZ7SWSpp4GFxSKbLKBjCzWaPzYP758okSEMMe2ijhpZ6AHCJKRHPnFwyehIznnCYKbi49qEyOEFDO3t9n1e7CToNQ/EXL9iYn+qVVJ3dRVAkqj3wOFS1UhKC4P85az/FMYLNP7HmmKcoHyHHDxgfC3/zVEB/AOXhLSfAEjqjPDZNxvWDLPXNIQrZ5tGw1hyYeqjQ0mSw1IAGzRJ8PgUUIbg7VTK0QrtrPDVOMK7/LUbsS1QFMUDrmbHM2juB+HPrTTPw9DJgt+K+ehmovH/bnEggwp46TcWK5gCtaeeYMyWfDKwQiCOLWPQr8/F9C+Nwm7tr17oz/lCL+W7n8MOhi/hUi8UDyvuKHWiSgjOV9jk3HTa+0uzHTVhSz6cHhOCbLWFwvRVjsy4OnTxVdJ1fSgORmSXNAUNktjwPCagb3vhE7rQpV8ywbA6RzJVptKkXPTmPNTtYMV+bpOfk92VsFQ9SV9kAjPIGsKDKFTiyPEGhdSEy8DByDCtGdke62M+JOCLOEMDiJgvkfggBlb5VdDUghxhTrnoEJ9/SgsSnhwTIAxJ5V5XpBsH1hgPLDLt/Ia5grkUzkdnoSOAC8UAZpB9ymVFAIk6XQF+tA+1eobXsAWaX3THNbGwDMz4l0x6B1k7A35lqBccnSJyRJxhDirWJmPeXlQ=,iv:4b4aHp//EV50d/hCzC8Px0xPK0GkePZvyvBGcuRTmXE=,tag:jeKxu0+b1j4oN6OLXwPVtg==,type:str]
    key: ENC[AES256_GCM,data:QfzZY9D5GEC5ROifa0fRIdhBGYTfJjx5QbAASt5mSEXv9u1YvBJ0N7uZk3NNQls64Oz0V9HiG9ZlgIDcy4fq6VR3aPohP1VV/UDNGVt5tQjaPXb04Jfmum7L0Yi+x/CZ4fmWD7aTIyemkJkamXSckedxB47lcBpFOosCxwPUXAQkkGPVAcUTLk9J8Eeai2y+OuVRE3ThI7eaZxksWciCv0FBQhzBjnJPddMz0pJLyfpKirqXAT2AD/DKfY+cFX8aQOhQqrZuNzrPaDlG48kj5Qpk1dsgktm1aCg5I2zigs+2sWnL/HcuRev+qIFGw/Fa+85lUWEt971nvGIvKqwiytxRkO+7wLKcPVwndQOAB0N/l4396HVSuXVj/2avdPgfe/Vm7aLRK4mXUeHE3el34A==,iv:PUyZVFrFwt3b+Q4mjl5rhqLCYXOcxPnHpy5szm34QQM=,tag:IxugGbYC+fXaWCsZTdcasA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:iWT6gsCWuaLv1XetuozX7iu5/4Yw0xHJOZ8ydQl5xj5JvmQ4225QycjYkwPmPcAs12ijC5MdfuH8ZbolIIdUy9alszLVdhBAjjhPSsymyRdDlCwidlTDBTBv+N9jL3MGqfttNIE4dzMaJ5O1qHD67s6bqhgmbxU3BRHRmkAxLp0NShZgcJTgMumQ91smrMR+dURs1PRwdc6+L1TuSZMWEtlEVy4rBAPgmUezgIi9yqrMEP+Sd2J0752/kD7AdLWa/zWCI/NQhLt8lqiM3jQOQuFhq8cWrgsVCltYmHjiOTAbbxtuiUSSMHIPbgNXgujkonr22yxk+9wFOtsoJ53XiyGccvhACWE/NUTb64meu9HD8T71C2R610mwJQI7d1KOOhvpW4dt1ull7ijqb0DZzxO304tNrqKBA5y8smYMoQgHKmPWWNSlAlaNAOEatO48zYfxAUgsM3JWV3g6eYSQa75TF4eeVEuhewySWEsOYjAU7z8JdIJrxcrduJZz2mFlM2K5oeqte5XMN+i7xNx+6fsfYpzr5TC4Qj5QB5ogxmLytHD+8pSWgiqvuHQu8Z2WoDTR+2XTbVXNh8qjn3htv8kKp9MeglTVhmCd8q/G2OpS8CTD3aWkd8z+9T8wmwPIMMa9pjGE3mw5Y5VBwm48z+zXatJmM0+6mGpICRBwWh1a/NrGKHR/AkRD/0dt/OHx1lxXuOU3XfC8GPzOh4cKrvsVDGfKP8wCEd1jG2+i3LGv9H/4qvkDu9g7SW4v36GK/rxLqaclR8B4Y74COfZ7XQ8oJKO+N6DjBXP4zlm1011HfJBbuzOZwxh0dWK5bay6yzg9Wu7q8OkeBt82XjLhLWXc2FSrERrv9jDp64RsmQoQLaquAk+hm4jDEvpFx4rfMmz54PpTKO83oPOmrpzx/pNpVtZB5BTZfJSGAsjrarTVn45IzEXEcBxleB93FmYS,iv:3uPqDwnfPvv5vhwyZ+3936FMu6tAILA8C5jIFXSoKFg=,tag:t1tpz38HxLkFdYSeUztvFg==,type:str]
    key: ENC[AES256_GCM,data:rSmR7w2ZK3s7QBF+SzRimkezHym6F65sZE06S15G26ABU50jSmNEcICZtToFd6g3w9l2K4dKaTyGD4sZINU9rrhBSrvUUc5GgMYyXQRNWb3JibyBl8TtYpGxr79HW+qwbLvgnXAeXXjhml63NZPiiUYTvjISPZJZOzMIwkuBN1QbD6kUU7v4zb34Z+3moK38tZaQQ5fqlC6rIix493IxpuiIZW35AxPPuocXh0pw9D8hj8bYm72ACdQ6s+vaPAis7ZWcMYeqyMtAAE9DskSmCLRZ905eJq2iv9KV3NPfAKbhtbrEpZE34yxYGL/Wf+jE3O5weL8Ugw4GBLL04ZP6VT6g/Z2TGgmgMJYrctqM1VRsXX83FegbTQiJ8n+O9/6phNCg987mGPoc7subrFlhig==,iv:n3BMd90HSvDT5J4zbyQ8RlL3ohTvoYrGrvNbO7Ebb1I=,tag:G2UNu8jd0lsy4nZpiC/qww==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:lyBJvOPI/HZaTm/f0ea0LTMaKemonEeaI0XUhJ8J74E=,tag:dLFmTO0CdE0Rt8BI7TWZjQ==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.31.2
    certSANs:
      - 127.0.0.1
      - 10.1.20.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.31.2
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.31.2
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:mxAlXrKujjYLS2A59X9k+AEfI8FxzhURW7yGr0eiNtVHiaX0vsRjs0AwBeKpfWFu6M2MXDLpEgWc3nRnD2i6Wfsgq3wj22qX4qxQdRMBydGNuudwrOpGITm4zMl7XIZ1jO+y9SncWtPUiCh4j1GWIcrYhwUYQFwTTzSZX/ScaB/ZiNLGUiO5GvyOvVhc8lesrTo3OKgalCtiOrDKJsy0YkalzxN/PZMV8nxqFq5tgyqxAoHHDx2+CTf1hdbaXGLCPeYFvBBvBm3HvNlJIkljDBuwPGdgsMQ6qZcZ/0zNGOMGDgy2DNpRB3xg+pYLjV/pKWQzHRWZ/v3ri97lRcIc+hUOSRTAbrCIBhIoCDZ18YzJtFJaLECrVnGk2Pytkg/AIutbRVSE0fW5PIqX3ciHlqb/0VAWUzVjPiSRsaD5sQPSIEjwGb/XYYlNaMDULDpCKSpmpdEJvSomgUGsWntJ8z6TPQTIVxGC8eeyUAaiHx//4h5s0rO6btazPbGEhdNXrFbJuZrp55y74duUUiAE6wCTg+BuGRIWNsxj2z+O++w95c4RiXL9ARtndCzZjzNh9AVSb1xSWohRgeYTLrWNOu5yO0RHkmXBwvtpV4iYVNnJYgNkwmxiIQubcy5pQkOmUFX7Ik1bQBl1cxoqCItXrHQ/6IIvK3d8/+E+3jqKk6S0ESizBCEvfJ4AKlf50P0KcNQfenolKSJl/Olej1CPrZYBy0ys0I4HvlvjrOxr5OrAzkA4dufRo6xSEULFUmy9E7WddX/LAV1I8hkDqdmTsqeeAKregg0StkOGLWimCXn0hr0XJtSseM7m2hq8fyqS5ivfj9pksMkk1BDnGWDL54GiRvHXYEVyV9nmcGQoxFNUqmDUCyIRYK5YTVQAuOg5jfsp6+ZijYY0ZIHRSdCgdxw9GMB5GlkC36pN4QZOEKaXVm/pMdbN3CT8TzXE73wpxJHsyCJFDgnjbxtH/eADyGD1EjV5uVZKhjW+kaB3yjrOwTd9vbeeoVP6qTGxMpyT,iv:tIOo9r6eYgLwMy2cZO95yu5tyjmvsHRZn2DsY+uG57o=,tag:woL3hVNPUnpfP1A2oCTQgw==,type:str]
      key: ENC[AES256_GCM,data:zxWqzA87WJcl1RMYkwXIWE5ZIx20ybHjGlNaNGCgEVp8RnH5T0CzkRg00+i5uu/3HrykP1v2H1wapO5fok26W5IHvoQNTVPhhl+uxkRM4FvUrn49JXESXfIfWc2XxN0v3l0+IN9BaD8LEk2zNVAb3sTcuWkiDARooGkfaF3US4yots4Yjyz1wOqaRVvCKUK6aYHNyBf7zBRF+9OAP9stFTH8ucPStAh/MqOM87OwF/c6JKzs82JbP4ofVlIlWM9qGa13FQmvUXbWpzcSMwZmklh6UVmk+l/aSYc4RN5hMHjyimNRxDiH5+JQX0dzHUwSCyyGexJRdnWRH37fJ/fLa7Yr2oNH3ftvDsWztYrJia/4EcLh/gQenuy98kR17W6qxhKFnvVKAxF8PDFc8lmhdQ==,iv:8IGtPJh69jq6WhTFlVMNeWJmtfSB/vMuauMw6UtFNbs=,tag:hqJMi0GPHqVouU/iFSqMxw==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  allowSchedulingOnMasters: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDWmhuL1l5TWNDc2ZVWnhY
        enIwUU5XL1o1b2lNL2lTTkpBb0YwNVhheGpRCjBTTjNSS0xjOHFpb3IybHdQWGhD
        WXNwUUdsSG9JVnRHUC8ybjVuMzFmL2MKLS0tIGpEbThyKzNPNmwzTEt6WDdxSDNv
        dmZiNTJuYzRwV0Ria2IwM2J2SC9BQTQKhtPkbUYYwdDhUZ7Y5arCgtL6CC+EgV6m
        w69wuYO6fo/GaMjQlP/zRTJC+bY1uD+vRAiGKIe8U2GsiS+c+gGSog==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-10T02:42:28Z"
  mac: ENC[AES256_GCM,data:GIdDBIRnR1idiyPemd+xHuxoqH70luU+V7yHWE4bXZxKgDCt5OjwKpfoGzM+G4jAHqdE3pUqtG+s9JpqKEC4P18L6nZNmCDNWIe/ENA7oDMGiclc2BDIsLvEs0+tL/KP9r6EpVGs/7zxpaQDCCGgX0Pc7E0a0hOxMf03iiBosvo=,iv:y0aSx+bZniqlgYOveppZlrqa1cmmqGNfNg6X7n2Vs/4=,tag:P3Z2LctctSB2W1HYXjr8UA==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
