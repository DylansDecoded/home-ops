version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:srdN1XUoxB+3qzk3BMQ7smZ2WaKIEr4=,iv:rSgkLPGONrD6+1LOBQPEAan7Puh7J3JBuVTLYlFq1cw=,tag:uQ1XtpaW0AZyBSlTNXr4Rw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:luDJI2KYOHhp5n8xleOsd1p1v5CLqys+utQZ/tftHMoXBkW/zQ/w1c9bdu1ECZJscL8CNL9+BCGZ4oBly3faVqsXZIbRmInTUb7oBB6lgxjx3ZJQ7xyVgqWoUTO0Nc/c5ASWKFoEz+a2meSBHg3yWgEP+Kl2Ceik+YNaHw1IV9ks6jgmD4xMqbE9PEOX11Rm/0ZkA9FoscFgZwRFRxnEuY8EZtzofIivJd/LQ/hVMMGLOrB4VHw1EI/5pIeBRIg6n18NFcnpZWMLu8uOzJ+5lw0ld2PwswTwXw1WPMiaMSntvwwVDrl/HlwHKV+5rloXUe7szRhaVehLfgxUtWEidOZfYWjpnh+NgBElFid5YO9GaH3a+ttECW2Hgtkv06TiRqTiCEhqNWZv+7TN6vmeRp+xG0RdVjA8qOVokFaIWFy1nYp8c+owrFssFrbsHj4Gtj+silXOcSaLpkcdfI3driTjdIpazQwhIDpAPmH9SeR4VaHpvTgLRcR05Mu+iNfkHUPRTivBT/ID6aM1efwfMN5C3DEgjUVE83LTduJaLNyvliG7+UPqG7Ami3+LqwGbNuJdBPZSJ+qlQUbAYDmqCQGIRUUiGO7kSrKwQkacEYJWAQmDXhhlsC9jO79zeJ1q9co34m/D911GfRqJN+a5WccO7OGBeMz7geWJO4EWFBDjXe9qUu8SfXbedUO1t9Fp5dfwY91aGyfQr10jqNzuV8ShdiDlwQoZtyOnBdl50CNLKr/YFHsWvyBph/R5ZemVlkbzSG27vlcFAYY0+C6guuC+vORhiAyADi3iptnKuIX27Us2FGnpeb/k0BrghPour6C9i4LtXyAYZYPwhkCAhJjbgdgHtQFi/4jNUztb9DeVcGwN,iv:06sQxSjlu9Q33SiWTlD1GtnQMfYcCE6QV6NJHOaIgrU=,tag:fGW0JlIuaIiXS92pKJYYvw==,type:str]
    key: ENC[AES256_GCM,data:KrczSGtFQb62vknK0eCXvfQ+0LUSPYkttDjQ3zP1ylSagcyePqzMsYr5PL5rmIAH4GL/MYP/NcQnJXyu3dODzjDtUpkV9wWP+S27sG0ZEnHtO1/DmQNuH4R2y/RyKTPj9ddMYvVjLieSswb8q6gQFODTAwj7LIb2DU6J4R8ZJ3lF4v6wcJkTmczz9RsNEHHFRNMspYzmiaYekbDBIN7dwGrN814IFC/gtsZ4N4c80VrzBeou,iv:Ye4/469AReloEtORowbSUMcM+Dr93tW/eKsJTsrA6lc=,tag:wt0AUv+qqpI1tke5VsLVUg==,type:str]
  certSANs:
    - 127.0.0.1
    - 10.1.20.120
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.32.0
    extraConfig:
      maxPods: 150
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
  network:
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
    hostname: k8s-1
    interfaces:
      - interface: eth0
        dhcp: false
        addresses:
          - 10.1.20.11/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.20.1
        mtu: 1500
        vip:
          ip: 10.1.20.120
        vlans:
          # Services Network
          - vlanId: 30
            dhcp: false
            addresses:
              - 10.1.30.11/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.30.1
            mtu: 1500
          # Trusted Network
          - vlanId: 40
            dhcp: false
            addresses:
              - 10.1.40.11/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.40.1
    disableSearchDomain: true
  time:
    servers:
      - 10.1.20.1
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      # Use eth0 instead of eno1
      - net.ifnames=0
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
    image: factory.talos.dev/installer/6e6f23cd5ca6099bbe4be57a2218f628e61314545d5da36dcc6516c59d3be64f:v1.9.1
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 1Gb/s
    net.core.default_qdisc: fq
    # 1Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    net.ipv4.tcp_congestion_control: bbr
    # 1Gb/s
    net.ipv4.tcp_window_scaling: 1
    # postgresql
    vm.nr_hugepages: 1024
  # sysfs:
  #   devices.system.cpu.intel_pstate.hwp_dynamic_boost: 1
  #   devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Thunderbolt
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      # Coral Edge M.2 TPU
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:+fYDwcTer/nfUiPLKVcIfyPu6pQsxZJCcEjyXpsVQ/rOYUQ/DTsijLpwo3Q=,iv:q302QVdFy9rN9ew+A0xsPkqCC68jl1bdyjAY7VL0UdU=,tag:Lfx7LiHqQghC23JX/+D6oQ==,type:str]
  secret: ENC[AES256_GCM,data:K0AWJCj7ULfPdf/vzEUGveGYBYELy4AZa6AzftjEgkh5lnD7lnyPqFJE9jM=,iv:PO8vQePXX18KgbZAm/352Pvy8lNli0jTiJJZfx/C/Zs=,tag:L48LhHXTvIrO3i+k1YkuTQ==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:fr5Ao7wnI2I05OxIWooykZekymueDxQ=,iv:vHuCu/hnQE/HzkGNQAH/JEiR/6PsTjTWOgi7jT9/iC8=,tag:RmnKE5YgfmgSjGXp2hHNAA==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:d+6q7cfmYW4b1Sqx3i1B2/wDZkMwcMiy0W4DDVWKrMprhtRu4lKaOll8Dv4=,iv:ItMYk8Fd90PnOitD2ZLrMDZSTYCXxVyCxTOpB/B8nMQ=,tag:ha4254Kr6gkwKcE9PVeVxg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:euCY5XDMtrjQY5gpgv3NY1sDELhVD3Xu2deuzl4Xl5F9t0KLdtHvaPyX3jVGJdSrkrf0MaS+19VQ1oKue5WLr0UnphUb8RgLEz5tyJTk8Tdk4ay82i8a664qDbP5qVuU6JztOvqMitOcxO/YawCuvA6v1eynMsMO3bglRxnpGWngW1QcxDbo3A7PmSrw30IpbOjN+xgTAFzaJ7o7bWJ7wTuY7JZ2SSBmsa3rHKYf60t1etGZAfzR6RV2AF6m5kAKn19WlDhaHtE9W0sW4nq9h+ZqoSfHgAef978OsP10ENeyXOlBANOAdK0EJxOoRZ3ZY5u9o4ajspoa/aZ5h/2Vpd5NnOOExS6MQtuS4tOfOVaaiPnN3kwAj0e/GXPhwKU0sYlvCxcDLyGYmN4/3wpiqdDC2eJDee7ao9AoHioKzrydejqCy3/bfaoKViKcR5uHLKf5x7yfbQmvgIaQZu0XT3hroQXBo3ouTwzWEJ4PXlIbejjwBmRwoFgkb6PlVMWXGtLodLxIR0sEjRYKFJ0Ucej/iHJUzBvDzLtXZ4EDDVOf2977iFESwD0IAt58S2L11c0tE7Ik99mooKXP0nR2avq3oRDkz98Dob7IoNF+lWz4r2XmUW8zpcyaszGHoaIzySrkPsChPBFy/aLIEXsB/eeuXe9mp89cGoOP2uKBL9YmXE8LHXYP/OV603INdrFD24kLLrl5Q3wpByOyLclgnDrr108qxblZrLciWe3Hwwa62TYqSWJI8YxndT8aBYaJQdclzpIi6UzcV6HfT/C/NdLzfNXt769UYr6kBFDHq+rc7ixhVNNUb2oLFWdL6rSPd8WbkAAe6yEz7ZmLztV8VtSSFB1ZP/20iqP+YkRA93BpjbLeDRF/9iOslNZsD0fPa1brc0cdUXQ5WaDW22U9pLUm18KxuGlt/A8qMLnWPh60eaXmFgx9Ay6XcsTqmMIOFRj2BAn34/2dD1s+tNzQUzFkZNEIhEfp+wonHT0Yf+v9mRUetR379lilcPYfPXCrrWIok1e9gCVBpBgbn7fzJvFVKlo=,iv:Rb6WbyZvHpkIy/ZWvxEAB56PgQKzOCLtkYJwQ1Izgk4=,tag:l5qNSfKE9VUltdw32q3lJw==,type:str]
    key: ENC[AES256_GCM,data:LxW7uI+FFkDW6dLh4HPmjqlmHSCgeePsB7sViQBCuu8JUcCB+NBgdd1haUh10ZUH376w1wy0ISB0ghoeN/nBHjPtRbJg3tVLoHDGHYlmlljGU6Zk8W/M8VHTNx5Fw+EbP7N6ju+um3ci5URg0VlmVGHPkVHGkra9jY7imGhiRkC/Bolykys2ta5+eWB1xBDMb9Q6WSLh5lb+SciSsIFEfPY4CKYI/tCjhtaeSdt7qfk39y1yWUtXEiF873XilQTlP7x9neGoTvb6jBbAfHYKeSUE2YyGtVezzJGxArdyjR1VoZJjtZyWeVnaXqbrTgW9RA3HqgjPU5rWQ2aVLcXyW+2nG6KjVN5NpsDj3HXNZ3hBTfWkQfIiWSFoRB9MDQVabWuNfCt5N6li82Wzgwi9Vg==,iv:Vsai47G1nwDTVl5qQWw0CrpGKtcZrnq4l6V087joIeA=,tag:n0VynjBR4G5wWaFQiju28A==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:TyVRaow+mUwPSDxN/NJV6edzrnuaPNpcX6Js2wGj8wjmjAn6tJW8UsMhK1kchK5nHug5SVGqnfukfzbM6zTYdmnKPEFbnZ8jcdH3yiWGMRs7Es4pyZQjF9BsNQPc118T1eN4ppgc4m1NAZTrvwA8J8SE1NjCwNfnMsZjX5XbQr9Du3x45JhkqPUwWMbM06L46kOz2QrtFogif6K8K6/DeQToUdQCKgzBRwgO9SlwZmnBT9IlYxvG3HG6rPPcAh4gh+lSMl5pfiYTAv2otoitVxEAlc1YK9YsG4vhdlwkhdU8VwHkO04wOdsiKCb6CtMSNgXbCiUxzOBfOGdWBP5O5F4OiQlrjZJftqd5OOYMnkNdiHRHaCz3ZKbgl2UTuIBs2DdNwQW7QJLHig2unBda7z3Y/LBDCjmMP/M339MTQTqziXS8N23G37/SO72YGs6Li0L4EFzdJLuzsy5QbhM+l/m4SikgR0KypfyNHGRuIrgx4Oou6JOOY7yFgmdyy3wjQej4BFtVLqBbZBl3J+UDOGqQpkaNJ7NYNJ83HwNEPSbCqK+aBzStdjO912fsizczxfIf7xkjhGgLXdgZvYsILEDnLBFBiAv5Y2Ici+Oyor6VAdyUdesLouI3VqaRBj8it24BJpnEvEJF8FDQ8euWxqw61tjAKLypEyqnq2Wgb3V1zlLcCdN1m0p6FOHQjvaD6lFLZLU9PPEEdzBGWnXb/hlHYZCYMnz4dPBW9o5EI90QwZCPfRE9IFTKHXX3GnU1fgvMcKMpuTizrpPE5GQFpfQR4eTRVh6aPCCfEENmSbOop857eVSczNWaOhJkwCFoGF73hH7qIUWKaQ22wDp3ME2yvKTt4hMd3GUHORkXKQebi6aKqjD4D7ORnUgKDP/lss3eUq+yX3U5ueZfTV1KSxusKQpfjLle26cNkx05mKBOxl3JB+OhTn97YUuJrqm9,iv:UuF7sYUkjeBBsUOMBe6HxsYlGeIpeLVu8ovvuxECKzo=,tag:scVdrAtgbAaBLRA4nqAKww==,type:str]
    key: ENC[AES256_GCM,data:gTKLh1wDPCdNJLqcTyIss3HriepLYT4pZ6jBmhMN7XisXYL1AM7TFUTr1yqsJY7waOdR8bsQmw2QZCvnKjqxUFOfe95xqUQEx4fHllhgsNsZSE2ypzN6IxagfBKt4x8+JIe/6nOXwWdVndwD3//PYk9HkIi/AEvcF8WdSG/y0wf2MILm0kMRmoUf/4GHA1sUETjF1xoTv5k5isCZMQEWOsdDgQfOG0S1rxhxBd+euubUEsBynErougYJXYBn2WVkCxO1uSwTpZWND1C/odnZzD6GBUd+94IZzUWzcAWhNedqYqlljsJAtkmkvAvIbuHZV6ZZPOVS6B/1FYnY5KY8AZ1B0GevxL2gq5cBhH1QsywZnT3y0LvhhaZQbWHWivQgSMk9AygU79TqaUfDD1XTTg==,iv:ktenzYQQ/WqSVBVeqKkzUkOZaSxRWxhy2LYqU8pOnMM=,tag:QGgsLi+U7VoJ+InI8RFpeQ==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:cUgqS/76iQAhhii6SJZTR5pfpBNBHgWnBC/5G9AF+IE=,tag:LX5tYMscoxun1gmP4igRHQ==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.31.2
    certSANs:
      - 127.0.0.1
      - 10.1.20.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.31.2
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.31.2
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:R1fPsj8GNFKZ9nOrrI4kwkWXhUGCzBVSJT/LzeImlcK28SVmZJ6aDpEdQdyv1PiZYzOKYXyP15fESIF9H+ecu0MNVW/Hh+iAix0b37Y0C+BRXVIrPms9PZuF+VsB7R/0VNX0p7SKHHCh21/8+u0z+ZEMOgBqbFHEWhWn2ROhtUzt70L+KRqd0FuA7nAUoHZ+pKYyxU3qY8zBs9oraNcxQs5C9odzlujM+rqP5aX5F3+Fqja0H67zjt0hN2tXaW5kz6P7n0RwKTKx4e/wmu1+txzH+s8J7oFQNUQbD8YvQ8pJiPDx/pB0n5Z8u+554jcBScxXuPAComWa4n53EJDeDeDDE5dyO7kawd4lR1jqTZNciiC2HrNlLwphiTj2m8yrZtw8hT9brKPr6HyN4kRBBfCI5CY0+4j8TcgC840dTxVT+g+qPjhtarvNx8nOlsudGz2L9qaPe7Spp+UDpSNlK0jOvUKPaD98jM6AzXj7jNvhCDvUn449f/7ENHx7tj6ym5sXY9jLXygzPRsOl+KYDhclFk/JTepnyvysFZrqn3gw/RZ9GlTw5rwSqQ0vEZEdiCDdT+9oNPskV9M/kt9fqYnkHVIITUdQFTFFoZ8/1GFRoUC3Ip2FDMOaETb02dyLPnkWIswHhhNUWXE7MJcq2h+6emUGFkJ3NT25gu+RAz7C3uwM3MAAHdI6vOm/FAHjqCH6jQgOOUKAL+ls/+j50r2PkVYoI8gHDyQSyTuymiNsnXr6ytBiud8fb0hIRnZj0X5CzFMu5vp5vbs4OvPB7BO+apYOGlWaG8ssaYLL3KuD29e4HOao+lizXH+0tQf/yX6qt4xcyojVUNk4zoqM9BvSvEIN4dJuoYAOlXOdEEAbuajYZOZcmScAqywzO1kzu73U2g5lUjRkbiIlz+ka4VB+HJMNMbBRT3Ab62zfeo7uej2yRbAqZ3H2M9KjnhtcV1KHNvc4a4c+LbIihPKyygiyfkhKcX0U8Z1YVu2ktubpyM7ScglodQnv2uaYcM4N,iv:rZqwZApuyVA5AzI9BFESNebU8F2YX5ygQST7Zo5Aqxw=,tag:33BE6BOZnBvypUHUv5Et3A==,type:str]
      key: ENC[AES256_GCM,data:vSMq35qTBJKhUXfXUK6JpHtIH03FODRNXeSBSBQlnT17qhdsRbUSnVSp+SC5gQYupXQpg+5f+mzJ+UZ7t9yZr7vIHyOmGCpITVg2DIQBtBXiPB9RA8u8UYv67yYW47/rMMOMxDhtmHBWK5gB65ztcxPLFL3drbncOEJAXrS81598WgZsnDImgrBgXU9o79vvJR4nHQ4hcF/yYsTy2gtRWwXPM9l1ERszelF7GD7W/kH4pBIWIpUeenKocwXIDiOOHJdF7cAxp3s3E28MRaVgoLr+Ndk+sg8LtQJnX2YsgxrEe2UwI4+aXvixj8S11lPt5GWLNNDTI+hHB5RkrTfS5WC4pNE84G38L2XtdAKA1WVcRvYh2v1XX4LxmtmoRBcetQx3cNHkmtC7qxUGcyQyDg==,iv:e+KQceEkU+U2g2+yscyJozSza5OcgbR0b5+SwFEvRL8=,tag:4zrpSHrGf8qc9j792V8l6Q==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWMkQzQ0Q0NVlxU2czWFBF
        YWlDaG0vSkRxZkVnT1J4RkdhVUdzUHJzb2xVCk5oeHVFb3ROL1NMR2d3ejBtVDY5
        M0lTNWl4S2taemUraUlVTzR3TkhVZE0KLS0tIFlvdFhFODJnUTFuLzh3T1ZpN0Yy
        S0pyT3ppcjhPb0ZRZnNTZXRILzZSTGMKr9GrYDp6XOafusaseqee4GGvHfRRiSNL
        mid92I9ae2CDsVXRSvIvc7cF5cPbzJyfYzrQgmmHJim/XEHgtn6WNg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-10T16:44:31Z"
  mac: ENC[AES256_GCM,data:1T/b544Gtel27gKDTIdJEUoijAjETHmlw7h1Z4dddM17O3adSmOIhrFS4f3IuHrnjJJzjxXx7IpJWxYTfEFfoXLFaIxEpHNe5sCNCtSsMzx+BCzQC/QoH1ZyLWDTPRiwL9tL9K3emrConhIejb1brxNxxYEt8S/w/cRUvYDGcCQ=,iv:nGGNnQkWLvSHTRfpsQeyD/ZMYL0V3eHrGUYyDk05Fuc=,tag:zbyuqTErN1AeFebTPDDHnw==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
