version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:OKzzo5e3N3pGuN+ODLuTzj6tyuWYdCk=,iv:WTRw4k4SmAqTzBRc8D3JGuSM+Oi/XgnBzef/LvcI0kg=,tag:JIZ5/DCDHLmfXTMeQa+blA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:zz6MOPw+FV5G+qsizYtO3qtTraQ+JoGmb+c8FQRrJbPOn6gdUu1V6I2cKr98Wpmy9ZHCgR6Aoj7d0p6/tP+YN0wGEnbu6c56ihNWJEMMbCnk0tAO8tCgoumhPHPtKweujHX/0zZoLmvKUpLIZGwrS0d6ewDd/Wo4OPINSDZumeUqE7KyaSCR1R3zK63ceBLCAWcQhKXnyXaf6nSGD6vAPYJ8k1iNHb1uVrOY9N3HgORgG7kTn4Xp7Gd/xSt1Rl2gfULQgP2hmOCSTotZt3Bp5DElLComdrEdNoSRf5fVT+gOfaHOf+bCdREwcFkBi3BCOwlozvI4KD7vxAOaka0ShaTrZBrASG1CzYvWf+dPXh3v19VCXsTiYEPt/b1v3HLhmolnddHA5YRxq9GCCUcRi4/WgngGZW851iFiObjJgnF/v4swWu4VU5D9TI9KE7Ezlk61lCQQvZqPIbTLmjz275EtQh9m8bqXsDL0qA9Om/3n5jItf7p0nO5FeR4lktbp4eOmu21o+b6KgifjF0LgBKQGfkLPmDq6xd30dgEwxyUm8dYj6bOZ8dHlrcqkzARAf2ixgnhA1jGPzoPcIUM5Ryj9tIJZN3g5eUJYGnmSlOmIF0AaJfGI6hZnV06jfVcUlXXMrpphA88bTFVqO4xYuOGA/GmwRlWLlAHFNLE2EkCbizWgkw4RNSV6NFbRCXANarRz9XYWw85eYAecBbeSUw1WufMSwA9dwmEPsslGVT5xHjVrE8PeADBtrr3PX7K4cIxSutsWnnfIyHOpvT6NusTVszfQHBEqCEPw6U8NBlDnZs8YvW2KmdEiMX87WzIAFzUSBoccTmE88QdZ1TuMVP74vmtZ/bvxsKis/miXvAvUr25w,iv:FEoXbzGvkonhksoQ1pKl+0Ys5AonjV5nPLDCkISQ9l8=,tag:O/LF9GWRuGVQy4r2/ClOXw==,type:str]
    key: ENC[AES256_GCM,data:lI1A73X9C2UFqxG+RQn59tSHjq2pz04uEvtmzYfUTyZFjfeuYesVVEpVGsm++HJrKRswHSd8XX8EaFE9feuf/SjGg4KgydI6W2Tn0I8R0HCwA+cc/B1dG010Bw9uhziRsqVYbcJOECPhHfoeYjbda+MiBE1Ta0YaSuckhtrIeSkZSEpU1v0sWpAzMRXwDM5yHL5tfPLziewn2UueSxCQe6QxoNVFGKUHXba3I3ADuNsKM2+1,iv:GXvTAhTo4H6cNn6g8TTLvgBLIT/Cefw09LhHtB58aZc=,tag:DKPABNbSpFf8CTYQfJruZA==,type:str]
  certSANs:
    - 127.0.0.1
    - 10.1.20.120
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.32.0
    extraArgs:
      rotate-server-certificates: "true"
    extraConfig:
      maxPods: 150
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
  network:
    nameservers:
      - 10.1.20.43
      - 10.1.20.1
    hostname: k8s-2
    interfaces:
      - interface: eth0
        dhcp: false
        addresses:
          - 10.1.20.12/24
        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.20.1
        mtu: 1500
        vip:
          ip: 10.1.20.120
        vlans:
          # Services Network
          - vlanId: 30
            dhcp: false
            addresses:
              - 10.1.30.12/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.30.1
            mtu: 1500
          # Trusted Network
          - vlanId: 40
            dhcp: false
            addresses:
              - 10.1.40.12/24
            routes:
              - network: 0.0.0.0/0
                gateway: 10.1.40.1
    disableSearchDomain: true
  time:
    servers:
      - 10.1.20.1
  install:
    disk: /dev/nvme0n1
    extraKernelArgs:
      # Use eth0 instead of eno1
      - net.ifnames=0
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
    image: factory.talos.dev/installer/6e6f23cd5ca6099bbe4be57a2218f628e61314545d5da36dcc6516c59d3be64f:v1.9.1
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins]
          [plugins."io.containerd.grpc.v1.cri"]
            enable_unprivileged_ports = true
            enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 1Gb/s
    net.core.default_qdisc: fq
    # 1Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    net.ipv4.tcp_congestion_control: bbr
    # 1Gb/s
    net.ipv4.tcp_window_scaling: 1
    # postgresql
    vm.nr_hugepages: 1024
  # sysfs:
  #   devices.system.cpu.intel_pstate.hwp_dynamic_boost: 1
  #   devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
  #   devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Thunderbolt
      - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
      # Coral Edge M.2 TPU
      - SUBSYSTEM=="apex", KERNEL=="apex*", GROUP="44", MODE="0660"
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:Tp3tilNIejkSNuzIIUcQJ09zRn7DUyj62usaqlJkcSjzqpMeeJjrxeITtt0=,iv:9uvpcSccF2L2OZ4pkd8MHPFn/nucNynxYAYQqnlnLAA=,tag:79XU4GKHW+xIfuew4lGPRw==,type:str]
  secret: ENC[AES256_GCM,data:42hrj4fq6shjJd+AW3TxAWzPEkKqBYJ2Y25DrMH5E1DO0thNzEtHjQHrMac=,iv:qRRtbxf+h1+VzA4hePyyHYdpmUAGpcvy49MXXrDFJyY=,tag:zYo2G0lB4ak53iltf5BkgA==,type:str]
  controlPlane:
    endpoint: https://10.1.20.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:Es1vaL+tYVNNwqsjvJP16lMQxIYMWZw=,iv:0hRvw02f3r/ZBsnFmE4YcS8259tk1Tatek7fGX2wC2s=,tag:dXWoQrLwjO0SNKz1POOv4w==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:1jW/C17ZXsSFWgVwrVQ2v4zQ03sn43vQWgBLt2aWxmIJi+9emoZ9y0HuA5A=,iv:Ea/0fWO4c3Nbu+B8OlVLP9GSd886Cxn78qjjfP46x+c=,tag:/1AnE9YmfvEo0g7V3LwJrg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:geC+gFLhhJqHBgMfxonvm2Xac6C85G7ZvwHTqg+USp/iNuT+rvVfXLV6QlBAAbQFSAyXHxOOe2zzst83OLMZhH1/QRFsw8PJJ+UBSAqjo1f8aMYepiRcLj1BIWRizOcz49n6vSxCbvStt8Mh4zPNnNcYqenj8Eww218ouPd31atuAplNFNqCkI5JnFg11BeuS2jpIQfUO+6VJjGAmxm/0cIW4YJ7If+5cK7ADzwBGKuitb8CRFxYndlQu9fnNkPhOETCYlYNLcVbym12RO2a1or/p7xBJlCvVfSkhj2Ohw/udvxK9iFv8B3O+MNMpQ6LRXh0t5v2taSs//PrJFSHHm6OR4zxloVoCNdM+ZZGxMyq39wq77LirL8jmhBM06u+GPirXbBav3EdCEiobBZHeLqnJFmxW6seXmReKIO8AdtMHW2uourwjX7RrvdqHf26AlwQkbe5WFPAReW3J27jvyZgZa9FKYw5hpj3eQi7TN4ZEauwA+3CdYGXhreL8OPwCvhNy5Ys+BKZOm8afmID7XrJQER2c4s0SWuq70lGzSJnuNC/Izxtm/9pSKJS73gedu3FS+p1dc1h+d/kcn4lwl16ySW/dYr9a3vSUoOD4GhK8FOX6xeIYeV7E+PaZhXTbzDQVE43Qy6JNTc9ZzteXq5dwnFzkSuRLANGiBbKUtukIYnAcWLGOKt7wlDcJTKrq5Zl+5zeed9f3vH5vbUTfG5PYIqGGuFKCFizaCGdXGKH5ibfTqM7Bag64h7XM6ptZiff/3w4l7/UGMtzwh4a/BbfoR+sIAMhbiEFDthvQ4CLBx2K4lLZfVIkpppeJO/uoSIwBedaRuUMv2DhP/OGNNa+aBQmGnVycnnTcx3c2qRPW2bKxlkRimkfmMXAZPbD520C13uiLq8HQqsRau2DxjcuEZa+aiPgO+ZcCTV1gNJpucpmV1xOYBwR0ITeJo/X685jFzb5+EkIT6u7DW+2EwFlG+7VGSc00CQrXKB7tdrlrWEng0Ly4sl5fYrxaqpqnGUEyZbNYUzSqrjm0AzyEaa29TY=,iv:GPNHZaLjvz47AiLxzaEO52vZx2DmUaxDSkgekgpoPr8=,tag:CeLII0M1z2Y0Xp7B1DhA3w==,type:str]
    key: ENC[AES256_GCM,data:zUyNg6new2BHDHyDyaYRPoUmoA2TtAuSgVS/BeTBQoxexGG011K2rlDt05YIQ3FVyIs9ZKZyEJzMGzHGnhZgoVKTIHfSCEhb1LerUYhrWkv8MVT9RmFqSrlGVQlJuicJPBTcc2TgRHodO+mC+0YQC2HvbA94Q6MYFjwg89OVIQNfko2KjD9FCWBIaJKgrmC84t8XZIdDzhSLMwFD6/nALTLtzyYaxzlWFgCqq8KNC4HSDj29+Qf4tZ1mio+mBEas1a30YELSj8c+Wo0JwdeYJGZr8UY2pYXfFylrmaMTirsUZnnzhqYHrv7Rl2lGjjGYlv4RNky93DNfLetvdYwr3XRLkpEkMxEy2ncK9J2pLtrwpaUxzfQoSH1cDoRc8ZH56JXGlQmvLGjFxwy+6ueyPQ==,iv:PBQ4TBJC2AokQBl0LtCbyBiXD01skLobh63/wL53gFc=,tag:7JOikzxOF7Du6d2u/PuLgw==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:MBnXA2RIcriiNsWn37N+LEHHpXfEKYTgr1aQQk69M1kYqNoBzUBmCIguBo/EKsdxx4mMNlDhwbWerGfxP+cM5ssVekuzPUaGxLrLB7Hum7ZJZzC1ezWtU8BSi76Y1GB4ew7aDr5ZmKptmcEmU/SPaXt36givZuWvq/dlToyhRaIIcH3FbwgIKVAJwlXVnsrr5glvdf9Ysd8SuYqXm9gRHr8h5h+WOYu3pqSPiLw/EBARsHtMUxBPc8Ok6DASUppq8dK5w5Vwx30q+i3ThH1ANYjX3C2vukQUvHX4IH9QnZqj7rrgGVJIXfeHm6bHSKZyIg/TFKDnt+YO8USdGhxJ+kax4u9JKhX/JRLkiI2H4DEreS9u0HEHc45YevVHdhq6NA6Q2enYdM8S/Uo+r3v8JMpsRnfn2lw+CjU7Udimbfr499JH4NObnY5D1ANsfAK9lN6CjQIOtZy3UNjDk4Y9mJRTbsANhDwsBoQtDVJalby6SvY3rSZ3UFfLyNdncklAkyiCuQWy3Fzbmf/yeOhRUj89Xy6GojiLPKT6Ujie0vBevJHW7PmqYlmqx0HwZcBmG1qJMaL/nw8BzxVtZLxum1/Xck20zgxAuVKty7wsKNjyy5e8Msez+4QlyE5pWj0GkvBTyuibgW9dxfLJKXdRvymxz1G9/86BWY7mxJ1zuvaJUwAJWeI/TfbjMp+TZODPxRhbQxep1FMcH+YeFBwcWbGe11KGKWMtL9JaBfrXd2/4WU0337E0nW0ZB37rs8YnQnUEm+kpTqL6ireQwqnRmz1FF9I4AXDKgxDHvUGp8Jx+ChBKqNVsCnoR+ghr0uLiq36JknpQ8cf6LsrlojkU+XGl9m5XSrxeB/3qkmpSfOnzpsxwhyjBD5+mzsgTtd/YTMgAgLMsv9lj2siID/+1C0s5K+VVmCPhpzqrQVmr2Eno8PaA7L9OOm8MrzpPNayO,iv:p0fwDu9MgzXpdqrQEkIdm2xC+jFhRaomfSo0CL1mpac=,tag:tzBL/FAuu8gSgsLEdcLbKw==,type:str]
    key: ENC[AES256_GCM,data:MgYjlkLeeN53YDg0SaECZgtWgpmcLXBIEhE2hWIgIQqbKSayMQIxmwqW01brzbMkue9RIhXJRrbwDMuryDTPjWgOR/HIeeidWsv6XHZolvkOKAht2IJBbCSf4qloGiEwRXxJQz3j6o1LLQo4lEGzUcoUdsbAHkuUxyCa2+drJ8PwNkTma5Ji5W3jTaXScqTo1Cq9uN2LYAPAwDd0w5z9YvGJmyWQLJ48Y8OUYNhbj9pqfLT6n+QwHs7KvIpKodrbcoDHfyp2r25TrCLQ+ZiPHWbk4skDpunN9MxDvSl9bGmSlb/uEdmoYQEHJUXpLWvggUofU8okuif5H91SqLr0hqxaOl9HeNYqMZU07eX73Y5S2O+cqmcNTLH3ouRxKfqN0chNFtlwPXBmjEt3sgIn9A==,iv:1l90Lt49Cvbx6UvtDijwxGbGl8GiCU/p2pbmFwFibw0=,tag:vvtbh3zj4PrYx5Z09tpSSg==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:N8AJh8sVpz+yFJzcLSAOC/PtLBH5ctzM4MI9IKXbPi4=,tag:7m52hlLHB24c5rKQbCbXSQ==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.31.2
    certSANs:
      - 127.0.0.1
      - 10.1.20.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.31.2
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.31.2
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:IsbpaSugDtLM9z50kxht4blaW3SXamoatjD8DJBfdmiesnlIljTnwraRYV6z8Wp6ync6NnqsVX+eH8WxeJ/L9ETWrRNadKC3dGplFjSlswwiugJ4lGeOQWNfeEDITkPpAnI3YI2KsrT6xRvvgxBWuUVNqewYuH9MVzYXK0H/JXk+xDK1oj8bo/TZzVyyMnsND4WtEKAMrVtiCkHsFijsT1DNR86bueZmg2HEI9lo5izxqbe6YY32JAJiPVfe/eroiYmBxwt2JwAb7wal+o0IsClD+DqHzhe+4XeySQwDK1V/u9uyMF6WodOMxSRbxScfO7Bit2Gcn+T2F/bftab18Ixi9zkRBA7qgmF+y8XJUegIYmH+UIbFBZ1cj3DVdgENwECKnwbiNffaXviHulP7L0k4ZX2vf3tDu7vtOyFE/i2V1TWDKlpsNym9HedIr3gTPwFPpId0FQDm3FRmQKpqWSW48tA5B6HWogWQki33G8J1G8u/WQB0wzvOmW9D69R44YxCJ+laRTkg7N6+kLwEkuN6oObtH/aFARMQHYqlXDbrv/N+o08Iz3bSu3hmp2wV2/d4Xrg1RcbB8S80cBnGmWpLligmeq7peBQbFp2JPt4c10BMTBJ52765biTuz0cG4buYCCCDtKYarDoVEewRR4ctVWlWsKDBP6+7cruhtA8yFSZbX3aAr2LYMcSvUxcLqpxCAOHr9rcq3UkEEBgLI1ZgWneBXd7zFitzuxlSUz5OlbUMtVQaRcd9aSKpjOR6JrYxbT3M+flzzSvH9jhqwIQpkRxMO//6lHAxXbEeeOIPGMlSieXlByc1ecCgyZA2agUTFlXLzD4vYjCoqnqdl3FAgXHRtL33RCtlOd1uWcLyma8rTlGE/fhGydJLfLQI3TtmknQUIrO1gHb9EHTjYlU4bvghGzgf7MsHeuuB89rojsPmzVWFJYfynOJh91JmTSunjgsLgXeEtf938Wb5WxZ23Bw8oCnD3Agp5LVV7mkLZYKff7x5DyeYX6pnWgjm,iv:iIfz75HbTKFtpQYv08AIhWHqaeuBH/UaIHAn3We5LsI=,tag:o6mOREYsOAcp8GJiEDXckw==,type:str]
      key: ENC[AES256_GCM,data:BXr8bOuO9+M1usRcvImp+EsUYDw0nQV4alKM2KU6L4qxs1izDvnkMjnZG/2V4/24O3evIBJ28yeIsWYpn9ySIIv593tzG6eXeZsMb9t516dUBMMbeVoQUoAqTJKGOGAbn7GGQBFZdNFdAdFkA2hzYFRAIjDUdpddSTIhnG/UlbbA6AghsRGeEf1CAMtURivGEWaNN/+BytBke5HsKL3RwQXwJe0nOlH+0p+QInIWEKPrXr99whJSrsK3pcPLlG6WgpRo5SUfEmQgKiEcTYeH7BZ/wMe4xeLNzMR9aHdPRiD2N7LtotRqxWZASEh9kEUZQq3mu6GqL1eDYbLYHiZ7OBRJp91/XNSOzMww/b0f9J2pv30TEf985fhOv5jEYOn2bC1TqoEDMEiVs7GbMJJvDA==,iv:ZTUoGqRf71lTOaxRO0bcxT1zR+JlLiDveyAfLmdOJ9Q=,tag:1etf1vUDZrKnBK7GnYL1zw==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.20.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlblNQelgwSlRiZU9JNUd1
        Q1Q1TVpIWGY1NjA3ZWNkRUdpNEdIVlZSSFZnCnBsdWNLOXVtVVEvbHVPWHJDNlpN
        dCttRmRrSmlubTBaRG4xTVkrZXR1RVkKLS0tIHJyOTFBTFBuOXpFeitteGhhSXc2
        TDVPaWxzaTkwVWxJU0Q2anIxRitPSEUKQ8Zm3S3Wxm63nY8+cHe4//OI+AloJo2y
        HpuyxRupUFoH18NyvJK6Xo1hQx5abqCRenGnL3UG2Gr+yA6E8PtitQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-10T02:42:38Z"
  mac: ENC[AES256_GCM,data:IZ8AhqbJCxXcPqjRXT9cRjX9yzHlI2VPrj93LGDvY/cpeBAAbStCYDYyVjODcZUqPaJBgtFwpS1pNadZpxFT+oiLQzDTwvjCzGOGmzX461C4VCrsDrefadeuy5Rl62a11CJ1Bo88zILcJvpq3OCh2RafA+wu3tctPOEoeTQFb3Y=,iv:lFBHO0U3IOPn+JNavjpcTJ6Y4jMpMYUJ90nImLQAeig=,tag:LdEGeuNEctDBVO7EzLSJeg==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
