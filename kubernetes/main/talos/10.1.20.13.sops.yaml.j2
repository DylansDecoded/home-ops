{
	"data": "version: v1alpha1\ndebug: false\npersist: true\nmachine:\n  type: worker\n  token: vafezn.u0kqzs15a8bh29z6\n  ca:\n    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEExTEtrS2JTc0tweU45ME9wS0EvUHdNQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU5EQTNNamt5TURNMk1USmFGdzB6TkRBM01qY3lNRE0yTVRKYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBaXdzbitFZTA2cUNabGM3TkhNOHdxVGQwYWx1ZWo3cVNuRk5RCmd5RnJUa0NqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVbW5yUnVQSTQzRjl0YlZibAowY1d0Mm9DdFRRWXdCUVlESzJWd0EwRUFlaDhiSHFiTWo3cTllWTA5S3ZXK1IvU1JiTzN1TEE5UU1zVTZCTFFiCnhqNGR3c2RxOFFKQkQ0UHpYNmM2ZzgvQWdpcFlhNHB5bDdSdExpbDk2bkZJQVE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\n    key: \"\"\n  certSANs: [\"127.0.0.1\", \"10.1.20.120\"]\n  kubelet:\n    image: ghcr.io/siderolabs/kubelet:v1.32.0\n    extraArgs:\n      rotate-server-certificates: \"true\"\n    extraConfig:\n      maxPods: 150\n    extraMounts:\n      - destination: /var/openebs/local\n        type: bind\n        source: /var/openebs/local\n        options: [\"bind\", \"rshared\", \"rw\"]\n    defaultRuntimeSeccompProfileEnabled: true\n    nodeIP:\n      validSubnets:\n        - 10.1.20.0/24\n    disableManifestsDirectory: true\n  network:\n    nameservers:\n      - 10.1.20.43\n      - 10.1.20.1\n    hostname: k8s-3\n    interfaces:\n      - interface: eth0\n        dhcp: false\n        addresses:\n          - 10.1.20.13/24\n        routes:\n          - network: 0.0.0.0/0\n            gateway: 10.1.30.1\n        mtu: 1500\n        vlans:\n          - vlanId: 30 # Services Network\n            dhcp: false\n            addresses:\n              - 10.1.30.13/24\n            routes:\n              - network: 0.0.0.0/0\n                gateway: 10.1.30.1\n            mtu: 1500\n          - vlanId: 40 # Trusted Network\n            dhcp: false\n            addresses:\n              - 10.1.40.13/24\n            routes:\n              - network: 0.0.0.0/0\n                gateway: 10.1.40.1\n            mtu: 1500\n    disableSearchDomain: true\n  time:\n    servers:\n      - 10.1.20.1\n  install:\n    disk: /dev/nvme0n1\n    extraKernelArgs:\n      - net.ifnames=0        # Use eth0 instead of eno1\n      - apparmor=0           # Less security, faster puter\n      - init_on_alloc=0      # Less security, faster puter\n      - init_on_free=0       # Less security, faster puter\n      - intel_iommu=on       # PCI Passthrough\n      - iommu=pt             # PCI Passthrough\n      - mitigations=off      # Less security, faster puter\n      - security=none        # Less security, faster puter\n    image: factory.talos.dev/installer/6e6f23cd5ca6099bbe4be57a2218f628e61314545d5da36dcc6516c59d3be64f:v1.9.0\n  files:\n    - op: create\n      path: /etc/cri/conf.d/20-customization.part\n      content: |\n        [plugins]\n          [plugins.\"io.containerd.grpc.v1.cri\"]\n            enable_unprivileged_ports = true\n            enable_unprivileged_icmp = true\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n          discard_unpacked_layers = false\n        [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n          discard_unpacked_layers = false\n\n    - op: overwrite\n      path: /etc/nfsmount.conf\n      permissions: 0o644\n      content: |\n        [ NFSMount_Global_Options ]\n        nfsvers=4.2\n        hard=True\n        nconnect=16\n        noatime=True\n  sysctls:\n    fs.inotify.max_user_instances: 8192    # Watchdog\n    fs.inotify.max_user_watches: 1048576   # Watchdog\n    net.core.rmem_max: 67108864            # Cloudflared / QUIC\n    net.core.wmem_max: 67108864            # Cloudflared / QUIC\n    net.core.default_qdisc: fq             # 1Gb/s\n    net.ipv4.tcp_mtu_probing: 1            # 1Gb/s | Jumbo frames\n    net.ipv4.tcp_congestion_control: bbr\n    net.ipv4.tcp_window_scaling: 1         # 1Gb/s\n    vm.nr_hugepages: 1024                  # postgresql\n\n  # sysfs:\n  #   devices.system.cpu.intel_pstate.hwp_dynamic_boost: 1\n  #   devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance\n  #   devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance\n  #   devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance\n  #   devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance\n  features:\n    rbac: true\n    stableHostname: true\n    apidCheckExtKeyUsage: true\n    diskQuotaSupport: true\n    kubePrism:\n      enabled: true\n      port: 7445\n    hostDNS:\n      enabled: true\n      resolveMemberNames: true\n      forwardKubeDNSToHost: false # Incompatible with Cilium bpf masquerade\n  udev:\n    rules:\n      # Thunderbolt\n      - ACTION==\"add\", SUBSYSTEM==\"thunderbolt\", ATTR{authorized}==\"0\", ATTR{authorized}=\"1\"\n      # Coral Edge M.2 TPU\n      - SUBSYSTEM==\"apex\", KERNEL==\"apex*\", GROUP=\"44\", MODE=\"0660\"\n       # Intel GPU\n      - SUBSYSTEM==\"drm\", KERNEL==\"renderD*\", GROUP=\"44\", MODE=\"0660\"\n  nodeLabels:\n    topology.kubernetes.io/region: main\n    topology.kubernetes.io/zone: w\ncluster:\n  id: cqtklx71AK2tF3_KgELXPJsszoQ8ZNrqXqj88sxTLhw=\n  secret: SRpsXhS7f4mp9WKf6T8jhTdnoYOkD7jrmnA4RmIMYXs=\n  controlPlane:\n    endpoint: https://10.1.20.120:6443\n  network:\n    cni:\n      name: none\n    dnsDomain: cluster.local\n    podSubnets:\n      - 10.42.0.0/16\n    serviceSubnets:\n      - 10.43.0.0/16\n  coreDNS:\n    disabled: true\n  token: q2dxad.mh582h8fvxh8qemh\n  ca:\n    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpRENDQVMrZ0F3SUJBZ0lRTityV0UycXZpc1RKcFBpaElaakJhakFLQmdncWhrak9QUVFEQWpBVk1STXcKRVFZRFZRUUtFd3ByZFdKbGNtNWxkR1Z6TUI0WERUSTBNRGN5T1RJd016WXhNVm9YRFRNME1EY3lOekl3TXpZeApNVm93RlRFVE1CRUdBMVVFQ2hNS2EzVmlaWEp1WlhSbGN6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VICkEwSUFCTldycWpTTjZna0dWYTRTWE53WkZOWm5QU3Eya2JtTlpQUVdSSWFMY1VjbmNRN1RDUXE4eUhBV2VzTDEKN2puWE5mV1YwZWR0U05EakluL3U2U3V0VWM2allUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWRCZ05WSFNVRQpGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFCkZnUVU3SHA2NFNGNUdGOWNhcHR5b3Blc042Z1JSWUF3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnRXZWWWh3cUUKOHdhSDVhT2FzbEt2SkNRRkNBUld2M2tnMUVSMUM1V3llVllDSUM1SFFIZzRHSlQ5Y2UvN2NsWmNEdTE0VnlTeApDN1ZqUytGaVlCUDFYNHlwCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\n    key: \"\"\n  discovery:\n    enabled: true\n    registries:\n      kubernetes:\n        disabled: false\n      service:\n        disabled: true\n",
	"sops": {
		"kms": null,
		"gcp_kms": null,
		"azure_kv": null,
		"hc_vault": null,
		"age": [
			{
				"recipient": "age1jwm8ccjgfy04r9rwh65rehk72j6rkawkpjnf4rcu4ukwlcfyquhq4p2q23",
				"enc": "-----BEGIN AGE ENCRYPTED FILE-----\nYWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB5bEc1UUNoWmJYQnlFWEJs\nVWl6M240dVRDQ1Fja3Z0QWljSXUxMVRyMEQ4ClIweFhhdEw1eUxpY3JWTlVBbTVZ\nVWQ0YVlCZXBqaTNiV3VmYTdwMWIvenMKLS0tIHhuWkNIald0Z3NvSHZrYkdwelV5\nSXNtMHlsUHhSbnJYcWc0b01lcks1aXcKXDp8aFkJ4z6/BN3RlMih4BMWlfJL4nRN\nzSrjWifJs/DKUwFsQT0I9Jrp9ozNfrE+oku8/XNSflBklatBU2wGYg==\n-----END AGE ENCRYPTED FILE-----\n"
			}
		],
		"lastmodified": "2024-12-31T02:48:19Z",
		"mac": "ENC[AES256_GCM,data:UPjP9AJiHjXdyqUQIVoid7gcfPCnjNmPntlEP+N20dscSAV/gpg9/apl8P+lxIGkc31LklTIkUfQHR419ct9K5IKG/Zj9kebXhDoWYC+kH0cZ+AEk5HZZ5F+II6MvosQP1B5xkH7dWruEeiIYL/fhsaJnZSATSVA3GurycYaNAU=,iv:4GCqdmYS1zBAYiDvMWNjAdmcfvTXjL7drA7iEgeOifo=,tag:lrVqtq1eyOUIUGtqJ0LEmQ==,type:str]",
		"pgp": null,
		"encrypted_regex": "^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$",
		"mac_only_encrypted": true,
		"version": "3.9.2"
	}
}